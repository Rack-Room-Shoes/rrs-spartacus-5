/*
 * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { CheckoutPaymentMethodComponent as CorePaymentMethodComponent, } from '@spartacus/checkout/base/components';
import { DP_CARD_REGISTRATION_STATUS } from '../../../utils/dp-constants';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/core";
import * as i2 from "@spartacus/checkout/base/core";
import * as i3 from "@angular/router";
import * as i4 from "@spartacus/cart/base/root";
import * as i5 from "@spartacus/checkout/base/components";
import * as i6 from "@angular/common";
import * as i7 from "./dp-payment-form/dp-payment-form.component";
import * as i8 from "@spartacus/storefront";
import * as i9 from "./dp-payment-callback/dp-payment-callback.component";
export class DpPaymentMethodComponent extends CorePaymentMethodComponent {
    // TODO:#checkout - handle breaking changes
    constructor(userPaymentService, checkoutDeliveryAddressFacade, checkoutPaymentFacade, activatedRoute, translationService, activeCartFacade, checkoutStepService, globalMessageService) {
        super(userPaymentService, checkoutDeliveryAddressFacade, checkoutPaymentFacade, activatedRoute, translationService, activeCartFacade, checkoutStepService, globalMessageService);
        this.userPaymentService = userPaymentService;
        this.checkoutDeliveryAddressFacade = checkoutDeliveryAddressFacade;
        this.checkoutPaymentFacade = checkoutPaymentFacade;
        this.activatedRoute = activatedRoute;
        this.translationService = translationService;
        this.activeCartFacade = activeCartFacade;
        this.checkoutStepService = checkoutStepService;
        this.globalMessageService = globalMessageService;
        this.showCallbackScreen = false;
        this.showCallbackScreen = this.isDpCallback();
    }
    isDpCallback() {
        const queryParams = this.activatedRoute.snapshot.queryParamMap.get(DP_CARD_REGISTRATION_STATUS);
        return !!queryParams;
    }
    hideCallbackScreen() {
        this.showCallbackScreen = false;
    }
    paymentDetailsAdded(paymentDetails) {
        this.savePaymentMethod(paymentDetails);
        this.next();
    }
}
DpPaymentMethodComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: DpPaymentMethodComponent, deps: [{ token: i1.UserPaymentService }, { token: i2.CheckoutDeliveryAddressService }, { token: i2.CheckoutPaymentService }, { token: i3.ActivatedRoute }, { token: i1.TranslationService }, { token: i4.ActiveCartFacade }, { token: i5.CheckoutStepService }, { token: i1.GlobalMessageService }], target: i0.ɵɵFactoryTarget.Component });
DpPaymentMethodComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.3", type: DpPaymentMethodComponent, selector: "cx-payment-method", usesInheritance: true, ngImport: i0, template: "<!-- Copied from core module except #newPaymentForm -->\n<ng-container *ngIf=\"cards$ | async as cards\">\n  <h3 class=\"cx-checkout-title d-none d-lg-block d-xl-block\">\n    {{ 'paymentForm.payment' | cxTranslate }}\n  </h3>\n  <ng-container *ngIf=\"!showCallbackScreen; else loadingPaymentDetails\">\n    <ng-container *ngIf=\"!(isUpdating$ | async); else loading\">\n      <div\n        role=\"status\"\n        [attr.aria-label]=\"'common.loaded' | cxTranslate\"\n      ></div>\n      <ng-container\n        *ngIf=\"\n          cards?.length && !newPaymentFormManuallyOpened;\n          else newPaymentForm\n        \"\n      >\n        <p class=\"cx-checkout-text\">\n          {{ 'paymentForm.choosePaymentMethod' | cxTranslate }}\n        </p>\n        <div class=\"cx-checkout-btns row\">\n          <div class=\"col-md-12 col-lg-6\">\n            <button\n              class=\"btn btn-block btn-action\"\n              (click)=\"showNewPaymentForm()\"\n            >\n              {{ 'paymentForm.addNewPayment' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"cx-checkout-body row\">\n          <div\n            class=\"cx-payment-card col-md-12 col-lg-6\"\n            *ngFor=\"let card of cards; let i = index\"\n          >\n            <div class=\"cx-payment-card-inner\">\n              <cx-card\n                [border]=\"true\"\n                [fitToContainer]=\"true\"\n                [content]=\"card.content\"\n                (sendCard)=\"selectPaymentMethod(card.paymentMethod)\"\n              ></cx-card>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row cx-checkout-btns\">\n          <div class=\"col-md-12 col-lg-6\">\n            <button class=\"btn btn-block btn-action\" (click)=\"back()\">\n              {{ backBtnText | cxTranslate }}\n            </button>\n          </div>\n          <div class=\"col-md-12 col-lg-6\">\n            <button\n              class=\"btn btn-block btn-primary\"\n              [disabled]=\"!(selectedMethod$ | async)?.id\"\n              (click)=\"next()\"\n            >\n              {{ 'common.continue' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n      </ng-container>\n    </ng-container>\n\n    <ng-template #newPaymentForm>\n      <cx-dp-payment-form\n        (setPaymentDetails)=\"setPaymentDetails($event)\"\n        (closeForm)=\"hideNewPaymentForm()\"\n      ></cx-dp-payment-form>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #loading>\n    <div class=\"cx-spinner\"><cx-spinner></cx-spinner></div>\n  </ng-template>\n\n  <ng-template #loadingPaymentDetails>\n    <cx-dp-payment-callback\n      (paymentDetailsAdded)=\"paymentDetailsAdded($event)\"\n      (closeCallback)=\"hideCallbackScreen()\"\n    ></cx-dp-payment-callback>\n  </ng-template>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i7.DpPaymentFormComponent, selector: "cx-dp-payment-form", outputs: ["closeForm"] }, { kind: "component", type: i8.CardComponent, selector: "cx-card", inputs: ["border", "editMode", "isDefault", "content", "fitToContainer", "truncateText", "charactersLimit", "index"], outputs: ["deleteCard", "setDefaultCard", "sendCard", "editCard", "cancelCard"] }, { kind: "component", type: i8.SpinnerComponent, selector: "cx-spinner" }, { kind: "component", type: i9.DpPaymentCallbackComponent, selector: "cx-dp-payment-callback", outputs: ["closeCallback", "paymentDetailsAdded"] }, { kind: "pipe", type: i6.AsyncPipe, name: "async" }, { kind: "pipe", type: i1.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: DpPaymentMethodComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-payment-method', changeDetection: ChangeDetectionStrategy.OnPush, template: "<!-- Copied from core module except #newPaymentForm -->\n<ng-container *ngIf=\"cards$ | async as cards\">\n  <h3 class=\"cx-checkout-title d-none d-lg-block d-xl-block\">\n    {{ 'paymentForm.payment' | cxTranslate }}\n  </h3>\n  <ng-container *ngIf=\"!showCallbackScreen; else loadingPaymentDetails\">\n    <ng-container *ngIf=\"!(isUpdating$ | async); else loading\">\n      <div\n        role=\"status\"\n        [attr.aria-label]=\"'common.loaded' | cxTranslate\"\n      ></div>\n      <ng-container\n        *ngIf=\"\n          cards?.length && !newPaymentFormManuallyOpened;\n          else newPaymentForm\n        \"\n      >\n        <p class=\"cx-checkout-text\">\n          {{ 'paymentForm.choosePaymentMethod' | cxTranslate }}\n        </p>\n        <div class=\"cx-checkout-btns row\">\n          <div class=\"col-md-12 col-lg-6\">\n            <button\n              class=\"btn btn-block btn-action\"\n              (click)=\"showNewPaymentForm()\"\n            >\n              {{ 'paymentForm.addNewPayment' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"cx-checkout-body row\">\n          <div\n            class=\"cx-payment-card col-md-12 col-lg-6\"\n            *ngFor=\"let card of cards; let i = index\"\n          >\n            <div class=\"cx-payment-card-inner\">\n              <cx-card\n                [border]=\"true\"\n                [fitToContainer]=\"true\"\n                [content]=\"card.content\"\n                (sendCard)=\"selectPaymentMethod(card.paymentMethod)\"\n              ></cx-card>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"row cx-checkout-btns\">\n          <div class=\"col-md-12 col-lg-6\">\n            <button class=\"btn btn-block btn-action\" (click)=\"back()\">\n              {{ backBtnText | cxTranslate }}\n            </button>\n          </div>\n          <div class=\"col-md-12 col-lg-6\">\n            <button\n              class=\"btn btn-block btn-primary\"\n              [disabled]=\"!(selectedMethod$ | async)?.id\"\n              (click)=\"next()\"\n            >\n              {{ 'common.continue' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n      </ng-container>\n    </ng-container>\n\n    <ng-template #newPaymentForm>\n      <cx-dp-payment-form\n        (setPaymentDetails)=\"setPaymentDetails($event)\"\n        (closeForm)=\"hideNewPaymentForm()\"\n      ></cx-dp-payment-form>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #loading>\n    <div class=\"cx-spinner\"><cx-spinner></cx-spinner></div>\n  </ng-template>\n\n  <ng-template #loadingPaymentDetails>\n    <cx-dp-payment-callback\n      (paymentDetailsAdded)=\"paymentDetailsAdded($event)\"\n      (closeCallback)=\"hideCallbackScreen()\"\n    ></cx-dp-payment-callback>\n  </ng-template>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.UserPaymentService }, { type: i2.CheckoutDeliveryAddressService }, { type: i2.CheckoutPaymentService }, { type: i3.ActivatedRoute }, { type: i1.TranslationService }, { type: i4.ActiveCartFacade }, { type: i5.CheckoutStepService }, { type: i1.GlobalMessageService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHAtcGF5bWVudC1tZXRob2QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vaW50ZWdyYXRpb24tbGlicy9kaWdpdGFsLXBheW1lbnRzL3NyYy9jaGVja291dC9jbXMtY29tcG9uZW50cy9kcC1wYXltZW50LW1ldGhvZC9kcC1wYXltZW50LW1ldGhvZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9pbnRlZ3JhdGlvbi1saWJzL2RpZ2l0YWwtcGF5bWVudHMvc3JjL2NoZWNrb3V0L2Ntcy1jb21wb25lbnRzL2RwLXBheW1lbnQtbWV0aG9kL2RwLXBheW1lbnQtbWV0aG9kLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR25FLE9BQU8sRUFDTCw4QkFBOEIsSUFBSSwwQkFBMEIsR0FFN0QsTUFBTSxxQ0FBcUMsQ0FBQztBQVU3QyxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQzs7Ozs7Ozs7Ozs7QUFPMUUsTUFBTSxPQUFPLHdCQUF5QixTQUFRLDBCQUEwQjtJQW9CdEUsMkNBQTJDO0lBQzNDLFlBQ1ksa0JBQXNDLEVBQ3RDLDZCQUE2RCxFQUM3RCxxQkFBNkMsRUFDN0MsY0FBOEIsRUFDOUIsa0JBQXNDLEVBQ3RDLGdCQUFrQyxFQUNsQyxtQkFBd0MsRUFDeEMsb0JBQTBDO1FBRXBELEtBQUssQ0FDSCxrQkFBa0IsRUFDbEIsNkJBQTZCLEVBQzdCLHFCQUFxQixFQUNyQixjQUFjLEVBQ2Qsa0JBQWtCLEVBQ2xCLGdCQUFnQixFQUNoQixtQkFBbUIsRUFDbkIsb0JBQW9CLENBQ3JCLENBQUM7UUFsQlEsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtRQUN0QyxrQ0FBNkIsR0FBN0IsNkJBQTZCLENBQWdDO1FBQzdELDBCQUFxQixHQUFyQixxQkFBcUIsQ0FBd0I7UUFDN0MsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFDdEMscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQUNsQyx3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO1FBQ3hDLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBc0I7UUE1QnRELHVCQUFrQixHQUFHLEtBQUssQ0FBQztRQXlDekIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNoRCxDQUFDO0lBeENELFlBQVk7UUFDVixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUNoRSwyQkFBMkIsQ0FDNUIsQ0FBQztRQUVGLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUN2QixDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7SUFDbEMsQ0FBQztJQUVELG1CQUFtQixDQUFDLGNBQThCO1FBQ2hELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDZCxDQUFDOztxSEFsQlUsd0JBQXdCO3lHQUF4Qix3QkFBd0IsZ0ZDN0JyQyw2ekZBcUZBOzJGRHhEYSx3QkFBd0I7a0JBTHBDLFNBQVM7K0JBQ0UsbUJBQW1CLG1CQUVaLHVCQUF1QixDQUFDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMiBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBBY3RpdmVDYXJ0RmFjYWRlLCBQYXltZW50RGV0YWlscyB9IGZyb20gJ0BzcGFydGFjdXMvY2FydC9iYXNlL3Jvb3QnO1xuaW1wb3J0IHtcbiAgQ2hlY2tvdXRQYXltZW50TWV0aG9kQ29tcG9uZW50IGFzIENvcmVQYXltZW50TWV0aG9kQ29tcG9uZW50LFxuICBDaGVja291dFN0ZXBTZXJ2aWNlLFxufSBmcm9tICdAc3BhcnRhY3VzL2NoZWNrb3V0L2Jhc2UvY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBDaGVja291dERlbGl2ZXJ5QWRkcmVzc1NlcnZpY2UsXG4gIENoZWNrb3V0UGF5bWVudFNlcnZpY2UsXG59IGZyb20gJ0BzcGFydGFjdXMvY2hlY2tvdXQvYmFzZS9jb3JlJztcbmltcG9ydCB7XG4gIEdsb2JhbE1lc3NhZ2VTZXJ2aWNlLFxuICBUcmFuc2xhdGlvblNlcnZpY2UsXG4gIFVzZXJQYXltZW50U2VydmljZSxcbn0gZnJvbSAnQHNwYXJ0YWN1cy9jb3JlJztcbmltcG9ydCB7IERQX0NBUkRfUkVHSVNUUkFUSU9OX1NUQVRVUyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RwLWNvbnN0YW50cyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LXBheW1lbnQtbWV0aG9kJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2RwLXBheW1lbnQtbWV0aG9kLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIERwUGF5bWVudE1ldGhvZENvbXBvbmVudCBleHRlbmRzIENvcmVQYXltZW50TWV0aG9kQ29tcG9uZW50IHtcbiAgc2hvd0NhbGxiYWNrU2NyZWVuID0gZmFsc2U7XG5cbiAgaXNEcENhbGxiYWNrKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdGhpcy5hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5xdWVyeVBhcmFtTWFwLmdldChcbiAgICAgIERQX0NBUkRfUkVHSVNUUkFUSU9OX1NUQVRVU1xuICAgICk7XG5cbiAgICByZXR1cm4gISFxdWVyeVBhcmFtcztcbiAgfVxuXG4gIGhpZGVDYWxsYmFja1NjcmVlbigpOiB2b2lkIHtcbiAgICB0aGlzLnNob3dDYWxsYmFja1NjcmVlbiA9IGZhbHNlO1xuICB9XG5cbiAgcGF5bWVudERldGFpbHNBZGRlZChwYXltZW50RGV0YWlsczogUGF5bWVudERldGFpbHMpIHtcbiAgICB0aGlzLnNhdmVQYXltZW50TWV0aG9kKHBheW1lbnREZXRhaWxzKTtcbiAgICB0aGlzLm5leHQoKTtcbiAgfVxuXG4gIC8vIFRPRE86I2NoZWNrb3V0IC0gaGFuZGxlIGJyZWFraW5nIGNoYW5nZXNcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHVzZXJQYXltZW50U2VydmljZTogVXNlclBheW1lbnRTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBjaGVja291dERlbGl2ZXJ5QWRkcmVzc0ZhY2FkZTogQ2hlY2tvdXREZWxpdmVyeUFkZHJlc3NTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBjaGVja291dFBheW1lbnRGYWNhZGU6IENoZWNrb3V0UGF5bWVudFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICBwcm90ZWN0ZWQgdHJhbnNsYXRpb25TZXJ2aWNlOiBUcmFuc2xhdGlvblNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGFjdGl2ZUNhcnRGYWNhZGU6IEFjdGl2ZUNhcnRGYWNhZGUsXG4gICAgcHJvdGVjdGVkIGNoZWNrb3V0U3RlcFNlcnZpY2U6IENoZWNrb3V0U3RlcFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGdsb2JhbE1lc3NhZ2VTZXJ2aWNlOiBHbG9iYWxNZXNzYWdlU2VydmljZVxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIHVzZXJQYXltZW50U2VydmljZSxcbiAgICAgIGNoZWNrb3V0RGVsaXZlcnlBZGRyZXNzRmFjYWRlLFxuICAgICAgY2hlY2tvdXRQYXltZW50RmFjYWRlLFxuICAgICAgYWN0aXZhdGVkUm91dGUsXG4gICAgICB0cmFuc2xhdGlvblNlcnZpY2UsXG4gICAgICBhY3RpdmVDYXJ0RmFjYWRlLFxuICAgICAgY2hlY2tvdXRTdGVwU2VydmljZSxcbiAgICAgIGdsb2JhbE1lc3NhZ2VTZXJ2aWNlXG4gICAgKTtcblxuICAgIHRoaXMuc2hvd0NhbGxiYWNrU2NyZWVuID0gdGhpcy5pc0RwQ2FsbGJhY2soKTtcbiAgfVxufVxuIiwiPCEtLSBDb3BpZWQgZnJvbSBjb3JlIG1vZHVsZSBleGNlcHQgI25ld1BheW1lbnRGb3JtIC0tPlxuPG5nLWNvbnRhaW5lciAqbmdJZj1cImNhcmRzJCB8IGFzeW5jIGFzIGNhcmRzXCI+XG4gIDxoMyBjbGFzcz1cImN4LWNoZWNrb3V0LXRpdGxlIGQtbm9uZSBkLWxnLWJsb2NrIGQteGwtYmxvY2tcIj5cbiAgICB7eyAncGF5bWVudEZvcm0ucGF5bWVudCcgfCBjeFRyYW5zbGF0ZSB9fVxuICA8L2gzPlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwiIXNob3dDYWxsYmFja1NjcmVlbjsgZWxzZSBsb2FkaW5nUGF5bWVudERldGFpbHNcIj5cbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiIShpc1VwZGF0aW5nJCB8IGFzeW5jKTsgZWxzZSBsb2FkaW5nXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIHJvbGU9XCJzdGF0dXNcIlxuICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIidjb21tb24ubG9hZGVkJyB8IGN4VHJhbnNsYXRlXCJcbiAgICAgID48L2Rpdj5cbiAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICBjYXJkcz8ubGVuZ3RoICYmICFuZXdQYXltZW50Rm9ybU1hbnVhbGx5T3BlbmVkO1xuICAgICAgICAgIGVsc2UgbmV3UGF5bWVudEZvcm1cbiAgICAgICAgXCJcbiAgICAgID5cbiAgICAgICAgPHAgY2xhc3M9XCJjeC1jaGVja291dC10ZXh0XCI+XG4gICAgICAgICAge3sgJ3BheW1lbnRGb3JtLmNob29zZVBheW1lbnRNZXRob2QnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtY2hlY2tvdXQtYnRucyByb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIGNvbC1sZy02XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1ibG9jayBidG4tYWN0aW9uXCJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInNob3dOZXdQYXltZW50Rm9ybSgpXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgJ3BheW1lbnRGb3JtLmFkZE5ld1BheW1lbnQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtY2hlY2tvdXQtYm9keSByb3dcIj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImN4LXBheW1lbnQtY2FyZCBjb2wtbWQtMTIgY29sLWxnLTZcIlxuICAgICAgICAgICAgKm5nRm9yPVwibGV0IGNhcmQgb2YgY2FyZHM7IGxldCBpID0gaW5kZXhcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1wYXltZW50LWNhcmQtaW5uZXJcIj5cbiAgICAgICAgICAgICAgPGN4LWNhcmRcbiAgICAgICAgICAgICAgICBbYm9yZGVyXT1cInRydWVcIlxuICAgICAgICAgICAgICAgIFtmaXRUb0NvbnRhaW5lcl09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBbY29udGVudF09XCJjYXJkLmNvbnRlbnRcIlxuICAgICAgICAgICAgICAgIChzZW5kQ2FyZCk9XCJzZWxlY3RQYXltZW50TWV0aG9kKGNhcmQucGF5bWVudE1ldGhvZClcIlxuICAgICAgICAgICAgICA+PC9jeC1jYXJkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgY3gtY2hlY2tvdXQtYnRuc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgY29sLWxnLTZcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWJsb2NrIGJ0bi1hY3Rpb25cIiAoY2xpY2spPVwiYmFjaygpXCI+XG4gICAgICAgICAgICAgIHt7IGJhY2tCdG5UZXh0IHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgY29sLWxnLTZcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWJsb2NrIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiEoc2VsZWN0ZWRNZXRob2QkIHwgYXN5bmMpPy5pZFwiXG4gICAgICAgICAgICAgIChjbGljayk9XCJuZXh0KClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7eyAnY29tbW9uLmNvbnRpbnVlJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgIDxuZy10ZW1wbGF0ZSAjbmV3UGF5bWVudEZvcm0+XG4gICAgICA8Y3gtZHAtcGF5bWVudC1mb3JtXG4gICAgICAgIChzZXRQYXltZW50RGV0YWlscyk9XCJzZXRQYXltZW50RGV0YWlscygkZXZlbnQpXCJcbiAgICAgICAgKGNsb3NlRm9ybSk9XCJoaWRlTmV3UGF5bWVudEZvcm0oKVwiXG4gICAgICA+PC9jeC1kcC1wYXltZW50LWZvcm0+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgPC9uZy1jb250YWluZXI+XG5cbiAgPG5nLXRlbXBsYXRlICNsb2FkaW5nPlxuICAgIDxkaXYgY2xhc3M9XCJjeC1zcGlubmVyXCI+PGN4LXNwaW5uZXI+PC9jeC1zcGlubmVyPjwvZGl2PlxuICA8L25nLXRlbXBsYXRlPlxuXG4gIDxuZy10ZW1wbGF0ZSAjbG9hZGluZ1BheW1lbnREZXRhaWxzPlxuICAgIDxjeC1kcC1wYXltZW50LWNhbGxiYWNrXG4gICAgICAocGF5bWVudERldGFpbHNBZGRlZCk9XCJwYXltZW50RGV0YWlsc0FkZGVkKCRldmVudClcIlxuICAgICAgKGNsb3NlQ2FsbGJhY2spPVwiaGlkZUNhbGxiYWNrU2NyZWVuKClcIlxuICAgID48L2N4LWRwLXBheW1lbnQtY2FsbGJhY2s+XG4gIDwvbmctdGVtcGxhdGU+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==