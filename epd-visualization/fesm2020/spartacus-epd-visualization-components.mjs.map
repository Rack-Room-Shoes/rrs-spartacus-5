{"version":3,"file":"spartacus-epd-visualization-components.mjs","sources":["../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-animation-slider/visual-viewer-animation-slider.service.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-animation-slider/visual-viewer-animation-slider.component.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-animation-slider/visual-viewer-animation-slider.component.html","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-animation-slider/visual-viewer-animation-slider.module.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-toolbar-button/visual-viewer-toolbar-button.component.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-toolbar-button/visual-viewer-toolbar-button.component.html","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-toolbar-button/visual-viewer-toolbar-button.module.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/navigation-mode.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/selection-mode.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/node-content-type.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/scene-load-state.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/visualization-load-info.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/zoom-to.ts","../../../integration-libs/epd-visualization/components/visual-viewer/visual-viewer.service.ts","../../../integration-libs/epd-visualization/components/visual-viewer/visual-viewer.component.ts","../../../integration-libs/epd-visualization/components/visual-viewer/visual-viewer.component.html","../../../integration-libs/epd-visualization/components/visual-viewer/visual-viewer.module.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-filter/visual-picking-product-filter.service.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-filter/visual-picking-product-filter.component.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-filter/visual-picking-product-filter.component.html","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-filter/visual-picking-product-filter.module.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/compact-add-to-cart/compact-add-to-cart.component.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/compact-add-to-cart/compact-add-to-cart.component.html","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/compact-add-to-cart/compact-add-to-cart.module.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/paged-list/paged-list.component.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/paged-list/paged-list.component.html","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/paged-list/paged-list.module.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.service.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.component.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.component.html","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/visual-picking-product-list.module.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/visual-picking-tab.service.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/visual-picking-tab.component.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/visual-picking-tab.component.html","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/visual-picking-tab.module.ts","../../../integration-libs/epd-visualization/components/epd-visualization-components.module.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-filter/index.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/compact-add-to-cart/index.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/model/visual-picking-product-list-item.model.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/model/index.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/product-list/index.ts","../../../integration-libs/epd-visualization/components/visual-picking/visual-picking-tab/index.ts","../../../integration-libs/epd-visualization/components/visual-picking/index.ts","../../../integration-libs/epd-visualization/components/visual-viewer/models/index.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-animation-slider/index.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/visual-viewer-toolbar-button/index.ts","../../../integration-libs/epd-visualization/components/visual-viewer/toolbar/index.ts","../../../integration-libs/epd-visualization/components/visual-viewer/index.ts","../../../integration-libs/epd-visualization/components/public_api.ts","../../../integration-libs/epd-visualization/components/spartacus-epd-visualization-components.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ChangeDetectorRef,\n  ElementRef,\n  EventEmitter,\n  Injectable,\n  Renderer2,\n} from '@angular/core';\nimport { WindowRef } from '@spartacus/core';\nimport { EventListenerUtils } from '@spartacus/epd-visualization/root';\n\n@Injectable({\n  providedIn: 'any',\n})\nexport class VisualViewerAnimationSliderService {\n  public constructor(\n    private elementRef: ElementRef,\n    private windowRef: WindowRef,\n    private renderer: Renderer2,\n    private changeDetectorRef: ChangeDetectorRef\n  ) {\n    this.eventListenerUtils.initialize(this.renderer);\n  }\n\n  public initialize(): void {\n    this.updateEventBindings();\n    this.setupResizeObserver();\n    this.setInitialized();\n  }\n\n  private setInitialized() {\n    this._initialized = true;\n    this.initializedChange.emit(true);\n    this.initializedChange.complete();\n  }\n  public get initialized(): boolean {\n    return this._initialized;\n  }\n  private _initialized = false;\n  public initializedChange = new EventEmitter<boolean>();\n\n  /**\n   * Slider value. Value is in the range [0-1].\n   */\n  set value(value: number) {\n    value = this.clampToRange(value);\n    if (this._value === value) {\n      return;\n    }\n    this._value = value;\n    this.valueChange.emit(this.value);\n  }\n  get value() {\n    return this._value;\n  }\n  private _value: number = 0;\n  valueChange: EventEmitter<number> = new EventEmitter();\n\n  set disabled(disabled: boolean) {\n    if (this._disabled === disabled) {\n      return;\n    }\n    this._disabled = disabled;\n    this.updateEventBindings();\n  }\n  get disabled() {\n    return this._disabled;\n  }\n  private _disabled: boolean = false;\n\n  set hidden(hidden: boolean) {\n    if (this._hidden === hidden) {\n      return;\n    }\n    this._hidden = hidden;\n    // Ensure handle position is recalculated when the animation slider visibility changes\n    // Fixes a bug in which the initial position of the slider handle is incorrect\n    // because the bar width is calculated while the animation slider is hidden (noticeable in RTL mode)\n    this.changeDetectorRef.detectChanges();\n  }\n  get hidden(): boolean {\n    return this._hidden;\n  }\n  private _hidden: boolean;\n\n  get position(): number {\n    return this.valueToPosition(this.value);\n  }\n\n  get rightToLeft(): boolean {\n    return this.windowRef.document.documentElement.dir === 'rtl';\n  }\n\n  set barElement(barElement: ElementRef) {\n    this._barElement = barElement;\n  }\n  get barElement(): ElementRef {\n    return this._barElement;\n  }\n  _barElement: ElementRef;\n\n  set handleElement(handleElement: ElementRef) {\n    this._handleElement = handleElement;\n  }\n  get handleElement(): ElementRef {\n    return this._handleElement;\n  }\n  _handleElement: ElementRef;\n\n  private set resizeObserver(resizeObserver: ResizeObserver | undefined) {\n    this._resizeObserver = resizeObserver;\n  }\n  private get resizeObserver() {\n    return this._resizeObserver;\n  }\n  private _resizeObserver?: ResizeObserver = undefined;\n  private eventListenerUtils = new EventListenerUtils();\n\n  private set touchIdentifier(touchIdentifier: number | undefined) {\n    this._touchIdentifier = touchIdentifier;\n  }\n  private get touchIdentifier(): number | undefined {\n    return this._touchIdentifier;\n  }\n  private _touchIdentifier?: number = undefined;\n\n  private getClientWidth(elementRef: ElementRef): number | undefined {\n    if (!elementRef || !elementRef.nativeElement) {\n      return undefined;\n    }\n    const clientRect = this.getClientRect(elementRef);\n    return clientRect.right - clientRect.left;\n  }\n\n  private getClientRect(elementRef: ElementRef): DOMRect {\n    return elementRef.nativeElement.getBoundingClientRect();\n  }\n\n  private resizeObserverSupported(): boolean {\n    return window.ResizeObserver !== undefined;\n  }\n\n  private setupResizeObserver() {\n    if (this.resizeObserverSupported()) {\n      this.resizeObserver = new ResizeObserver(this.onResize.bind(this));\n      this.resizeObserver.observe(this.elementRef.nativeElement);\n    }\n  }\n\n  private onResize() {\n    // Ensure handle position is recalculated on resize\n    this.changeDetectorRef.detectChanges();\n  }\n  sizeChange = new EventEmitter();\n\n  private updateEventBindings(): void {\n    if (this.disabled) {\n      this.eventListenerUtils.detachAllEventListeners(document);\n      this.eventListenerUtils.detachAllEventListeners(\n        this.barElement.nativeElement\n      );\n      this.eventListenerUtils.detachAllEventListeners(\n        this.handleElement.nativeElement\n      );\n    } else {\n      this.eventListenerUtils.attachEventListener(\n        this.handleElement.nativeElement,\n        'mousedown',\n        this.onMouseDown.bind(this)\n      );\n      this.eventListenerUtils.attachEventListener(\n        this.barElement.nativeElement,\n        'mousedown',\n        this.onMouseDownOnBar.bind(this)\n      );\n      this.eventListenerUtils.attachEventListener(\n        this.handleElement.nativeElement,\n        'touchstart',\n        this.onTouchStart.bind(this)\n      );\n      this.eventListenerUtils.attachEventListener(\n        this.barElement.nativeElement,\n        'touchstart',\n        this.onTouchStartOnBar.bind(this)\n      );\n      this.eventListenerUtils.attachEventListener(\n        this.handleElement.nativeElement,\n        'focus',\n        this.onHandleFocus.bind(this)\n      );\n    }\n  }\n\n  get handleWidth(): number {\n    return this.getClientWidth(this.handleElement) ?? 0;\n  }\n\n  get barWidth(): number {\n    return this.getClientWidth(this.barElement) ?? 0;\n  }\n\n  get handleMaxPosition(): number {\n    return this.barWidth - this.handleWidth;\n  }\n\n  private valueToPosition(value: number): number {\n    let position: number = this.clampToRange(value);\n    if (this.rightToLeft) {\n      position = 1 - position;\n    }\n    return position * this.handleMaxPosition;\n  }\n\n  private positionToValue(position: number): number {\n    let value: number = position / this.handleMaxPosition;\n    if (this.rightToLeft) {\n      value = 1 - value;\n    }\n    return value;\n  }\n\n  private findTouch(\n    touchList: TouchList,\n    touchIdentifier?: number\n  ): Touch | undefined {\n    for (let i = 0; i < touchList.length; i++) {\n      const touch = touchList.item(i) as Touch;\n      if (touch.identifier === touchIdentifier) {\n        return touch;\n      }\n    }\n    return undefined;\n  }\n\n  private get sliderClientPosition(): number {\n    return this.getClientRect(this.elementRef).left;\n  }\n\n  private onTouchStart(event: TouchEvent): void {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.touchIdentifier !== undefined) {\n      return;\n    }\n\n    this.eventListenerUtils.detachEventListeners(document, 'touchmove');\n    this.eventListenerUtils.attachEventListener(\n      document,\n      'touchmove',\n      this.onTouchMove.bind(this)\n    );\n\n    this.eventListenerUtils.detachEventListeners(document, 'touchend');\n    this.eventListenerUtils.attachEventListener(\n      document,\n      'touchend',\n      this.onTouchEnd.bind(this)\n    );\n\n    this.touchIdentifier = (event.changedTouches as TouchList)[0].identifier;\n  }\n\n  private onTouchStartOnBar(event: TouchEvent): void {\n    this.onTouchStart(event);\n    this.onTouchMove(event);\n  }\n\n  private onMouseDown(event: MouseEvent): void {\n    event.stopPropagation();\n    event.preventDefault();\n\n    this.eventListenerUtils.detachEventListeners(document, 'mousemove');\n    this.eventListenerUtils.attachEventListener(\n      document,\n      'mousemove',\n      this.onMouseMove.bind(this)\n    );\n\n    this.eventListenerUtils.detachEventListeners(document, 'mouseup');\n    this.eventListenerUtils.attachEventListener(\n      document,\n      'mouseup',\n      this.onMouseUp.bind(this)\n    );\n  }\n\n  private onMouseDownOnBar(event: MouseEvent): void {\n    this.onMouseDown(event);\n    this.onMouseMove(event);\n  }\n\n  private onMouseMove(event: MouseEvent): void {\n    const position =\n      event.clientX - this.sliderClientPosition - this.handleWidth / 2;\n    this.applyValue(this.positionToValue(position));\n  }\n\n  private onMouseUp(_event: MouseEvent): void {\n    this.eventListenerUtils.detachEventListeners(document, 'mousemove');\n    this.eventListenerUtils.detachEventListeners(document, 'mouseup');\n  }\n\n  private onTouchMove(event: TouchEvent): void {\n    let touchInitiatedOnSlider = this.findTouch(\n      event.changedTouches,\n      this.touchIdentifier\n    );\n    if (touchInitiatedOnSlider === undefined) {\n      return;\n    }\n    let touch = this.findTouch(event.touches, this.touchIdentifier) as Touch;\n    const position: number =\n      touch.clientX - this.sliderClientPosition - this.handleWidth / 2;\n    this.applyValue(this.positionToValue(position));\n  }\n\n  private onTouchEnd(event: TouchEvent): void {\n    let touchInitiatedOnSlider = this.findTouch(\n      event.changedTouches,\n      this.touchIdentifier\n    );\n    if (touchInitiatedOnSlider === undefined) {\n      return;\n    }\n    this.touchIdentifier = undefined;\n    this.eventListenerUtils.detachEventListeners(document, 'touchmove');\n    this.eventListenerUtils.detachEventListeners(document, 'touchend');\n  }\n\n  private onHandleFocus(): void {\n    const nativeElement = this.handleElement.nativeElement;\n    this.eventListenerUtils.attachEventListener(\n      nativeElement,\n      'blur',\n      this.onHandleBlur.bind(this)\n    );\n    this.eventListenerUtils.attachEventListener(\n      nativeElement,\n      'keydown',\n      this.onKeyboardEvent.bind(this)\n    );\n  }\n\n  private onHandleBlur(): void {\n    const nativeElement = this.handleElement.nativeElement;\n    this.eventListenerUtils.detachEventListeners(nativeElement, 'blur');\n    this.eventListenerUtils.detachEventListeners(nativeElement, 'keydown');\n    this.eventListenerUtils.detachEventListeners(nativeElement, 'keyup');\n  }\n\n  private onKeyboardEvent(event: KeyboardEvent): void {\n    const keyHandler = this.getKeyHandler(event.code, this.rightToLeft);\n    if (keyHandler === undefined) {\n      return;\n    }\n    event.preventDefault();\n    this.applyValue(keyHandler(this.value));\n  }\n\n  protected readonly stepDelta = 1 / 50;\n  protected readonly pageDelta = 1 / 10;\n\n  private getKeyHandler(\n    keyCode: string,\n    rightToLeft: boolean\n  ): ((value: number) => number) | undefined {\n    let increaseStep = (currentValue: number) => currentValue + this.stepDelta;\n    let decreaseStep = (currentValue: number) => currentValue - this.stepDelta;\n    let increasePage = (currentValue: number) => currentValue + this.pageDelta;\n    let decreasePage = (currentValue: number) => currentValue - this.pageDelta;\n    let stepLeft = rightToLeft ? increaseStep : decreaseStep;\n    let stepRight = rightToLeft ? decreaseStep : increaseStep;\n    let home = () => 0;\n    let end = () => 1;\n\n    switch (keyCode) {\n      case 'ArrowUp':\n        return increaseStep;\n      case 'ArrowDown':\n        return decreaseStep;\n      case 'ArrowLeft':\n        return stepLeft;\n      case 'ArrowRight':\n        return stepRight;\n      case 'PageUp':\n        return increasePage;\n      case 'PageDown':\n        return decreasePage;\n      case 'Home':\n        return home;\n      case 'End':\n        return end;\n      default:\n        return undefined;\n    }\n  }\n\n  private applyValue(value: number): void {\n    value = this.clampToRange(value);\n    if (this.value !== value) {\n      this.value = value;\n      this.valueChange.emit(this.value);\n    }\n  }\n\n  private clampToRange(value: number): number {\n    return Math.min(Math.max(value, 0), 1);\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { VisualViewerAnimationSliderService } from './visual-viewer-animation-slider.service';\n\n@Component({\n  selector: 'cx-epd-visualization-animation-slider',\n  templateUrl: './visual-viewer-animation-slider.component.html',\n  providers: [VisualViewerAnimationSliderService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VisualViewerAnimationSliderComponent implements AfterViewInit {\n  constructor(\n    protected visualViewerAnimationSliderService: VisualViewerAnimationSliderService\n  ) {}\n\n  ngAfterViewInit(): void {\n    this.visualViewerAnimationSliderService.initialize();\n  }\n\n  @Input()\n  set hidden(hidden: boolean) {\n    this.visualViewerAnimationSliderService.hidden = hidden;\n  }\n  get hidden(): boolean {\n    return this.visualViewerAnimationSliderService.hidden;\n  }\n\n  @Input()\n  set value(value: number) {\n    this.visualViewerAnimationSliderService.value = value;\n  }\n  get value(): number {\n    return this.visualViewerAnimationSliderService.value;\n  }\n  @Output()\n  valueChange = this.visualViewerAnimationSliderService.valueChange;\n\n  get position(): number {\n    return this.visualViewerAnimationSliderService.position;\n  }\n\n  @Input()\n  set disabled(disabled: boolean) {\n    this.visualViewerAnimationSliderService.disabled = disabled;\n  }\n  get disabled(): boolean {\n    return this.visualViewerAnimationSliderService.disabled;\n  }\n\n  get initialized(): boolean {\n    return this.visualViewerAnimationSliderService.initialized;\n  }\n  @Output()\n  initializedChange: EventEmitter<boolean> =\n    this.visualViewerAnimationSliderService.initializedChange;\n\n  @ViewChild('bar')\n  set barElement(barElement: ElementRef) {\n    this.visualViewerAnimationSliderService.barElement = barElement;\n  }\n\n  @ViewChild('handle')\n  set handleElement(handleElement: ElementRef) {\n    this.visualViewerAnimationSliderService.handleElement = handleElement;\n  }\n}\n","<div\n  class=\"cx-epd-visualization-animation-slider\"\n  [class.disabled]=\"disabled ? true : undefined\"\n>\n  <div class=\"cx-epd-visualization-animation-slider-wrapper\">\n    <span\n      cxVisualViewerAnimationSliderElement\n      #bar\n      class=\"\n        cx-epd-visualization-animation-slider-span\n        cx-epd-visualization-animation-slider-bar-wrapper\n      \"\n    >\n      <span\n        class=\"\n          cx-epd-visualization-animation-slider-span\n          cx-epd-visualization-animation-slider-bar\n        \"\n      ></span>\n    </span>\n\n    <span\n      cxVisualViewerAnimationSliderHandle\n      #handle\n      class=\"\n        cx-epd-visualization-animation-slider-span\n        cx-epd-visualization-animation-slider-pointer\n      \"\n      [style.left]=\"(position | cxNumeric: '1.0-0') + 'px'\"\n      [attr.role]=\"\n        'epdVisualization.visualViewer.toolbar.visualViewerAnimationSlider.role'\n          | cxTranslate\n      \"\n      [attr.aria-label]=\"\n        'epdVisualization.visualViewer.toolbar.visualViewerAnimationSlider.label'\n          | cxTranslate\n      \"\n      [attr.aria-valuenow]=\"value * 100 | cxNumeric: '1.0-0'\"\n      [attr.aria-valuemin]=\"'0'\"\n      [attr.aria-valuemax]=\"'100'\"\n      [attr.tabindex]=\"disabled ? null : 0\"\n    ></span>\n  </div>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { I18nModule } from '@spartacus/core';\nimport { VisualViewerAnimationSliderComponent } from './visual-viewer-animation-slider.component';\n\n@NgModule({\n  imports: [CommonModule, I18nModule],\n  declarations: [VisualViewerAnimationSliderComponent],\n  exports: [VisualViewerAnimationSliderComponent],\n})\nexport class VisualViewerAnimationSliderModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'cx-epd-visualization-viewer-toolbar-button',\n  templateUrl: './visual-viewer-toolbar-button.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VisualViewerToolbarButtonComponent {\n  @Input() text = '';\n  @Input() iconLibraryClass: string;\n  @Input() iconClass: string;\n  @Input() disabled = false;\n  @Input() checked = false;\n}\n","<button\n  class=\"btn btn-link\"\n  type=\"submit\"\n  [disabled]=\"disabled\"\n  [class.checked]=\"checked\"\n  [attr.aria-checked]=\"checked\"\n>\n  <div class=\"buttonVBox\">\n    <cx-icon class=\"{{ iconLibraryClass }} {{ iconClass }}\"></cx-icon>\n    <span class=\"buttonText\">{{ text }}</span>\n  </div>\n</button>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { IconModule } from '@spartacus/storefront';\nimport { VisualViewerToolbarButtonComponent } from './visual-viewer-toolbar-button.component';\n\n@NgModule({\n  imports: [CommonModule, IconModule],\n  declarations: [VisualViewerToolbarButtonComponent],\n  exports: [VisualViewerToolbarButtonComponent],\n})\nexport class VisualViewerToolbarButtonModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport enum NavigationMode {\n  /**\n   * Left mouse button drag causes turntable rotation.\n   */\n  Turntable = 0,\n  /**\n   * Left mouse button drag performs panning.\n   */\n  Pan = 2,\n  /**\n   * Left mouse button drag performs zooming.\n   */\n  Zoom = 3,\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * Defines the selection behaviour.\n */\nexport enum SelectionMode {\n  /**\n   * Clicking/tapping in the viewport can select at most one item.\n   * Selecting a new item in this way will deselect any pre\n   */\n  Exclusive = 'exclusive',\n  /**\n   * Clicking/tapping in the viewport will not affect selection.\n   */\n  None = 'none',\n  /**\n   * A multiple selection mode in which clicking/tapping an item toggles its selection state.\n   */\n  Sticky = 'sticky',\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport enum NodeContentType {\n  Annotation = 'Annotation',\n  Background = 'Background',\n  Hotspot = 'Hotspot',\n  Reference = 'Reference',\n  Regular = 'Regular',\n  Symbol = 'Symbol',\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport enum SceneLoadState {\n  NotStarted,\n  Loading,\n  Loaded,\n  Failed,\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { VisualizationInfo } from '@spartacus/epd-visualization/root';\n\nexport enum VisualizationLookupResult {\n  UniqueMatchFound = 'UniqueMatchFound',\n  NoMatchFound = 'NoMatchFound',\n  MultipleMatchesFound = 'MultipleMatchesFound',\n  UnexpectedError = 'UnexpectedError',\n}\n\nexport enum VisualizationLoadStatus {\n  NotStarted = 'NotStarted',\n  Loading = 'Loading',\n  Loaded = 'Loaded',\n  UnexpectedError = 'UnexpectedError',\n}\n\n/**\n * Information relating to an attempt to resolve and load a visualization.\n */\nexport interface VisualizationLoadInfo {\n  lookupResult: VisualizationLookupResult;\n  loadStatus: VisualizationLoadStatus;\n  matches?: VisualizationInfo[];\n  visualization?: VisualizationInfo;\n  errorMessage?: string;\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport enum ZoomTo {\n  All = 'all',\n  Node = 'node',\n  Selected = 'selected',\n  ViewBack = 'view_back',\n  ViewBottom = 'view_bottom',\n  ViewFront = 'view_front',\n  ViewLeft = 'view_left',\n  ViewRight = 'view_right',\n  ViewTop = 'view_top',\n  Visible = 'visible',\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// '@sapui5/ts-types-esm' package contains types for sap modules, e.g. 'sap/ui/core/Core'\n/// <reference types=\"@sapui5/ts-types-esm\" />\nimport {\n  ChangeDetectorRef,\n  ElementRef,\n  EventEmitter,\n  Injectable,\n  OnDestroy,\n} from '@angular/core';\nimport { WindowRef } from '@spartacus/core';\nimport {\n  SceneNodeToProductLookupService,\n  VisualizationLookupService,\n} from '@spartacus/epd-visualization/core';\nimport {\n  ContentType,\n  EpdVisualizationConfig,\n  EpdVisualizationInnerConfig,\n  Ui5Config,\n  VisualizationApiConfig,\n  VisualizationInfo,\n} from '@spartacus/epd-visualization/root';\nimport { BehaviorSubject, Observable, of, Subscription } from 'rxjs';\nimport {\n  catchError,\n  filter,\n  first,\n  mergeMap,\n  shareReplay,\n} from 'rxjs/operators';\nimport type Core from 'sap/ui/core/Core';\nimport type { CSSColor } from 'sap/ui/core/library';\nimport type UIArea from 'sap/ui/core/UIArea';\nimport type AnimationPlayer from 'sap/ui/vk/AnimationPlayer';\nimport type ContentConnector from 'sap/ui/vk/ContentConnector';\nimport type ContentResource from 'sap/ui/vk/ContentResource';\nimport type DrawerToolbar from 'sap/ui/vk/DrawerToolbar';\nimport NodeHierarchy from 'sap/ui/vk/NodeHierarchy';\nimport type Scene from 'sap/ui/vk/Scene';\nimport type Viewport from 'sap/ui/vk/Viewport';\nimport type ViewStateManager from 'sap/ui/vk/ViewStateManager';\nimport { NavigationMode } from './models/navigation-mode';\nimport { NodeContentType } from './models/node-content-type';\nimport { LoadedSceneInfo, SceneLoadInfo } from './models/scene-load-info';\nimport { SceneLoadState } from './models/scene-load-state';\nimport { SelectionMode } from './models/selection-mode';\nimport {\n  VisualizationLoadInfo,\n  VisualizationLoadStatus,\n  VisualizationLookupResult,\n} from './models/visualization-load-info';\nimport { ZoomTo } from './models/zoom-to';\n\ntype ViewManager = any;\ntype NodeRef = any;\ntype ViewInfo = any;\n\ninterface VisualContentChangesFinishedEvent {\n  content: any;\n  failureReason: any;\n}\n\ninterface VisualContentLoadFinishedEvent {}\n\n@Injectable({\n  providedIn: 'any',\n})\nexport class VisualViewerService implements OnDestroy {\n  constructor(\n    protected epdVisualizationConfig: EpdVisualizationConfig,\n    protected _sceneNodeToProductLookupService: SceneNodeToProductLookupService,\n    protected visualizationLookupService: VisualizationLookupService,\n    protected elementRef: ElementRef,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected windowRef: WindowRef\n  ) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    const ui5BootStrapped$: Observable<void> =\n      this.bootstrapUi5('ui5bootstrap');\n    const ui5Initialized$: Observable<void> = ui5BootStrapped$.pipe(\n      mergeMap(this.initializeUi5.bind(this))\n    );\n    this.viewportAdded$ = ui5Initialized$.pipe(\n      mergeMap(this.addViewport.bind(this)),\n      shareReplay()\n    );\n    this.executeWhenSceneLoaded(this.setInitialPropertyValues.bind(this));\n  }\n\n  ngOnDestroy(): void {\n    this.selectedNodeIdsSubscription?.unsubscribe();\n  }\n\n  private selectedNodeIdsSubscription?: Subscription;\n\n  private get sceneNodeToProductLookupService(): SceneNodeToProductLookupService {\n    return this._sceneNodeToProductLookupService;\n  }\n  private set sceneNodeToProductLookupService(\n    value: SceneNodeToProductLookupService\n  ) {\n    this._sceneNodeToProductLookupService = value;\n  }\n\n  private _scene: Scene;\n  private get scene(): Scene {\n    return this._scene;\n  }\n  private set scene(value: Scene) {\n    this._scene = value;\n  }\n\n  private _nodeHierarchy: NodeHierarchy;\n  private get nodeHierarchy(): NodeHierarchy {\n    return this._nodeHierarchy;\n  }\n  private set nodeHierarchy(value: NodeHierarchy) {\n    this._nodeHierarchy = value;\n  }\n\n  private _contentConnector: ContentConnector;\n  private get contentConnector(): ContentConnector {\n    return this._contentConnector;\n  }\n  private set contentConnector(value: ContentConnector) {\n    this._contentConnector = value;\n  }\n\n  private _viewport: Viewport;\n  private get viewport(): Viewport {\n    return this._viewport;\n  }\n  private set viewport(value: Viewport) {\n    this._viewport = value;\n  }\n\n  private _viewStateManager: ViewStateManager;\n  private get viewStateManager(): ViewStateManager {\n    return this._viewStateManager;\n  }\n  private set viewStateManager(value: ViewStateManager) {\n    this._viewStateManager = value;\n  }\n\n  private _animationPlayer: AnimationPlayer;\n  private get animationPlayer(): AnimationPlayer {\n    return this._animationPlayer;\n  }\n  private set animationPlayer(value: AnimationPlayer) {\n    this._animationPlayer = value;\n  }\n\n  private _viewManager: ViewManager;\n  private get viewManager(): ViewManager {\n    return this._viewManager;\n  }\n  private set viewManager(value: ViewManager) {\n    this._viewManager = value;\n  }\n\n  private _drawerToolbar: DrawerToolbar;\n  private get drawerToolbar(): DrawerToolbar {\n    return this._drawerToolbar;\n  }\n  private set drawerToolbar(value: DrawerToolbar) {\n    this._drawerToolbar = value;\n  }\n\n  private _sceneId: string;\n  private get sceneId(): string {\n    return this._sceneId;\n  }\n  private set sceneId(value: string) {\n    this._sceneId = value;\n  }\n\n  private _contentType: ContentType;\n  private get contentType(): ContentType {\n    return this._contentType;\n  }\n  private set contentType(value: ContentType) {\n    this._contentType = value;\n  }\n\n  private _initialViewInfo: ViewInfo;\n  private get initialViewInfo(): ViewInfo {\n    return this._initialViewInfo;\n  }\n  private set initialViewInfo(value: ViewInfo) {\n    this._initialViewInfo = value;\n  }\n\n  private _leafNodeRefs: NodeRef[];\n  private get leafNodeRefs(): NodeRef[] {\n    return this._leafNodeRefs;\n  }\n  private set leafNodeRefs(value: NodeRef[]) {\n    this._leafNodeRefs = value;\n  }\n\n  private _viewPriorToIsolateViewInfo: any;\n  private get viewPriorToIsolateViewInfo(): any {\n    return this._viewPriorToIsolateViewInfo;\n  }\n  private set viewPriorToIsolateViewInfo(value: any) {\n    this._viewPriorToIsolateViewInfo = value;\n  }\n\n  private _viewportAdded$: Observable<void>;\n  private get viewportAdded$(): Observable<void> {\n    return this._viewportAdded$;\n  }\n  private set viewportAdded$(value: Observable<void>) {\n    this._viewportAdded$ = value;\n  }\n\n  private _selectedNodeIds$ = new BehaviorSubject<string[]>([]);\n  private get selectedNodeIds$(): BehaviorSubject<string[]> {\n    return this._selectedNodeIds$;\n  }\n  private set selectedNodeIds$(value: BehaviorSubject<string[]>) {\n    this._selectedNodeIds$ = value;\n  }\n\n  private _sceneLoadInfo$ = new BehaviorSubject<SceneLoadInfo>({\n    sceneLoadState: SceneLoadState.NotStarted,\n  });\n  public get sceneLoadInfo$(): BehaviorSubject<SceneLoadInfo> {\n    return this._sceneLoadInfo$;\n  }\n\n  protected readonly DEFAULT_BACKGROUND_TOP_COLOR = '--cx-color-inverse';\n  protected readonly DEFAULT_BACKGROUND_BOTTOM_COLOR = '--cx-color-inverse';\n  protected readonly DEFAULT_HOTSPOT_SELECTION_HIGHLIGHT_COLOR =\n    'rgba(255, 0, 0, 0.6)';\n  protected readonly DEFAULT_SHOW_ALL_HOTSPOTS_COLOR = 'rgba(255, 255, 0, 0.3)';\n  protected readonly DEFAULT_OUTLINE_COLOR = 'red';\n  protected readonly DEFAULT_OUTLINE_WIDTH = 5;\n  protected readonly DEFAULT_SELECTION_MODE = SelectionMode.Exclusive;\n  protected readonly DEFAULT_SHOW_ALL_HOTSPOTS_ENABLED = false;\n  protected readonly DEFAULT_EXCLUDED_OPACITY = 0.2;\n  protected readonly DEFAULT_ZOOM_TO_MARGIN = 0.2;\n  protected readonly DEFAULT_FLY_TO_DURATION = 1;\n\n  private _flyToDurationInSeconds = this.DEFAULT_FLY_TO_DURATION;\n  private get flyToDurationInSeconds() {\n    return this._flyToDurationInSeconds;\n  }\n  private set flyToDurationInSeconds(value) {\n    this._flyToDurationInSeconds = value;\n  }\n  private _zoomToMargin = this.DEFAULT_ZOOM_TO_MARGIN;\n  private get zoomToMargin() {\n    return this._zoomToMargin;\n  }\n  private set zoomToMargin(value) {\n    this._zoomToMargin = value;\n  }\n\n  /**\n   * The top colour of the background gradient.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-background' with the quotes.\n   */\n  public set backgroundTopColor(backgroundTopColor: string) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._backgroundTopColor === backgroundTopColor) {\n      return;\n    }\n    this._backgroundTopColor = backgroundTopColor;\n    this.executeWhenSceneLoaded(() => {\n      this.viewport.setBackgroundColorTop(this.getCSSColor(backgroundTopColor));\n    });\n  }\n  public get backgroundTopColor(): string {\n    return this._backgroundTopColor;\n  }\n  private _backgroundTopColor: string;\n\n  /**\n   * The bottom colour of the background gradient.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-background' with the quotes.\n   */\n  public set backgroundBottomColor(backgroundBottomColor: string) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._backgroundBottomColor === backgroundBottomColor) {\n      return;\n    }\n    this._backgroundBottomColor = backgroundBottomColor;\n    this.executeWhenSceneLoaded(() => {\n      this.viewport.setBackgroundColorBottom(\n        this.getCSSColor(backgroundBottomColor)\n      );\n    });\n  }\n  public get backgroundBottomColor(): string {\n    return this._backgroundBottomColor;\n  }\n  private _backgroundBottomColor: string;\n\n  /**\n   * The colour applied to selected 2D hotspots in 2D content.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-primary' with the quotes.\n   */\n  public set hotspotSelectionColor(hotspotSelectionColor: string) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._hotspotSelectionColor === hotspotSelectionColor) {\n      return;\n    }\n    this._hotspotSelectionColor = hotspotSelectionColor;\n    this.executeWhenSceneLoaded(() => {\n      this.viewStateManager.setHighlightColor(\n        this.getCSSColor(hotspotSelectionColor)\n      );\n    });\n  }\n  public get hotspotSelectionColor(): string {\n    return this._hotspotSelectionColor;\n  }\n  private _hotspotSelectionColor: string;\n\n  /**\n   * Highlights all hotspots in 2D content that are included in the includedProductCodes property using the colour specified by the showAllHotspotsColor property.\n   */\n  public set showAllHotspotsEnabled(showAllHotspotsEnabled: boolean) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._showAllHotspotsEnabled === showAllHotspotsEnabled) {\n      return;\n    }\n    this._showAllHotspotsEnabled = showAllHotspotsEnabled;\n    this.executeWhenSceneLoaded(() => {\n      this.applyInclusionStyle(this._includedProductCodes);\n    });\n  }\n  public get showAllHotspotsEnabled(): boolean {\n    return this._showAllHotspotsEnabled;\n  }\n  private _showAllHotspotsEnabled: boolean;\n\n  /**\n   * The colour used to highlight hotspots in 2D content when the showAllHotspotsEnabled property has a value of true.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-primary' with the quotes.\n   */\n  public set showAllHotspotsColor(showAllHotspotsColor: string) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._showAllHotspotsColor === showAllHotspotsColor) {\n      return;\n    }\n    this._showAllHotspotsColor = showAllHotspotsColor;\n    this.executeWhenSceneLoaded(() => {\n      const cssColor = this.getCSSColor(showAllHotspotsColor);\n      this.viewport.setShowAllHotspotsTintColor(cssColor);\n    });\n  }\n  public get showAllHotspotsColor(): string {\n    return this._showAllHotspotsColor;\n  }\n  private _showAllHotspotsColor: string;\n\n  /**\n   * The outline colour used to indicate selected objects in 3D content.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-primary' with the quotes.\n   */\n  public set outlineColor(outlineColor: string) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._outlineColor === outlineColor) {\n      return;\n    }\n    this._outlineColor = outlineColor;\n    this.executeWhenSceneLoaded(() => {\n      this.viewStateManager.setOutlineColor(this.getCSSColor(outlineColor));\n    });\n  }\n  public get outlineColor(): string {\n    return this._outlineColor;\n  }\n  private _outlineColor: string;\n\n  /**\n   * The width of the outline used to indicate selected objects in 3D content.\n   */\n  public set outlineWidth(outlineWidth: number) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._outlineWidth === outlineWidth) {\n      return;\n    }\n    this._outlineWidth = outlineWidth;\n    this.executeWhenSceneLoaded(() => {\n      this.viewStateManager.setOutlineWidth(outlineWidth);\n    });\n  }\n  public get outlineWidth(): number {\n    return this._outlineWidth;\n  }\n  private _outlineWidth: number;\n\n  /**\n   * The selection mode.\n   * None - Selection is disabled.\n   * Exclusive - When selecting objects in the viewport, at most one object can be selected at a time. Clicking/tapping to select a new object will deselect any previously selected objects.\n   * Sticky - A multiple selection mode in which clicking/tapping on an object that is not part of the current selection will toggle its selection state without modifying the selection state of the currently selected objects.\n   */\n  public set selectionMode(selectionMode: SelectionMode) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._selectionMode === selectionMode) {\n      return;\n    }\n    this._selectionMode = selectionMode;\n    this.executeWhenSceneLoaded(() => {\n      this.viewport.setSelectionMode(selectionMode);\n    });\n  }\n  public get selectionMode(): SelectionMode {\n    return this._selectionMode;\n  }\n  private _selectionMode: SelectionMode;\n\n  /**\n   * Gets/sets the selection in terms of product codes.\n   * Gets the set of product codes applied to the selected scene nodes.\n   * Sets the selection set based on the set of supplied product codes.\n   */\n  public set selectedProductCodes(selectedProductCodes: string[]) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this._selectedProductCodes = selectedProductCodes;\n    this.sceneNodeToProductLookupService\n      .lookupNodeIds(selectedProductCodes)\n      .pipe(first())\n      .subscribe((selectedNodeIds: string[]) => {\n        this.selectedNodeIds$.next(selectedNodeIds);\n      });\n  }\n  public get selectedProductCodes(): string[] {\n    return this._selectedProductCodes;\n  }\n  private _selectedProductCodes: string[];\n  selectedProductCodesChange = new EventEmitter<string[]>();\n\n  /**\n   * Gets/sets which objects should be selectable (in terms of product codes).\n   * For 3D content:\n   * - objects that are included will be selectable and opaque\n   * - objects that are not included will not be selectable and will have an opacity specified by the excludedOpacity property.\n   *\n   * For 2D content:\n   * - hotspots that are included will be selectable and can be made visible\n   * - hotspots that are not included will not be selectable or visible\n   */\n  public set includedProductCodes(includedProductCodes: string[]) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this._includedProductCodes = includedProductCodes;\n    this.executeWhenSceneLoaded(() => {\n      this.applyInclusionStyle(includedProductCodes);\n    });\n  }\n  public get includedProductCodes(): string[] {\n    return this._includedProductCodes;\n  }\n  private _includedProductCodes: string[];\n\n  /**\n   * Gets/sets the opacity to apply to 3D objects that are not in the set specified by the includedProductCodes property.\n   */\n  public set excludedOpacity(excludedOpacity: number) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this._excludedOpacity = excludedOpacity;\n  }\n  public get excludedOpacity(): number {\n    return this._excludedOpacity;\n  }\n  private _excludedOpacity: number = this.DEFAULT_EXCLUDED_OPACITY;\n\n  /**\n   * The current time position in seconds in the animation (if there is one).\n   */\n  public set animationTime(animationTime: number) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this._animationTime = animationTime;\n  }\n  public get animationTime(): number {\n    return this._animationTime;\n  }\n  private _animationTime: number;\n  animationTimeChange = new EventEmitter<number>();\n\n  /**\n   * The total duration of the animation in seconds.\n   * Returns 0 when there is no animation present (or when a scene has not been loaded).\n   */\n  public get animationTotalDuration(): number {\n    if (this.animationPlayer) {\n      return this.animationPlayer.getTotalDuration();\n    }\n    return 0;\n  }\n\n  /**\n   * The animation playback position as a fractional value between 0 (start) and 1 (end).\n   */\n  public set animationPosition(position: number) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._animationPosition === position) {\n      return;\n    }\n    this._animationPosition = position;\n    this.executeWhenSceneLoaded(() => {\n      const time = position * this.animationPlayer.getTotalDuration();\n      this.animationPlayerSetTime(time, false);\n    });\n  }\n  public get animationPosition(): number {\n    return this._animationPosition;\n  }\n  private _animationPosition: number = 0;\n  animationPositionChange = new EventEmitter<number>();\n\n  /**\n   * Gets/sets whether the animation (if there is one) is currently playing.\n   */\n  public set animationPlaying(animationPlaying: boolean) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._animationPlaying === animationPlaying) {\n      return;\n    }\n    this._animationPlaying = animationPlaying;\n    this.executeWhenSceneLoaded(() => {\n      if (animationPlaying) {\n        if (this.animationPosition >= 1) {\n          this.animationPlayerSetTime(0, false);\n        }\n        this.animationPlayer.play();\n      } else {\n        this.animationPlayer.stop();\n      }\n      this.animationPlayingChange.emit(animationPlaying);\n    });\n  }\n  public get animationPlaying(): boolean {\n    return this._animationPlaying;\n  }\n  private _animationPlaying: boolean = false;\n  animationPlayingChange = new EventEmitter<boolean>();\n\n  /**\n   * Controls the behaviour when a left mouse button drag is initiated in the viewport.\n   * Turntable: A left mouse drag performs a turntable mode rotation.\n   * Pan: A left mouse drag pans the camera in the viewport.\n   * Zoom: A left mouse drag zooms the camera in the viewport in or out\n   */\n  public set navigationMode(navigationMode: NavigationMode) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._navigationMode === navigationMode) {\n      return;\n    }\n\n    this._navigationMode = navigationMode;\n    this.executeWhenSceneLoaded(() => {\n      if (this.drawerToolbar && this.viewport) {\n        // sap.ui.vk library will have a public API to set the navigation mode in a future UI5 version\n        (this.drawerToolbar as any)._activateGesture(\n          (this.viewport as any).getImplementation(),\n          navigationMode\n        );\n      }\n    });\n  }\n  public get navigationMode(): NavigationMode {\n    return this._navigationMode;\n  }\n  private _navigationMode: NavigationMode;\n\n  /**\n   * Isolate mode allows a single object to be viewed in isolation.\n   */\n  public set isolateModeEnabled(isolateModeEnabled: boolean) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this._isolateModeEnabled === isolateModeEnabled) {\n      return;\n    }\n\n    this.executeWhenSceneLoaded(() => {\n      this._isolateModeEnabled = isolateModeEnabled;\n      if (isolateModeEnabled) {\n        this.viewPriorToIsolateViewInfo = this.viewport.getViewInfo({\n          camera: true,\n          visibility: true,\n        });\n\n        const selectedNodeRefs: NodeRef[] = [];\n        if (this.is2D) {\n          this.viewStateManager.enumerateSelection((nodeRef: NodeRef) =>\n            selectedNodeRefs.push(nodeRef)\n          );\n        } else {\n          this.viewStateManager.enumerateOutlinedNodes((nodeRef: NodeRef) =>\n            selectedNodeRefs.push(nodeRef)\n          );\n        }\n\n        this.isolateNodes(selectedNodeRefs);\n      } else {\n        this.viewport.setViewInfo(\n          this.viewPriorToIsolateViewInfo,\n          this.flyToDurationInSeconds\n        );\n      }\n\n      this.isolateModeEnabledChange.emit(this.isolateModeEnabled);\n    });\n  }\n  public get isolateModeEnabled(): boolean {\n    return this._isolateModeEnabled;\n  }\n  private _isolateModeEnabled = false;\n  isolateModeEnabledChange = new EventEmitter<boolean>();\n\n  /**\n   * Gets whether the viewport is displaying 2D content.\n   */\n  public get is2D(): boolean {\n    return this._is2D;\n  }\n  private setIs2D(is2D: boolean) {\n    this._is2D = is2D;\n  }\n  private _is2D: boolean;\n\n  /**\n   * Indicates that a scene has been loaded and the viewport is ready for interaction.\n   */\n  public get viewportReady(): boolean {\n    return this._viewportReady;\n  }\n  private setViewportReady(viewportReady: boolean) {\n    if (this._viewportReady === viewportReady) {\n      return;\n    }\n    this._viewportReady = viewportReady;\n    this.viewportReadyChange.emit(viewportReady);\n  }\n  private _viewportReady = false;\n  viewportReadyChange = new EventEmitter<boolean>();\n\n  /**\n   * Returns the user to the initial camera position used when a scene was first loaded.\n   */\n  public activateHomeView(): void {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    if (this.is2D) {\n      this.viewport.zoomTo(\n        ZoomTo.All,\n        null,\n        this.flyToDurationInSeconds,\n        this.zoomToMargin\n      );\n    } else {\n      this.viewport.setViewInfo(\n        this.initialViewInfo,\n        this.flyToDurationInSeconds\n      );\n    }\n\n    if (this.isolateModeEnabled) {\n      // Exit out of the isolate mode but don't restore the view that was\n      // saved before entering isolate mode\n      this._isolateModeEnabled = false;\n      this.isolateModeEnabledChange.emit(false);\n    }\n  }\n\n  /**\n   * Plays the animation (if one exists).\n   */\n  public playAnimation(): void {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this.animationPlaying = true;\n  }\n\n  /**\n   * Pauses animation playback.\n   */\n  public pauseAnimation(): void {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this.animationPlaying = false;\n  }\n\n  private contentChangesFinished =\n    new EventEmitter<VisualContentChangesFinishedEvent>();\n\n  private contentLoadFinished =\n    new EventEmitter<VisualContentLoadFinishedEvent>();\n\n  private setInitialPropertyValues(): void {\n    if (this.backgroundTopColor === undefined) {\n      this.backgroundTopColor = this.DEFAULT_BACKGROUND_TOP_COLOR;\n    }\n\n    if (this.backgroundBottomColor === undefined) {\n      this.backgroundBottomColor = this.DEFAULT_BACKGROUND_BOTTOM_COLOR;\n    }\n\n    if (this.hotspotSelectionColor === undefined) {\n      this.hotspotSelectionColor =\n        this.DEFAULT_HOTSPOT_SELECTION_HIGHLIGHT_COLOR;\n    }\n\n    if (this.showAllHotspotsColor === undefined) {\n      this.showAllHotspotsColor = this.DEFAULT_SHOW_ALL_HOTSPOTS_COLOR;\n    }\n\n    if (this.outlineColor === undefined) {\n      this.outlineColor = this.DEFAULT_OUTLINE_COLOR;\n    }\n\n    if (this.outlineWidth === undefined) {\n      this.outlineWidth = this.DEFAULT_OUTLINE_WIDTH;\n    }\n\n    if (this.selectionMode === undefined) {\n      this.selectionMode = this.DEFAULT_SELECTION_MODE;\n    }\n\n    if (this.showAllHotspotsEnabled === undefined) {\n      this.showAllHotspotsEnabled = this.DEFAULT_SHOW_ALL_HOTSPOTS_ENABLED;\n    }\n\n    if (this.is2D) {\n      if (\n        this.navigationMode === undefined ||\n        this.navigationMode === NavigationMode.Turntable\n      ) {\n        this.navigationMode = NavigationMode.Pan;\n      }\n    } else if (this.navigationMode === undefined) {\n      this.navigationMode = NavigationMode.Turntable;\n    }\n\n    if (this.selectedProductCodes === undefined) {\n      this.selectedProductCodes = this.selectedNodeIds$.getValue();\n    }\n  }\n\n  private executeWhenSceneLoaded(\n    callback: (loadedSceneInfo: LoadedSceneInfo) => void\n  ): void {\n    this.sceneLoadInfo$\n      .pipe(\n        filter(\n          (sceneLoadInfo: { sceneLoadState: SceneLoadState }) =>\n            sceneLoadInfo.sceneLoadState === SceneLoadState.Loaded ||\n            sceneLoadInfo.sceneLoadState === SceneLoadState.Failed\n        ),\n        first()\n      )\n      .subscribe((sceneLoadInfo: SceneLoadInfo) => {\n        if (sceneLoadInfo.sceneLoadState === SceneLoadState.Loaded) {\n          callback(sceneLoadInfo.loadedSceneInfo as LoadedSceneInfo);\n        }\n      });\n  }\n\n  private applyInclusionStyle(productCodes: string[]): void {\n    if (productCodes === undefined) {\n      return;\n    }\n\n    this.sceneNodeToProductLookupService\n      .lookupNodeIds(productCodes)\n      .pipe(first())\n      .subscribe((sceneNodeIds: string[]) => {\n        if (this.is2D) {\n          this.applyInclusionStyle2D(sceneNodeIds);\n        } else {\n          this.applyInclusionStyle3D(sceneNodeIds);\n        }\n      });\n  }\n\n  private applyInclusionStyle2D(sceneNodeIds: string[]): void {\n    const nodeRefsToInclude: NodeRef[] = this.persistentIdToNodeRef(\n      sceneNodeIds,\n      true\n    );\n    const hotspotNodeRefs: NodeRef[] = this.nodeHierarchy.getHotspotNodeIds();\n    const hotspotNodeRefsSet: Set<NodeRef> = new Set(hotspotNodeRefs);\n    // Hotspot nodes can have descendants that are also Hotspot nodes.\n    // Ignore the descendant nodes and apply modifications at the highest level only.\n    const topLevelHotspotNodeRefs: NodeRef[] = hotspotNodeRefs.filter(\n      (hotspotNodeRef: NodeRef) =>\n        this.isTopLevelHotspotNode(hotspotNodeRef, hotspotNodeRefsSet)\n    );\n    if (this._showAllHotspotsEnabled) {\n      const nodeRefsToIncludeSet = new Set(nodeRefsToInclude);\n      const nodeRefsToExclude: NodeRef[] = topLevelHotspotNodeRefs.filter(\n        (nodeRef: NodeRef) => !nodeRefsToIncludeSet.has(nodeRef)\n      );\n      this.viewport.showHotspots(nodeRefsToExclude, false, 0);\n      this.viewport.showHotspots(\n        nodeRefsToInclude,\n        true,\n        this.getCSSColor(this._showAllHotspotsColor)\n      );\n    } else {\n      this.viewport.showHotspots(topLevelHotspotNodeRefs, false, 0);\n    }\n  }\n\n  private applyInclusionStyle3D(sceneNodeIds: string[]): void {\n    const nodeRefsToInclude: NodeRef[] = this.persistentIdToNodeRef(\n      sceneNodeIds,\n      true\n    );\n\n    if (!this.leafNodeRefs) {\n      this.leafNodeRefs = this.getAllLeafNodeRefs();\n    }\n\n    const leafNodeRefsToInclude = nodeRefsToInclude.flatMap(\n      (nodeRef: NodeRef) => this.getLeafDescendants(nodeRef, [])\n    );\n    const leafNodeRefsToIncludeSet = new Set(leafNodeRefsToInclude);\n    const leafNodeRefsToExclude = this.leafNodeRefs.filter(\n      (leafNodeRef: NodeRef) => !leafNodeRefsToIncludeSet.has(leafNodeRef)\n    );\n\n    this.viewStateManager.setOpacity(\n      leafNodeRefsToExclude,\n      this.excludedOpacity\n    );\n    leafNodeRefsToInclude.forEach((nodeRef: NodeRef) =>\n      this.viewStateManager.setOpacity(\n        nodeRef,\n        this.viewStateManager.getRestOpacity(nodeRef)\n      )\n    );\n  }\n\n  private isTopLevelHotspotNode(\n    hotspotNodeRef: NodeRef,\n    hotspotNodeRefs: Set<NodeRef>\n  ): boolean {\n    return !this.nodeHierarchy\n      .getAncestors(hotspotNodeRef)\n      .some((ancestor: NodeRef) => hotspotNodeRefs.has(ancestor));\n  }\n\n  private isReferenceNode(nodeRef: NodeRef): boolean {\n    return (\n      this.nodeHierarchy.getNodeContentType(nodeRef) ===\n      NodeContentType.Reference\n    );\n  }\n\n  private getLeafDescendants(\n    nodeRef: NodeRef,\n    leafNodeRefs: NodeRef[]\n  ): NodeRef[] {\n    if (!this.isReferenceNode(nodeRef)) {\n      const children = this.nodeHierarchy\n        .getChildren(nodeRef, false)\n        .filter((childNodeRef: NodeRef) => !this.isReferenceNode(childNodeRef));\n\n      if (children.length === 0) {\n        leafNodeRefs.push(nodeRef);\n      } else {\n        children.forEach((childNodeRef: NodeRef) =>\n          this.getLeafDescendants(childNodeRef, leafNodeRefs)\n        );\n      }\n    }\n    return leafNodeRefs;\n  }\n\n  private getAllLeafNodeRefs(): NodeRef[] {\n    return this.nodeHierarchy\n      .getChildren(undefined)\n      .flatMap((nodeRef: NodeRef) => this.getLeafDescendants(nodeRef, []));\n  }\n\n  private isolateNodes(nodeRefsToIsolate: object[]): void {\n    // isolate just the first selected node\n    nodeRefsToIsolate = nodeRefsToIsolate.slice(0, 1);\n\n    this.viewport.zoomTo(\n      ZoomTo.Node,\n      nodeRefsToIsolate,\n      this.flyToDurationInSeconds,\n      this.zoomToMargin\n    );\n\n    const currentVisibleSids: string[] =\n      this.viewPriorToIsolateViewInfo.visibility.visible || [];\n    const currentVisibleNodeRefs: NodeRef[] = this.persistentIdToNodeRef(\n      currentVisibleSids,\n      true\n    );\n    this.viewStateManager.setVisibilityState(\n      currentVisibleNodeRefs,\n      false,\n      true,\n      false\n    );\n    this.viewStateManager.setVisibilityState(\n      nodeRefsToIsolate,\n      true,\n      true,\n      true\n    );\n  }\n\n  private animationPlayerSetTime(time: number, blockEvents: boolean): void {\n    // bug workaround\n    // the overload with no sequence number parameter blows up\n    (this.animationPlayer as any).setTime(time, undefined, blockEvents);\n  }\n\n  private onViewActivated(): void {\n    this.initialViewInfo = this.viewport.getViewInfo({\n      camera: true,\n      visibility: true,\n    });\n  }\n\n  private onTimeChanged(oEvent: any): void {\n    let changes = false;\n\n    const time: number = oEvent.getParameters().time;\n    if (this.animationTime !== time) {\n      this.animationTime = time;\n      this.animationTimeChange.emit(time);\n      changes = true;\n    }\n\n    const position = this.animationTotalDuration\n      ? this.animationTime / this.animationTotalDuration\n      : 0;\n    if (this.animationPosition !== position) {\n      this.animationPosition = position;\n      this.animationPositionChange.emit(position);\n      changes = true;\n    }\n\n    if (this.animationPlaying) {\n      if (this.animationPosition >= 1) {\n        this._animationPlaying = false;\n        this.animationPlayingChange.emit(this._animationPlaying);\n      }\n    }\n\n    if (changes) {\n      // This is needed for the animation slider handle position to get updated\n      // while an animation is playing.\n      // Otherwise it typically only moves once the animation playback has paused.\n      this.changeDetectorRef.detectChanges();\n    }\n  }\n\n  private setVisualizationLoadInfo(\n    visualizationLoadInfo: VisualizationLoadInfo\n  ) {\n    this._visualizationLoadInfo = visualizationLoadInfo;\n    this.visualizationLoadInfoChange.emit(visualizationLoadInfo);\n    this.changeDetectorRef.detectChanges();\n  }\n  public get visualizationLoadInfo(): VisualizationLoadInfo {\n    return this._visualizationLoadInfo;\n  }\n  private _visualizationLoadInfo: VisualizationLoadInfo;\n  public visualizationLoadInfoChange =\n    new EventEmitter<VisualizationLoadInfo>();\n\n  public loadVisualization(\n    productCode: string\n  ): Observable<VisualizationLoadInfo> {\n    if (!this.windowRef.isBrowser()) {\n      return of({\n        lookupResult: VisualizationLookupResult.UnexpectedError,\n        loadStatus: VisualizationLoadStatus.UnexpectedError,\n        errorMessage: 'Should not call loadVisualization in server side code',\n      });\n    }\n    this.selectedNodeIdsSubscription?.unsubscribe();\n\n    return this.viewportAdded$.pipe(\n      mergeMap(() =>\n        this.resolveVisualization(productCode).pipe(\n          mergeMap((visualizationLoadInfo: VisualizationLoadInfo) => {\n            if (\n              visualizationLoadInfo.lookupResult ===\n              VisualizationLookupResult.UniqueMatchFound\n            ) {\n              this.sceneNodeToProductLookupService.populateMapsForScene(\n                this.sceneId\n              );\n\n              let mergedVisualizationLoadInfo: VisualizationLoadInfo = {\n                ...visualizationLoadInfo,\n                loadStatus: VisualizationLoadStatus.Loading,\n              };\n              this.setVisualizationLoadInfo(mergedVisualizationLoadInfo);\n\n              return this.loadScene(this.sceneId, this.contentType).pipe(\n                mergeMap((sceneLoadInfo: SceneLoadInfo) => {\n                  if (sceneLoadInfo.sceneLoadState === SceneLoadState.Failed) {\n                    mergedVisualizationLoadInfo = {\n                      ...visualizationLoadInfo,\n                      loadStatus: VisualizationLoadStatus.UnexpectedError,\n                      errorMessage: sceneLoadInfo.errorMessage,\n                    };\n                  } else {\n                    this.selectedNodeIdsSubscription =\n                      this.selectedNodeIds$.subscribe(\n                        this.handleSelectedNodeIds.bind(this)\n                      );\n\n                    mergedVisualizationLoadInfo = {\n                      ...visualizationLoadInfo,\n                      loadStatus: VisualizationLoadStatus.Loaded,\n                    };\n                  }\n                  this.setVisualizationLoadInfo(mergedVisualizationLoadInfo);\n                  return of(mergedVisualizationLoadInfo);\n                })\n              );\n            } else {\n              return of(visualizationLoadInfo);\n            }\n          })\n        )\n      )\n    );\n  }\n\n  private isUi5BootStrapped(): boolean {\n    return (\n      !!this.windowRef.nativeWindow &&\n      !!(this.windowRef.nativeWindow as any).sap\n    );\n  }\n\n  private getCore(): Core {\n    return sap.ui.getCore();\n  }\n\n  private bootstrapUi5(scriptElementId: string): Observable<void> {\n    const epdVisualization = this.epdVisualizationConfig\n      .epdVisualization as EpdVisualizationInnerConfig;\n    const ui5Config = epdVisualization.ui5 as Ui5Config;\n\n    return new Observable((subscriber) => {\n      if (this.isUi5BootStrapped()) {\n        subscriber.next();\n        subscriber.complete();\n        return;\n      }\n\n      const script = this.windowRef.document.createElement('script');\n      script.setAttribute('id', scriptElementId);\n      this.windowRef.document\n        .getElementsByTagName('head')[0]\n        .appendChild(script);\n      script.onload = () => {\n        subscriber.next();\n        subscriber.complete();\n      };\n      script.onerror = (error: any) => {\n        subscriber.error(error);\n        subscriber.complete();\n      };\n      script.id = 'sap-ui-bootstrap';\n      script.type = 'text/javascript';\n      script.setAttribute('data-sap-ui-compatVersion', 'edge');\n      script.src = ui5Config.bootstrapUrl;\n    });\n  }\n\n  private initializeUi5(): Observable<void> {\n    return new Observable((subscriber) => {\n      const core: Core = this.getCore();\n      core.attachInit(() => {\n        const loadLibraryOptions = { async: true };\n        Promise.all([\n          core.loadLibrary('sap.m', loadLibraryOptions),\n          core.loadLibrary('sap.ui.layout', loadLibraryOptions),\n          core.loadLibrary('sap.ui.vk', loadLibraryOptions),\n          core.loadLibrary('sap.ui.richtexteditor', loadLibraryOptions),\n        ]).then(() => {\n          subscriber.next();\n          subscriber.complete();\n        });\n      });\n    });\n  }\n\n  private destroyViewportAssociations(viewport: Viewport): void {\n    const core = this.getCore();\n    if (!core) {\n      return;\n    }\n\n    const contentConnectorId = viewport.getContentConnector();\n    if (contentConnectorId) {\n      const contentConnector = core.byId(contentConnectorId);\n      if (contentConnector) {\n        contentConnector.destroy();\n      }\n    }\n\n    const viewStateManagerId = viewport.getViewStateManager();\n\n    if (viewStateManagerId && core.byId(viewStateManagerId)) {\n      const viewStateManager = core.byId(\n        viewStateManagerId\n      ) as ViewStateManager;\n\n      if (viewStateManager) {\n        const animationPlayer = viewStateManager.getAnimationPlayer();\n        if (animationPlayer) {\n          animationPlayer.destroy();\n        }\n\n        const viewManagerId = viewStateManager.getViewManager();\n        if (viewManagerId) {\n          const viewManager = core.byId(viewManagerId);\n          if (viewManager) {\n            viewManager.destroy();\n          }\n        }\n        viewStateManager.destroy();\n      }\n    }\n  }\n\n  private onContentChangesStarted(): void {\n    this.viewport.detachNodesPicked(this.onNodesPicked);\n  }\n\n  private onContentChangesFinished(event: any): void {\n    const content = event.getParameter('content');\n    const failureReason = event.getParameter('failureReason');\n    if (!!content && !failureReason) {\n      this.scene = content;\n      this.nodeHierarchy = this.scene.getDefaultNodeHierarchy();\n\n      this.viewport.attachNodesPicked(this.onNodesPicked, this);\n\n      if (content.loaders) {\n        content.loaders.forEach((contentLoader: any) => {\n          if (\n            contentLoader &&\n            contentLoader.attachLoadingFinished !== undefined\n          ) {\n            contentLoader.attachLoadingFinished(\n              this.onContentLoadingFinished,\n              this\n            );\n          }\n        });\n      }\n    }\n    this.contentChangesFinished.emit({\n      content,\n      failureReason,\n    });\n  }\n\n  private onContentLoadingFinished(_event: any): void {\n    this.contentLoadFinished.emit({});\n  }\n\n  private onNodesPicked(event: any): void {\n    if (this.is2D) {\n      this.onNodesPicked2D(event);\n    } else {\n      this.onNodesPicked3D(event);\n    }\n  }\n\n  private isNodeIncluded(nodeRef: NodeRef): boolean {\n    const sids: string[] = this.nodeRefToPersistentId([nodeRef], true);\n    const productCodes =\n      this.sceneNodeToProductLookupService.syncLookupProductCodes(sids);\n    return (\n      !!productCodes &&\n      productCodes.some((productCode: string) =>\n        this.includedProductCodes.includes(productCode)\n      )\n    );\n  }\n\n  private onNodesPicked2D(event: any): void {\n    const pickedNodes = event.getParameter('picked');\n    if (pickedNodes.length === 0) {\n      return;\n    }\n\n    const hotSpots = pickedNodes.filter(\n      (node: any) =>\n        node.nodeContentType && node.nodeContentType === NodeContentType.Hotspot\n    );\n    if (hotSpots.length === 0) {\n      return;\n    }\n\n    const includedHotSpots: NodeRef[] = hotSpots.filter((nodeRef: NodeRef) =>\n      this.isNodeIncluded(nodeRef)\n    );\n\n    pickedNodes.splice(0);\n    includedHotSpots.forEach((includedHotSpot: any) =>\n      pickedNodes.push(includedHotSpot)\n    );\n  }\n\n  private onNodesPicked3D(event: any): void {\n    const picked: NodeRef[] = event.getParameter('picked');\n    const src: NodeRef[] = picked.splice(0, picked.length);\n\n    src.forEach((node: NodeRef) => {\n      while (!this.isNodeIncluded(node)) {\n        node = node.parent;\n        if (!node) {\n          break;\n        }\n      }\n      if (node) {\n        picked.push(node);\n      }\n    });\n  }\n\n  private addViewport(): Observable<void> {\n    return new Observable((subscriber) => {\n      sap.ui.require(\n        [\n          'sap/ui/vk/ViewManager',\n          'sap/ui/vk/Viewport',\n          'sap/ui/vk/ViewStateManager',\n          'sap/ui/vk/AnimationPlayer',\n          'sap/ui/vk/ContentConnector',\n          'sap/ui/vk/DrawerToolbar',\n        ],\n        (\n          sap_ui_vk_ViewManager: any,\n          sap_ui_vk_Viewport: any,\n          sap_ui_vk_ViewStateManager: any,\n          sap_ui_vk_AnimationPlayer: any,\n          sap_ui_vk_ContentConnector: any,\n          sap_ui_vk_DrawerToolbar: any\n        ) => {\n          const core: Core = this.getCore();\n          const uiArea: UIArea | null | undefined = core.getUIArea(\n            this.elementRef.nativeElement\n          );\n          if (uiArea) {\n            const oldViewport = uiArea.getContent()[0] as Viewport;\n            this.destroyViewportAssociations(oldViewport);\n            uiArea.destroyContent();\n          }\n\n          this.viewport = new sap_ui_vk_Viewport({ visible: false });\n          this.viewport.placeAt(this.elementRef.nativeElement);\n\n          this.contentConnector = new sap_ui_vk_ContentConnector();\n          this.contentConnector.attachContentChangesStarted(\n            this.onContentChangesStarted,\n            this\n          );\n          this.contentConnector.attachContentChangesFinished(\n            this.onContentChangesFinished,\n            this\n          );\n          this.contentConnector.attachContentLoadingFinished(\n            this.onContentLoadingFinished,\n            this\n          );\n\n          this.viewStateManager = new sap_ui_vk_ViewStateManager({\n            contentConnector: this.contentConnector,\n          });\n\n          this.viewport.setContentConnector(this.contentConnector);\n          this.viewport.setViewStateManager(this.viewStateManager);\n\n          this.animationPlayer = new sap_ui_vk_AnimationPlayer();\n          this.animationPlayer.setViewStateManager(this.viewStateManager);\n\n          this.animationPlayer.attachViewActivated(this.onViewActivated, this);\n          this.animationPlayer.attachTimeChanged(this.onTimeChanged, this);\n\n          this.viewManager = new sap_ui_vk_ViewManager({\n            contentConnector: this.contentConnector,\n            animationPlayer: this.animationPlayer,\n          });\n\n          this.viewStateManager.setViewManager(this.viewManager);\n          this.viewStateManager.attachSelectionChanged(\n            this.onSelectionChanged,\n            this\n          );\n          this.viewStateManager.attachOutliningChanged(\n            this.onOutliningChanged,\n            this\n          );\n\n          this.drawerToolbar = new sap_ui_vk_DrawerToolbar({\n            viewport: this.viewport,\n            visible: false,\n          });\n\n          this.viewport.addDependent(this.drawerToolbar);\n          subscriber.next();\n          subscriber.complete();\n        }\n      );\n    });\n  }\n\n  private getCSSPropertyValue(cssPropertyName: string): string {\n    const storefrontElement = document.getElementsByTagName('cx-storefront')[0];\n    return getComputedStyle(storefrontElement).getPropertyValue(\n      cssPropertyName\n    );\n  }\n\n  private getCSSColor(color: string): CSSColor {\n    return (this.getCSSPropertyValue(color) || color).trim() as CSSColor;\n  }\n\n  private resolveVisualization(\n    productCode: string\n  ): Observable<VisualizationLoadInfo> {\n    return this.visualizationLookupService\n      .findMatchingVisualizations(productCode)\n      .pipe(\n        mergeMap((matches: VisualizationInfo[]) => {\n          let visualizationLoadInfo: VisualizationLoadInfo;\n          switch (matches.length) {\n            case 0:\n              visualizationLoadInfo = {\n                lookupResult: VisualizationLookupResult.NoMatchFound,\n                loadStatus: VisualizationLoadStatus.NotStarted,\n                matches,\n              };\n              break;\n            case 1:\n              const matchingVisualization = matches[0];\n              this.sceneId = matchingVisualization.sceneId;\n              this.contentType = matchingVisualization.contentType;\n              visualizationLoadInfo = {\n                lookupResult: VisualizationLookupResult.UniqueMatchFound,\n                loadStatus: VisualizationLoadStatus.NotStarted,\n                matches,\n                visualization: matchingVisualization,\n              };\n              break;\n            default:\n              visualizationLoadInfo = {\n                lookupResult: VisualizationLookupResult.MultipleMatchesFound,\n                loadStatus: VisualizationLoadStatus.NotStarted,\n                matches,\n              };\n              break;\n          }\n          this.setVisualizationLoadInfo(visualizationLoadInfo);\n          return of(visualizationLoadInfo);\n        }),\n        catchError(() => {\n          let visualizationLoadInfo = {\n            lookupResult: VisualizationLookupResult.UnexpectedError,\n            loadStatus: VisualizationLoadStatus.NotStarted,\n          };\n          this.setVisualizationLoadInfo(visualizationLoadInfo);\n          return of(visualizationLoadInfo);\n        })\n      );\n  }\n\n  private persistentIdToNodeRef(\n    nodeIds: string[],\n    filterUnresolvedValues: boolean\n  ): NodeRef[] {\n    const nodeRefs: NodeRef[] = (this.scene as any).persistentIdToNodeRef(\n      nodeIds\n    );\n    return filterUnresolvedValues\n      ? nodeRefs.filter((nodeRef) => !!nodeRef)\n      : nodeRefs;\n  }\n\n  private nodeRefToPersistentId(\n    nodeRefs: object[],\n    filterUnresolvedValues: boolean\n  ): string[] {\n    const sids: string[] = (this.scene as any).nodeRefToPersistentId(nodeRefs);\n    return filterUnresolvedValues ? sids.filter((sid) => !!sid) : sids;\n  }\n\n  private getViewStateManagerImplementation(): any {\n    return (this.viewStateManager as any).getImplementation();\n  }\n\n  private handleSelectedNodeIds(nodeIds: string[]): void {\n    const nodeRefs = this.persistentIdToNodeRef(nodeIds, true);\n\n    if (this.is2D) {\n      this.handleSelectedNodes2D(nodeRefs);\n    } else {\n      this.handleSelectedNodes3D(nodeRefs);\n    }\n\n    if (this.isolateModeEnabled && nodeRefs.length > 0) {\n      this.isolateNodes(nodeRefs);\n    }\n    // Need to ensure a frame render occurs since we are blocking events\n    // when changing selection/outlining\n    this.setShouldRenderFrame();\n  }\n\n  private handleSelectedNodes2D(selectedNodes: NodeRef[]): void {\n    const existingSelection: NodeRef[] = [];\n    this.viewStateManager.enumerateSelection((nodeRef: NodeRef) =>\n      existingSelection.push(nodeRef)\n    );\n    this.viewStateManager.setSelectionStates(\n      [],\n      existingSelection,\n      false,\n      true\n    );\n    this.viewStateManager.setSelectionStates(selectedNodes, [], false, true);\n  }\n\n  private handleSelectedNodes3D(selectedNodes: NodeRef[]): void {\n    const existingOutlinedNodeRefs: NodeRef[] = [];\n    this.viewStateManager.enumerateOutlinedNodes((nodeRef: NodeRef) =>\n      existingOutlinedNodeRefs.push(nodeRef)\n    );\n    this.getViewStateManagerImplementation().setOutliningStates(\n      [],\n      existingOutlinedNodeRefs,\n      false,\n      true\n    );\n    this.getViewStateManagerImplementation().setOutliningStates(\n      selectedNodes,\n      [],\n      false,\n      true\n    );\n  }\n\n  private setShouldRenderFrame(): void {\n    (this.viewport as any).setShouldRenderFrame();\n  }\n\n  private is2DContentType(contentType: ContentType): boolean {\n    return contentType === ContentType.Drawing2D;\n  }\n\n  private loadScene(\n    sceneId: string,\n    contentType: ContentType\n  ): Observable<SceneLoadInfo> {\n    const epdVisualization = this.epdVisualizationConfig\n      .epdVisualization as EpdVisualizationInnerConfig;\n    const visualizationApiConfig =\n      epdVisualization.apis as VisualizationApiConfig;\n\n    if (this.viewportReady) {\n      this.setViewportReady(false);\n    }\n\n    this.setIs2D(this.is2DContentType(contentType));\n\n    return new Observable((subscriber) => {\n      sap.ui.require(['sap/ui/vk/ContentResource'], (ContentResource: any) => {\n        this.sceneLoadInfo$.next({\n          sceneLoadState: SceneLoadState.Loading,\n        });\n\n        this.viewport.setSelectionDisplayMode(\n          this.is2D ? 'Highlight' : 'Outline'\n        );\n\n        const baseUrl: string = visualizationApiConfig.baseUrl;\n\n        const contentResource: ContentResource = new ContentResource({\n          useSecureConnection: false,\n          sourceType: this.is2D ? 'stream2d' : 'stream',\n          source: `${baseUrl}/vis/public/storage/v1`,\n          veid: sceneId,\n        });\n\n        this.contentChangesFinished\n          .pipe(first())\n          .subscribe(\n            (visualContentLoadFinished: {\n              content: any;\n              failureReason: any;\n            }) => {\n              const succeeded = !!visualContentLoadFinished.content;\n              const sceneLoadInfo: SceneLoadInfo = succeeded\n                ? {\n                    sceneLoadState: SceneLoadState.Loaded,\n                    loadedSceneInfo: {\n                      sceneId,\n                      contentType,\n                    },\n                  }\n                : {\n                    sceneLoadState: SceneLoadState.Failed,\n                    errorMessage: visualContentLoadFinished.failureReason,\n                  };\n\n              this.sceneLoadInfo$.next(sceneLoadInfo);\n              subscriber.next(sceneLoadInfo);\n              subscriber.complete();\n            }\n          );\n\n        this.contentLoadFinished.pipe(first()).subscribe(() => {\n          const sceneLoadInfo = this.sceneLoadInfo$.value;\n          if (sceneLoadInfo.sceneLoadState === SceneLoadState.Loaded) {\n            this.setViewportReady(true);\n            // Ensure that the spinner is hidden before the viewport becomes visible.\n            // Otherwise the position of the spinner changes\n            this.changeDetectorRef.detectChanges();\n            this.viewport.setVisible(true);\n          }\n        });\n\n        this.contentConnector.addContentResource(contentResource);\n      });\n    });\n  }\n\n  private onSelectionChanged(): void {\n    const nodeRefs: NodeRef[] = [];\n    this.viewStateManager.enumerateSelection((nodeRef: NodeRef) =>\n      nodeRefs.push(nodeRef)\n    );\n\n    const nodeIds: string[] = this.nodeRefToPersistentId(nodeRefs, true);\n    this.sceneNodeToProductLookupService\n      .lookupProductCodes(nodeIds)\n      .pipe(first())\n      .subscribe((productCodes: string[]) => {\n        this.selectedProductCodesChange.emit(productCodes);\n      });\n  }\n\n  private onOutliningChanged(): void {\n    const nodeRefs: NodeRef[] = [];\n    this.viewStateManager.enumerateOutlinedNodes((nodeRef: NodeRef) =>\n      nodeRefs.push(nodeRef)\n    );\n\n    const nodeIds: string[] = this.nodeRefToPersistentId(nodeRefs, true);\n    this.sceneNodeToProductLookupService\n      .lookupProductCodes(nodeIds)\n      .pipe(first())\n      .subscribe((productCodes: string[]) => {\n        this.selectedProductCodesChange.emit(productCodes);\n      });\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  Output,\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { NavigationMode } from './models/navigation-mode';\nimport { SelectionMode } from './models/selection-mode';\nimport { VisualizationLoadInfo } from './models/visualization-load-info';\nimport { VisualViewerService } from './visual-viewer.service';\n\n@Component({\n  selector: 'cx-epd-visualization-viewer',\n  templateUrl: './visual-viewer.component.html',\n  providers: [VisualViewerService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VisualViewerComponent {\n  constructor(protected visualViewerService: VisualViewerService) {}\n\n  /**\n   * The top colour of the background gradient.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-background' with the quotes.\n   */\n  @Input()\n  set backgroundTopColor(backgroundTopColor: string) {\n    this.visualViewerService.backgroundTopColor = backgroundTopColor;\n  }\n  get backgroundTopColor(): string {\n    return this.visualViewerService.backgroundTopColor;\n  }\n\n  /**\n   * The bottom colour of the background gradient.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-background' with the quotes.\n   */\n  @Input()\n  set backgroundBottomColor(backgroundBottomColor: string) {\n    this.visualViewerService.backgroundBottomColor = backgroundBottomColor;\n  }\n  get backgroundBottomColor(): string {\n    return this.visualViewerService.backgroundBottomColor;\n  }\n\n  /**\n   * The colour applied to selected 2D hotspots in 2D content.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-primary' with the quotes.\n   */\n  @Input()\n  set hotspotSelectionColor(hotspotSelectionColor: string) {\n    this.visualViewerService.hotspotSelectionColor = hotspotSelectionColor;\n  }\n  get hotspotSelectionColor(): string {\n    return this.visualViewerService.hotspotSelectionColor;\n  }\n\n  /**\n   * When true, all hotspots in 2D content that are included in the includedProductCodes property are highlighted using the colour specified by the showAllHotspotsColor property.\n   */\n  @Input()\n  set showAllHotspotsEnabled(showAllHotspotsEnabled: boolean) {\n    this.visualViewerService.showAllHotspotsEnabled = showAllHotspotsEnabled;\n  }\n  get showAllHotspotsEnabled(): boolean {\n    return this.visualViewerService.showAllHotspotsEnabled;\n  }\n\n  /**\n   * The colour used to highlight hotspots in 2D content when the showAllHotspotsEnabled property has a value of true.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-primary' with the quotes.\n   */\n  @Input()\n  set showAllHotspotsColor(showAllHotspotsColor: string) {\n    this.visualViewerService.showAllHotspotsColor = showAllHotspotsColor;\n  }\n  get showAllHotspotsColor(): string {\n    return this.visualViewerService.showAllHotspotsColor;\n  }\n\n  /**\n   * The outline colour used to indicate selected objects in 3D content.\n   * Can be passed in the CSS color format or as a Spartacus theme color i.e. '--cx-color-primary' with the quotes.\n   */\n  @Input()\n  set outlineColor(outlineColor: string) {\n    this.visualViewerService.outlineColor = outlineColor;\n  }\n  get outlineColor(): string {\n    return this.visualViewerService.outlineColor;\n  }\n\n  /**\n   * The width of the outline (in pixels) used to indicate selected objects in 3D content.\n   */\n  @Input()\n  set outlineWidth(outlineWidth: number) {\n    this.visualViewerService.outlineWidth = outlineWidth;\n  }\n  get outlineWidth(): number {\n    return this.visualViewerService.outlineWidth;\n  }\n\n  /**\n   * The selection mode.\n   * None - Selection is disabled.\n   * Exclusive - When selecting objects in the viewport, at most one object can be selected at a time. Clicking/tapping to select a new object will deselect any previously selected objects.\n   * Sticky - A multiple selection mode in which clicking/tapping on an object that is not part of the current selection will toggle its selection state without modifying the selection state of the currently selected objects.\n   */\n  @Input()\n  set selectionMode(selectionMode: SelectionMode) {\n    this.visualViewerService.selectionMode = selectionMode;\n  }\n  get selectionMode(): SelectionMode {\n    return this.visualViewerService.selectionMode;\n  }\n\n  /**\n   * Gets/sets the selection in terms of product codes.\n   * Gets the set of product codes applied to the selected scene nodes.\n   * Sets the selection set based on the set of supplied product codes.\n   */\n  @Input()\n  set selectedProductCodes(selectedProductCodes: string[]) {\n    this.visualViewerService.selectedProductCodes = selectedProductCodes;\n  }\n  get selectedProductCodes(): string[] {\n    return this.visualViewerService.selectedProductCodes;\n  }\n  @Output()\n  selectedProductCodesChange =\n    this.visualViewerService.selectedProductCodesChange;\n\n  /**\n   * Gets/sets which objects should be selectable (in terms of product codes).\n   * For 3D content:\n   * - objects that are included will be selectable and opaque\n   * - objects that are not included will not be selectable and will have an opacity specified by the excludedOpacity property.\n   *\n   * For 2D content:\n   * - hotspots that are included will be selectable and can be made visible\n   * - hotspots that are not included will not be selectable or visible\n   */\n  @Input()\n  set includedProductCodes(includedProductCodes: string[]) {\n    this.visualViewerService.includedProductCodes = includedProductCodes;\n  }\n  get includedProductCodes(): string[] {\n    return this.visualViewerService.includedProductCodes;\n  }\n\n  /**\n   *  Gets/sets the opacity to apply to 3D objects that are not in the set specified by the includedProductCodes property\n   */\n  @Input()\n  set excludedOpacity(excludedOpacity: number) {\n    this.visualViewerService.excludedOpacity = excludedOpacity;\n  }\n  get excludedOpacity(): number {\n    return this.visualViewerService.excludedOpacity;\n  }\n\n  /**\n   * The current time position in seconds in the animation (if there is one).\n   */\n  @Input()\n  set animationTime(animationTime: number) {\n    this.visualViewerService.animationTime = animationTime;\n  }\n  get animationTime(): number {\n    return this.visualViewerService.animationTime;\n  }\n  @Output()\n  animationTimeChange = this.visualViewerService.animationTimeChange;\n\n  /**\n   * Gets the total duration of the animation (if there is one). A total duration of 0 indicates that there is no animation that can be played.\n   */\n  get animationTotalDuration(): number {\n    return this.visualViewerService.animationTotalDuration;\n  }\n\n  /**\n   *  The animation playback position as a fractional value between 0 (start) and 1 (end).\n   */\n  @Input()\n  set animationPosition(animationPosition: number) {\n    this.visualViewerService.animationPosition = animationPosition;\n  }\n  get animationPosition(): number {\n    return this.visualViewerService.animationPosition;\n  }\n  @Output() animationPositionChange =\n    this.visualViewerService.animationPositionChange;\n\n  /**\n   * Gets/sets whether the animation (if there is one) is currently playing.\n   */\n  @Input()\n  set animationPlaying(animationPlaying: boolean) {\n    this.visualViewerService.animationPlaying = animationPlaying;\n  }\n  get animationPlaying(): boolean {\n    return this.visualViewerService.animationPlaying;\n  }\n  @Output()\n  animationPlayingChange = this.visualViewerService.animationPlayingChange;\n\n  /**\n   * Controls the behaviour when a left mouse button drag is initiated in the viewport.\n   * Turntable: A left mouse drag performs a turntable mode rotation.\n   * Pan: A left mouse drag pans the camera in the viewport.\n   * Zoom: A left mouse drag zooms the camera in the viewport in or out\n   */\n  @Input()\n  set navigationMode(navigationMode: NavigationMode) {\n    this.visualViewerService.navigationMode = navigationMode;\n  }\n  get navigationMode(): NavigationMode {\n    return this.visualViewerService.navigationMode;\n  }\n\n  /**\n   * Isolate mode allows a single object to be viewed in isolation.\n   */\n  @Input()\n  set isolateModeEnabled(isolateModeEnabled: boolean) {\n    this.visualViewerService.isolateModeEnabled = isolateModeEnabled;\n  }\n  get isolateModeEnabled(): boolean {\n    return this.visualViewerService.isolateModeEnabled;\n  }\n  @Output()\n  isolateModeEnabledChange = this.visualViewerService.isolateModeEnabledChange;\n\n  /**\n   * Gets whether the viewport is displaying 2D content.\n   */\n  get is2D(): boolean {\n    return this.visualViewerService.is2D;\n  }\n\n  /**\n   * Indicates that a scene has been loaded and the viewport is ready for interaction.\n   */\n  get viewportReady(): boolean {\n    return this.visualViewerService.viewportReady;\n  }\n  @Output() viewportReadyChange = this.visualViewerService.viewportReadyChange;\n\n  /**\n   * Returns the user to the initial camera position used when a scene was first loaded.\n   */\n  public activateHomeView() {\n    this.visualViewerService.activateHomeView();\n  }\n\n  /**\n   * Plays the animation (if one exists).\n   */\n  public playAnimation(): void {\n    this.visualViewerService.playAnimation();\n  }\n\n  /**\n   * Pauses animation playback.\n   */\n  public pauseAnimation(): void {\n    this.visualViewerService.pauseAnimation();\n  }\n\n  /**\n   * Loads the visualization specified by the product code.\n   * @param productCode The product code of the visualization to load.\n   * @returns An observable that returns a single VisualizationLoadInfo value.\n   */\n  public loadVisualization(\n    productCode: string\n  ): Observable<VisualizationLoadInfo> {\n    return this.visualViewerService.loadVisualization(productCode);\n  }\n\n  // Provide access to enum types in template code\n  SelectionMode = SelectionMode;\n  NavigationMode = NavigationMode;\n}\n","<ng-container *ngIf=\"viewportReady; else loading\">\n  <div role=\"status\" [attr.aria-label]=\"'common.loaded' | cxTranslate\"></div>\n  <div class=\"content-type-symbol\" [hidden]=\"!viewportReady\">\n    <span class=\"content-type-text\">{{\n      (is2D\n        ? 'epdVisualization.visualViewer.contentType.drawing2D'\n        : 'epdVisualization.visualViewer.contentType.model3D'\n      ) | cxTranslate\n    }}</span>\n  </div>\n\n  <div class=\"bottom overlay\">\n    <div [hidden]=\"!viewportReady\" class=\"toolbar\">\n      <div class=\"toolbarHBox\">\n        <div class=\"toolbarButtonsHBox\">\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"homeButton\"\n            iconLibraryClass=\"fas\"\n            iconClass=\"fa-home\"\n            text=\"{{\n              'epdVisualization.visualViewer.toolbar.homeButton.label'\n                | cxTranslate\n            }}\"\n            (click)=\"activateHomeView()\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"turntableButton toolbarItem\"\n            iconLibraryClass=\"fas\"\n            iconClass=\"fa-sync-alt\"\n            text=\"{{\n              'epdVisualization.visualViewer.toolbar.rotateButton.label'\n                | cxTranslate\n            }}\"\n            [hidden]=\"is2D\"\n            (click)=\"navigationMode = NavigationMode.Turntable\"\n            [checked]=\"navigationMode === NavigationMode.Turntable\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"panButton toolbarItem\"\n            iconLibraryClass=\"fas\"\n            iconClass=\"fa-arrows-alt\"\n            text=\"{{\n              'epdVisualization.visualViewer.toolbar.panButton.label'\n                | cxTranslate\n            }}\"\n            (click)=\"navigationMode = NavigationMode.Pan\"\n            [checked]=\"navigationMode === NavigationMode.Pan\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"zoomButton toolbarItem\"\n            iconLibraryClass=\"fas\"\n            iconClass=\"fa-search\"\n            text=\"{{\n              'epdVisualization.visualViewer.toolbar.zoomButton.label'\n                | cxTranslate\n            }}\"\n            (click)=\"navigationMode = NavigationMode.Zoom\"\n            [checked]=\"navigationMode === NavigationMode.Zoom\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"isolateButton toolbarItem\"\n            iconLibraryClass=\"fas\"\n            [hidden]=\"is2D\"\n            [disabled]=\"\n              !isolateModeEnabled && selectedProductCodes?.length === 0\n            \"\n            iconClass=\"fa-compress\"\n            text=\"{{\n              'epdVisualization.visualViewer.toolbar.isolateButton.label'\n                | cxTranslate\n            }}\"\n            (click)=\"isolateModeEnabled = !isolateModeEnabled\"\n            [checked]=\"isolateModeEnabled\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"playPauseButton toolbarItem\"\n            iconLibraryClass=\"fas\"\n            iconClass=\"{{ animationPlaying ? 'fa-pause' : 'fa-play' }}\"\n            text=\"{{\n              (animationPlaying\n                ? 'epdVisualization.visualViewer.toolbar.pauseButton.label'\n                : 'epdVisualization.visualViewer.toolbar.playButton.label'\n              ) | cxTranslate\n            }}\"\n            [hidden]=\"is2D || animationTotalDuration <= 0\"\n            [disabled]=\"isolateModeEnabled\"\n            (click)=\"animationPlaying ? pauseAnimation() : playAnimation()\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n\n          <cx-epd-visualization-viewer-toolbar-button\n            class=\"showAllHotpotsButton toolbarItem\"\n            iconLibraryClass=\"fas\"\n            iconClass=\"fa-highlighter\"\n            text=\"{{\n              (showAllHotspotsEnabled\n                ? 'epdVisualization.visualViewer.toolbar.hotspotsButton.hide'\n                : 'epdVisualization.visualViewer.toolbar.hotspotsButton.show'\n              ) | cxTranslate\n            }}\"\n            [checked]=\"showAllHotspotsEnabled\"\n            [hidden]=\"!is2D\"\n            (click)=\"showAllHotspotsEnabled = !showAllHotspotsEnabled\"\n          ></cx-epd-visualization-viewer-toolbar-button>\n        </div>\n\n        <div [hidden]=\"is2D || animationTotalDuration <= 0\">\n          <cx-epd-visualization-animation-slider\n            [disabled]=\"isolateModeEnabled\"\n            [(value)]=\"animationPosition\"\n            (keydown.enter)=\"\n              animationPlaying ? pauseAnimation() : playAnimation();\n              $event.preventDefault()\n            \"\n            (keydown.space)=\"\n              animationPlaying ? pauseAnimation() : playAnimation();\n              $event.preventDefault()\n            \"\n          ></cx-epd-visualization-animation-slider>\n        </div>\n      </div>\n    </div>\n  </div>\n</ng-container>\n\n<ng-template #loading>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { I18nModule } from '@spartacus/core';\nimport { SpinnerModule } from '@spartacus/storefront';\nimport { VisualViewerAnimationSliderModule } from './toolbar/visual-viewer-animation-slider/visual-viewer-animation-slider.module';\nimport { VisualViewerToolbarButtonModule } from './toolbar/visual-viewer-toolbar-button/visual-viewer-toolbar-button.module';\nimport { VisualViewerComponent } from './visual-viewer.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    I18nModule,\n    VisualViewerToolbarButtonModule,\n    VisualViewerAnimationSliderModule,\n    SpinnerModule,\n  ],\n  declarations: [VisualViewerComponent],\n  exports: [VisualViewerComponent],\n})\nexport class VisualViewerModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { EventEmitter, Injectable } from '@angular/core';\nimport { Product, ProductReference } from '@spartacus/core';\nimport { combineLatest, concat, Observable, of } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class VisualPickingProductFilterService {\n  constructor() {\n    // Intentional empty constructor\n  }\n\n  /**\n   * The current filter value.\n   * @param filter The filter value to apply.\n   */\n  public set filter(filterStr: string) {\n    if (this._filter === filterStr) {\n      return;\n    }\n    this._filter = filterStr;\n    this.filter$.emit(filterStr);\n  }\n  public get filter(): string {\n    return this._filter;\n  }\n  private _filter: string = '';\n  private filter$ = new EventEmitter<string>();\n\n  /**\n   * The set of fields in product objects to perform matching against.\n   */\n  protected fieldsToMatch = ['code', 'name'];\n\n  protected applyFilter(\n    filterToApply: string,\n    unfilteredProductReferences: ProductReference[]\n  ): ProductReference[] {\n    filterToApply = filterToApply.toLowerCase();\n    const filteredProductReferences = unfilteredProductReferences.filter(\n      (productReference) => {\n        const product = productReference.target as Product;\n        return this.fieldsToMatch.some((field) => {\n          const fieldValue = (product as any)[field];\n          return (\n            fieldValue !== undefined &&\n            fieldValue.toLowerCase().indexOf(filterToApply) !== -1\n          );\n        });\n      }\n    );\n    return filteredProductReferences;\n  }\n\n  /**\n   * Returns an Observable that produces a ProductReference[] each time the filter is updated or the set of product references to filter changes.\n   * @param unfilteredProductReferences$ An Observable that returns the unfiltered ProductReference[] to apply filtering to.\n   * @returns An Observable that produces a ProductReference[] each time the filter is updated or the set of product references to filter changes.\n   */\n  public getFilteredProducts(\n    unfilteredProductReferences$: Observable<ProductReference[]>\n  ): Observable<ProductReference[]> {\n    return combineLatest([\n      concat(of(''), this.filter$),\n      unfilteredProductReferences$,\n    ]).pipe(\n      filter(\n        ([filterStr, productReferences]) =>\n          filterStr !== undefined && productReferences !== undefined\n      ),\n      map(([filterToApply, productReferences]) =>\n        this.applyFilter(filterToApply, productReferences)\n      )\n    );\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { ICON_TYPE } from '@spartacus/storefront';\nimport { VisualPickingProductFilterService } from './visual-picking-product-filter.service';\n\n@Component({\n  selector: 'cx-epd-visualization-product-filter',\n  templateUrl: './visual-picking-product-filter.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VisualPickingProductFilterComponent {\n  constructor(\n    protected visualPickingProductFilterService: VisualPickingProductFilterService\n  ) {}\n\n  /**\n   * The filter input value.\n   */\n  @Input()\n  set filter(filter: string) {\n    this.visualPickingProductFilterService.filter = filter;\n  }\n  get filter() {\n    return this.visualPickingProductFilterService.filter;\n  }\n\n  iconTypes = ICON_TYPE;\n}\n","<div class=\"form-group search-wrapper\">\n  <input\n    type=\"text\"\n    [(ngModel)]=\"filter\"\n    class=\"form-control\"\n    placeholder=\"{{\n      'epdVisualization.visualPicking.visualPickingProductFilter.input.placeholder'\n        | cxTranslate\n    }}\"\n  />\n\n  <cx-icon\n    [type]=\"iconTypes.SEARCH\"\n    [attr.aria-label]=\"\n      'epdVisualization.visualPicking.visualPickingProductFilter.searchButton.label'\n        | cxTranslate\n    \"\n    class=\"search\"\n    [hidden]=\"filter.length > 0\"\n  ></cx-icon>\n\n  <cx-icon\n    [type]=\"iconTypes.RESET\"\n    [attr.aria-label]=\"\n      'epdVisualization.visualPicking.visualPickingProductFilter.resetButton.label'\n        | cxTranslate\n    \"\n    (mousedown)=\"filter = ''\"\n    (keydown.enter)=\"filter = ''\"\n    [hidden]=\"filter.length === 0\"\n    class=\"reset\"\n    tabindex=\"0\"\n  ></cx-icon>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { I18nModule, UrlModule } from '@spartacus/core';\nimport { IconModule } from '@spartacus/storefront';\nimport { VisualPickingProductFilterComponent } from './visual-picking-product-filter.component';\nimport { VisualPickingProductFilterService } from './visual-picking-product-filter.service';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IconModule, UrlModule, I18nModule],\n  providers: [VisualPickingProductFilterService],\n  declarations: [VisualPickingProductFilterComponent],\n  exports: [VisualPickingProductFilterComponent],\n})\nexport class VisualPickingProductFilterModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\nimport { AddToCartComponent } from '@spartacus/cart/base/components/add-to-cart';\n\n@Component({\n  selector: 'cx-epd-visualization-compact-add-to-cart',\n  templateUrl: './compact-add-to-cart.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class CompactAddToCartComponent extends AddToCartComponent {}\n","<form *ngIf=\"productCode\" [formGroup]=\"addToCartForm\" (submit)=\"addToCart()\">\n  <button\n    *ngIf=\"hasStock\"\n    class=\"btn btn-sm btn-primary btn-block\"\n    type=\"submit\"\n    [disabled]=\"quantity <= 0 || quantity > maxQuantity\"\n  >\n    <cx-icon class=\"fa fa-cart-plus\"></cx-icon>\n  </button>\n</form>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { FeaturesConfigModule, I18nModule, UrlModule } from '@spartacus/core';\nimport {\n  IconModule,\n  ItemCounterModule,\n  PromotionsModule,\n  SpinnerModule,\n} from '@spartacus/storefront';\nimport { CompactAddToCartComponent } from './compact-add-to-cart.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RouterModule,\n    SpinnerModule,\n    PromotionsModule,\n    FeaturesConfigModule,\n    UrlModule,\n    IconModule,\n    I18nModule,\n    ItemCounterModule,\n  ],\n  declarations: [CompactAddToCartComponent],\n  exports: [CompactAddToCartComponent],\n})\nexport class CompactAddToCartModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  TemplateRef,\n} from '@angular/core';\nimport { ICON_TYPE } from '@spartacus/storefront';\nimport { Observable } from 'rxjs';\n/**\n * Generic in-memory paged list component that can be used to render arbitrary items in\n * a vertical orientation.\n * Previous/next buttons as well as indicator-buttons can used to navigate the slides (pages).\n *\n * To allow for flexible rendering of items, the rendering is delegated to the\n * given `template` and `headerTemplate`.\n */\n@Component({\n  selector: 'cx-epd-visualization-paged-list',\n  templateUrl: './paged-list.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PagedListComponent implements OnInit {\n  /**\n   * The title is rendered as the carousel heading.\n   */\n  @Input() title: string;\n\n  /**\n   * The items$ represent the carousel items.\n   */\n  @Input() items: Observable<any>[];\n\n  /**\n   * The headerTemplate is rendered above the item rows.\n   */\n  @Input() headerTemplate: TemplateRef<any>;\n\n  /**\n   * The template is rendered for each item, so that the actual\n   * view can be given by the component that uses the `PagedListComponent`.\n   */\n  @Input() template: TemplateRef<any>;\n\n  /**\n   * The maximum number of items per slide\n   */\n  @Input() itemsPerSlide = 10;\n\n  /**\n   * Indicates whether the visual indicators are used.\n   */\n  @Input() hideIndicators = false;\n\n  @Input() indicatorIcon = ICON_TYPE.CIRCLE;\n  @Input() previousIcon = ICON_TYPE.CARET_LEFT;\n  @Input() nextIcon = ICON_TYPE.CARET_RIGHT;\n\n  @Input() activeSlideStartIndex = 0;\n  @Output() activeSlideStartIndexChange = new EventEmitter<number>();\n\n  setActiveSlideStartIndex(activeSlideStartIndex: number) {\n    this.activeSlideStartIndex = activeSlideStartIndex;\n    this.activeSlideStartIndexChange.emit(activeSlideStartIndex);\n  }\n\n  constructor(protected el: ElementRef) {}\n\n  ngOnInit() {\n    if (!this.headerTemplate) {\n      console.error(\n        'No template reference provided to render the header for the `cx-epd-visualization-paged-list`'\n      );\n      return;\n    }\n\n    if (!this.template) {\n      console.error(\n        'No template reference provided to render the items for the `cx-epd-visualization-paged-list`'\n      );\n      return;\n    }\n  }\n}\n","<ng-container *ngIf=\"items?.length > 0 && itemsPerSlide\">\n  <h3 *ngIf=\"title\">{{ title }}</h3>\n\n  <ng-container *ngTemplateOutlet=\"headerTemplate\"></ng-container>\n\n  <div class=\"list-panel\">\n    <div class=\"slides\">\n      <ng-container *ngFor=\"let _ of items; let i = index\">\n        <div\n          class=\"slide\"\n          *ngIf=\"i % itemsPerSlide === 0\"\n          [class.active]=\"i === activeSlideStartIndex\"\n        >\n          <ng-container\n            *ngFor=\"\n              let item of items | slice: i:i + itemsPerSlide;\n              let j = index\n            \"\n          >\n            <div\n              *ngIf=\"item as data\"\n              class=\"item\"\n              [class.active]=\"i === activeSlideStartIndex\"\n            >\n              <ng-container\n                *ngTemplateOutlet=\"\n                  template;\n                  context: {\n                    item: data,\n                    active: i === activeSlideStartIndex\n                  }\n                \"\n              ></ng-container>\n            </div>\n          </ng-container>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n\n  <div\n    *ngIf=\"!hideIndicators && itemsPerSlide < items.length\"\n    class=\"indicators\"\n  >\n    <button\n      *ngIf=\"itemsPerSlide < items.length\"\n      class=\"previous\"\n      (click)=\"setActiveSlideStartIndex(activeSlideStartIndex - itemsPerSlide)\"\n      [disabled]=\"activeSlideStartIndex === 0\"\n    >\n      <cx-icon [type]=\"previousIcon\"></cx-icon>\n    </button>\n\n    <ng-container *ngFor=\"let _ of items; let i = index\">\n      <button\n        *ngIf=\"i % itemsPerSlide === 0\"\n        (click)=\"setActiveSlideStartIndex(i)\"\n        [disabled]=\"i === activeSlideStartIndex\"\n        class=\"slide-indicator\"\n      >\n        <cx-icon [type]=\"indicatorIcon\"></cx-icon>\n      </button>\n    </ng-container>\n\n    <button\n      *ngIf=\"itemsPerSlide < items.length\"\n      class=\"next\"\n      (click)=\"setActiveSlideStartIndex(activeSlideStartIndex + itemsPerSlide)\"\n      [disabled]=\"activeSlideStartIndex > items.length - itemsPerSlide - 1\"\n    >\n      <cx-icon [type]=\"nextIcon\"></cx-icon>\n    </button>\n  </div>\n</ng-container>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { UrlModule } from '@spartacus/core';\nimport { IconModule, MediaModule } from '@spartacus/storefront';\nimport { PagedListComponent } from './paged-list.component';\n\n@NgModule({\n  imports: [CommonModule, RouterModule, IconModule, MediaModule, UrlModule],\n  declarations: [PagedListComponent],\n  exports: [PagedListComponent],\n})\nexport class PagedListModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { EventEmitter, Injectable, OnDestroy } from '@angular/core';\nimport {\n  Product,\n  ProductReference,\n  ProductReferenceService,\n} from '@spartacus/core';\nimport {\n  EpdVisualizationConfig,\n  EpdVisualizationInnerConfig,\n  VisualPickingConfig,\n} from '@spartacus/epd-visualization/root';\nimport { CurrentProductService } from '@spartacus/storefront';\nimport { combineLatest, Observable, Subject, Subscription } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  shareReplay,\n  switchMap,\n  tap,\n} from 'rxjs/operators';\nimport { VisualPickingProductFilterService } from '../product-filter/visual-picking-product-filter.service';\nimport { VisualPickingProductListItem } from './model/visual-picking-product-list-item.model';\n\n@Injectable({\n  providedIn: 'any',\n})\nexport class VisualPickingProductListService implements OnDestroy {\n  constructor(\n    protected currentProductService: CurrentProductService,\n    protected productReferenceService: ProductReferenceService,\n    protected visualPickingProductFilterService: VisualPickingProductFilterService,\n    protected epdVisualizationConfig: EpdVisualizationConfig\n  ) {}\n\n  protected readonly DEFAULT_ITEMS_PER_SLIDE = 7;\n\n  private getFilteredProductReferencesSubscription: Subscription;\n  private productReferencesSubscription: Subscription;\n  private filteredItemsSubscription: Subscription;\n\n  /**\n   * Initializes the service.\n   */\n  public initialize(): void {\n    this.getFilteredProductReferencesSubscription =\n      this.getFilteredProductReferences().subscribe(() => {\n        this.activeSlideStartIndex = 0;\n      });\n\n    this.filteredItemsSubscription = this.filteredItems$.subscribe((items) => {\n      const firstSelectedItemIndex = items.findIndex((item) => item.selected);\n      if (firstSelectedItemIndex !== -1) {\n        this.activeSlideStartIndex =\n          firstSelectedItemIndex -\n          (firstSelectedItemIndex % this.itemsPerSlide);\n      }\n    });\n\n    this.selectedProductCodes = [];\n    this.productReferencesSubscription = this._getProductReferences().subscribe(\n      this.productReferences$\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.getFilteredProductReferencesSubscription?.unsubscribe();\n    this.filteredItemsSubscription?.unsubscribe();\n    this.productReferencesSubscription?.unsubscribe();\n  }\n\n  private get productReferenceType() {\n    const epdVisualization = this.epdVisualizationConfig\n      .epdVisualization as EpdVisualizationInnerConfig;\n    const visualPickingConfig =\n      epdVisualization.visualPicking as VisualPickingConfig;\n    return visualPickingConfig.productReferenceType;\n  }\n\n  public currentProduct$: Observable<Product> = this.currentProductService\n    .getProduct()\n    .pipe(\n      filter((product) => !!product && !!product.code),\n      map((product) => product as Product),\n      distinctUntilChanged((p1, p2) => p1.code === p2.code)\n    );\n\n  private productReferences$ = new Subject<ProductReference[]>();\n\n  /**\n   * Returns an Observable that produces the spare part product references for the current product.\n   * @returns An Observable that produces the spare part product references for the current product.\n   */\n  public getProductReferences(): Observable<ProductReference[]> {\n    return this.productReferences$;\n  }\n\n  private _getProductReferences(): Observable<ProductReference[]> {\n    return this.currentProduct$.pipe(\n      tap((product: Product) =>\n        this.productReferenceService.loadProductReferences(\n          product.code as string,\n          this.productReferenceType\n        )\n      ),\n      switchMap((product) =>\n        this.productReferenceService.getProductReferences(\n          product.code as string,\n          this.productReferenceType\n        )\n      ),\n      filter(\n        (productReferences: ProductReference[]) =>\n          productReferences !== undefined\n      ),\n      distinctUntilChanged((x, y) => JSON.stringify(x) === JSON.stringify(y))\n    );\n  }\n\n  /**\n   * Returns an Observable that produces a filtered array of spare part product references for the current product.\n   * Filtering is performed by the VisualPickingProductFilterService.\n   * @returns An Observable that produces a filtered array of spare part product references for the current product.\n   */\n  public getFilteredProductReferences(): Observable<ProductReference[]> {\n    return this.visualPickingProductFilterService\n      .getFilteredProducts(this.getProductReferences())\n      .pipe(shareReplay());\n  }\n\n  public activeSlideStartIndex = 0;\n  public itemsPerSlide = this.DEFAULT_ITEMS_PER_SLIDE;\n\n  public set selectedProductCodes(selectedProductCodes: string[]) {\n    this._selectedProductCodes = selectedProductCodes;\n    this.selectedProductCodesChange.next(selectedProductCodes);\n  }\n  public get selectedProductCodes(): string[] {\n    return this._selectedProductCodes;\n  }\n  private _selectedProductCodes: string[];\n  public selectedProductCodesChange = new EventEmitter<string[]>();\n\n  /**\n   * Used to create the list item model data for the visual picking product list.\n   * Returns an observable containing an array of VisualPickingProductListItem objects created by combining the latest values from\n   * an Observable producing an array of product references and\n   * an Observable producing an array of selected product codes.\n   * The VisualPickingProductListItem model object combines a ProductReference for a spare part and the selected state of the list item.\n   * @param productReferences$ An Observable producing the array of ProductReference values to map.\n   * @param selectedProductCodes$ An Observable producing the array of selected product codes.\n   * @returns An Observable producing an array of VisualPickingProductListItem values.\n   */\n  public getVisualPickingProductListItems(\n    productReferences$: Observable<ProductReference[]>,\n    selectedProductCodes$: Observable<string[]>\n  ): Observable<VisualPickingProductListItem[]> {\n    return combineLatest([productReferences$, selectedProductCodes$]).pipe(\n      filter(\n        ([productReferences, selectedProductCodes]) =>\n          !!productReferences && !!selectedProductCodes\n      ),\n      map(([productReferences, selectedProductCodes]) => {\n        return productReferences\n          .filter(\n            (productReference) =>\n              !!productReference.target && !!productReference.target.code\n          )\n          .map((productReference) => {\n            const product = productReference.target as Product;\n            const productCode = product.code as string;\n            const selected = selectedProductCodes.indexOf(productCode) !== -1;\n            return {\n              product,\n              selected,\n            };\n          });\n      })\n    );\n  }\n\n  public filteredItems$: Observable<VisualPickingProductListItem[]> =\n    this.getVisualPickingProductListItems(\n      this.getFilteredProductReferences(),\n      this.selectedProductCodesChange\n    ).pipe(shareReplay());\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { VisualPickingProductListItem } from './model/visual-picking-product-list-item.model';\nimport { VisualPickingProductListService } from './visual-picking-product-list.service';\n\n@Component({\n  selector: 'cx-epd-visualization-product-list',\n  templateUrl: './visual-picking-product-list.component.html',\n  providers: [VisualPickingProductListService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VisualPickingProductListComponent implements OnInit {\n  constructor(\n    protected visualPickingProductListService: VisualPickingProductListService\n  ) {}\n\n  @Input() title: string;\n  @Input() singleSelection = true;\n\n  @Input('selectedProductCodes')\n  set selectedProductCodes(selectedProductCodes: string[]) {\n    this.visualPickingProductListService.selectedProductCodes =\n      selectedProductCodes;\n  }\n  get selectedProductCodes(): string[] {\n    return this.visualPickingProductListService.selectedProductCodes;\n  }\n  @Output()\n  selectedProductCodesChange =\n    this.visualPickingProductListService.selectedProductCodesChange;\n\n  get itemsPerSlide(): number {\n    return this.visualPickingProductListService.itemsPerSlide;\n  }\n  set itemsPerSlide(itemsPerSlide: number) {\n    this.visualPickingProductListService.itemsPerSlide = itemsPerSlide;\n  }\n\n  get activeSlideStartIndex(): number {\n    return this.visualPickingProductListService.activeSlideStartIndex;\n  }\n  set activeSlideStartIndex(activeSlideStartIndex: number) {\n    this.visualPickingProductListService.activeSlideStartIndex =\n      activeSlideStartIndex;\n  }\n\n  get filteredItems$(): Observable<VisualPickingProductListItem[]> {\n    return this.visualPickingProductListService.filteredItems$;\n  }\n\n  ngOnInit(): void {\n    this.visualPickingProductListService.initialize();\n  }\n}\n","<cx-epd-visualization-paged-list\n  [items]=\"filteredItems$ | async\"\n  [title]=\"title\"\n  [headerTemplate]=\"headerTemplate\"\n  [template]=\"itemTemplate\"\n  [itemsPerSlide]=\"itemsPerSlide\"\n  [(activeSlideStartIndex)]=\"activeSlideStartIndex\"\n>\n</cx-epd-visualization-paged-list>\n\n<ng-template #headerTemplate>\n  <div class=\"cx-item-list-header row\">\n    <div class=\"cx-item-list-desc col-6\">\n      {{\n        'epdVisualization.visualPicking.visualPickingProductList.description'\n          | cxTranslate\n      }}\n    </div>\n    <div class=\"cx-item-list-price col-4\">\n      {{\n        'epdVisualization.visualPicking.visualPickingProductList.itemPrice'\n          | cxTranslate\n      }}\n    </div>\n    <!-- Add to cart -->\n    <div class=\"cx-item-list-total col-2\"></div>\n  </div>\n</ng-template>\n\n<ng-template #itemTemplate let-item=\"item\" let-active=\"active\">\n  <div\n    *ngIf=\"active\"\n    class=\"row no-gutters list-item\"\n    tabindex=\"0\"\n    (click)=\"selectedProductCodes = [item.product.code]\"\n    (keydown.enter)=\"selectedProductCodes = [item.product.code]\"\n    (keydown.space)=\"selectedProductCodes = [item.product.code]\"\n    [class.selected]=\"item.selected\"\n  >\n    <!-- Item Description -->\n    <div class=\"col-6 flex-row\">\n      <!-- Thumbnail -->\n      <div class=\"thumbnail-container\">\n        <div class=\"thumbnail\" [class.selected]=\"item.selected\">\n          <cx-media\n            [container]=\"item.product.images?.PRIMARY\"\n            format=\"thumbnail\"\n          ></cx-media>\n        </div>\n      </div>\n\n      <!-- Name -->\n      <div class=\"flex-column\">\n        <div *ngIf=\"item.product.name\" class=\"cx-name\">\n          <a\n            class=\"cx-link\"\n            [routerLink]=\"{ cxRoute: 'product', params: item.product } | cxUrl\"\n            (keydown.enter)=\"$event.currentTarget.click()\"\n            >{{ item.product.name }}</a\n          >\n        </div>\n\n        <!-- ID -->\n        <div *ngIf=\"item.product.code\" class=\"cx-code\">\n          {{\n            'epdVisualization.visualPicking.visualPickingProductList.id'\n              | cxTranslate\n          }}\n          {{ item.product.code }}\n        </div>\n      </div>\n    </div>\n\n    <!-- Item Price -->\n    <div class=\"col-4 flex-column\">\n      <div *ngIf=\"item.product.price\" class=\"cx-price\">\n        {{ item.product.price?.formattedValue }}\n      </div>\n    </div>\n\n    <!-- Add to Cart -->\n    <div class=\"cx-add-to-cart col-2 flex-column\">\n      <ng-container\n        *ngIf=\"\n          item.product.price !== undefined &&\n          item.product.stock.stockLevelStatus !== 'outOfStock'\n        \"\n      >\n        <div\n          (click)=\"addToCartComponent.addToCart(); $event.preventDefault()\"\n          (keydown.enter)=\"\n            addToCartComponent.addToCart(); $event.preventDefault()\n          \"\n          (keydown.space)=\"\n            addToCartComponent.addToCart(); $event.preventDefault()\n          \"\n        >\n          <cx-epd-visualization-compact-add-to-cart\n            #addToCartComponent\n            [showQuantity]=\"false\"\n            [product]=\"item.product\"\n          ></cx-epd-visualization-compact-add-to-cart>\n        </div>\n      </ng-container>\n\n      <ng-container #noPrice *ngIf=\"item.product.price === undefined\">\n      </ng-container>\n\n      <ng-container\n        *ngIf=\"\n          item.product.price !== undefined &&\n          item.product.stock.stockLevelStatus === 'outOfStock'\n        \"\n      >\n        <div class=\"cx-out-of-stock\">\n          {{\n            'epdVisualization.visualPicking.visualPickingProductList.outOfStock'\n              | cxTranslate\n          }}\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</ng-template>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { I18nModule, UrlModule } from '@spartacus/core';\nimport {\n  CarouselModule,\n  IconModule,\n  MediaModule,\n  ProductReferencesModule,\n} from '@spartacus/storefront';\nimport { CompactAddToCartModule } from './compact-add-to-cart/compact-add-to-cart.module';\nimport { PagedListModule } from './paged-list/paged-list.module';\nimport { VisualPickingProductListComponent } from './visual-picking-product-list.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    ProductReferencesModule,\n    MediaModule,\n    IconModule,\n    CarouselModule,\n    PagedListModule,\n    UrlModule,\n    I18nModule,\n    CompactAddToCartModule,\n  ],\n  declarations: [VisualPickingProductListComponent],\n  exports: [VisualPickingProductListComponent],\n})\nexport class VisualPickingProductListModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectorRef, Injectable, OnDestroy } from '@angular/core';\nimport {\n  GlobalMessageService,\n  GlobalMessageType,\n  Product,\n  ProductReference,\n  Translatable,\n  WindowRef,\n} from '@spartacus/core';\nimport { CurrentProductService } from '@spartacus/storefront';\nimport { Subscription } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport {\n  VisualizationLoadInfo,\n  VisualizationLoadStatus,\n  VisualizationLookupResult,\n} from '../../visual-viewer/models/visualization-load-info';\nimport { VisualViewerService } from '../../visual-viewer/visual-viewer.service';\nimport { VisualPickingProductListService } from './product-list/visual-picking-product-list.service';\n\n@Injectable({\n  providedIn: 'any',\n})\nexport class VisualPickingTabService implements OnDestroy {\n  constructor(\n    protected currentProductService: CurrentProductService,\n    protected globalMessageService: GlobalMessageService,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected windowRef: WindowRef\n  ) {}\n\n  /**\n   * Initialize the service.\n   * @param visualViewerService The VisualViewerService instance to use.\n   * @param visualPickingProductListService The VisualPickingProductListService instance to use.\n   */\n  public initialize(\n    visualViewerService: VisualViewerService,\n    visualPickingProductListService: VisualPickingProductListService\n  ): void {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n\n    this.visualViewerService = visualViewerService;\n    this.visualPickingProductListService = visualPickingProductListService;\n\n    this.visualizationLoadInfoChangeSubscription =\n      this.visualViewerService.visualizationLoadInfoChange.subscribe(\n        this.handleLoadVisualizationInfoChange.bind(this)\n      );\n\n    this.getFilteredProductReferencesSubscription =\n      this.visualPickingProductListService\n        .getFilteredProductReferences()\n        .subscribe((productReferences: ProductReference[]) => {\n          const productCodes: string[] = productReferences.map(\n            (productReference) =>\n              (productReference.target as Product).code as string\n          );\n\n          this.visualViewerService.includedProductCodes = productCodes;\n        });\n\n    this.getProductReferencesSubscription = this.visualPickingProductListService\n      .getProductReferences()\n      .subscribe((productReferences: ProductReference[]) => {\n        this.setProductReferences(productReferences);\n        if (productReferences.length > 0) {\n          this.visualPickingProductListService.currentProduct$\n            .pipe(first())\n            .subscribe((currentProduct: Product) => {\n              this.visualViewerService\n                .loadVisualization(currentProduct.code as string)\n                .pipe(first())\n                .subscribe();\n            });\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this.visualizationLoadInfoChangeSubscription?.unsubscribe();\n    this.getProductReferencesSubscription?.unsubscribe();\n    this.getFilteredProductReferencesSubscription?.unsubscribe();\n  }\n\n  private visualizationLoadInfoChangeSubscription: Subscription;\n  private getProductReferencesSubscription: Subscription;\n  private getFilteredProductReferencesSubscription: Subscription;\n\n  /**\n   * When true, error messages will be shown when visualization load/lookup failures occur.\n   */\n  protected showErrorMessages: boolean = true;\n\n  private _productReferences: ProductReference[];\n  private get productReferences(): ProductReference[] {\n    return this._productReferences;\n  }\n  private setProductReferences(value: ProductReference[]) {\n    this._productReferences = value;\n\n    // hideNoProductReferencesText, hideProductList, hideViewport values may have changed\n    this.changeDetectorRef.markForCheck();\n  }\n\n  private get visualizationLoadStatus(): VisualizationLoadStatus {\n    return (\n      this.visualViewerService.visualizationLoadInfo?.loadStatus ??\n      VisualizationLoadStatus.NotStarted\n    );\n  }\n\n  public get hideNoProductReferencesText() {\n    if (!this.windowRef.isBrowser()) {\n      return true;\n    }\n    return (\n      this.productReferences === undefined ||\n      (this.productReferences as ProductReference[]).length > 0\n    );\n  }\n\n  public get hideProductList() {\n    if (!this.windowRef.isBrowser()) {\n      return true;\n    }\n    return (\n      this.productReferences === undefined ||\n      (this.productReferences as ProductReference[]).length === 0\n    );\n  }\n\n  public get hideViewport() {\n    if (!this.windowRef.isBrowser()) {\n      return true;\n    }\n    return (\n      this.productReferences === undefined ||\n      (this.productReferences as ProductReference[]).length === 0 ||\n      !(\n        this.visualizationLoadStatus === VisualizationLoadStatus.Loading ||\n        this.visualizationLoadStatus === VisualizationLoadStatus.Loaded\n      )\n    );\n  }\n\n  private showErrorMessage(message: string | Translatable) {\n    if (this.showErrorMessages) {\n      this.globalMessageService.add(message, GlobalMessageType.MSG_TYPE_ERROR);\n    }\n  }\n\n  private handleLoadVisualizationInfoChange(\n    visualizationLoadInfo: VisualizationLoadInfo\n  ): void {\n    switch (visualizationLoadInfo.lookupResult) {\n      case VisualizationLookupResult.UniqueMatchFound:\n        switch (visualizationLoadInfo.loadStatus) {\n          case VisualizationLoadStatus.Loading:\n            break;\n\n          case VisualizationLoadStatus.UnexpectedError:\n            this.showErrorMessage({\n              key: 'epdVisualization.errors.visualLoad.unexpectedLoadError',\n            });\n            break;\n        }\n        break;\n\n      case VisualizationLookupResult.NoMatchFound:\n        break;\n\n      case VisualizationLookupResult.MultipleMatchesFound:\n        this.showErrorMessage({\n          key: 'epdVisualization.errors.visualLoad.multipleMatchingVisualsFound',\n        });\n        break;\n\n      case VisualizationLookupResult.UnexpectedError:\n        this.showErrorMessage({\n          key: 'epdVisualization.errors.visualLoad.unexpectedLoadError',\n        });\n        break;\n    }\n    this.changeDetectorRef.detectChanges();\n  }\n\n  private _visualViewerService: VisualViewerService;\n  public get visualViewerService(): VisualViewerService {\n    return this._visualViewerService;\n  }\n  public set visualViewerService(value: VisualViewerService) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this._visualViewerService = value;\n  }\n\n  private _visualPickingProductListService: VisualPickingProductListService;\n  public get visualPickingProductListService(): VisualPickingProductListService {\n    return this._visualPickingProductListService;\n  }\n  public set visualPickingProductListService(\n    value: VisualPickingProductListService\n  ) {\n    if (!this.windowRef.isBrowser()) {\n      return;\n    }\n    this._visualPickingProductListService = value;\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ViewChild,\n} from '@angular/core';\nimport { VisualViewerComponent } from '../../visual-viewer/visual-viewer.component';\nimport { VisualViewerService } from '../../visual-viewer/visual-viewer.service';\nimport { VisualPickingProductListComponent } from './product-list/visual-picking-product-list.component';\nimport { VisualPickingProductListService } from './product-list/visual-picking-product-list.service';\nimport { VisualPickingTabService } from './visual-picking-tab.service';\n\n@Component({\n  selector: 'cx-epd-visualization-visual-picking-tab',\n  templateUrl: './visual-picking-tab.component.html',\n  providers: [VisualPickingTabService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class VisualPickingTabComponent implements AfterViewInit {\n  constructor(protected visualPickingTabService: VisualPickingTabService) {}\n\n  ngAfterViewInit(): void {\n    this.visualPickingTabService.initialize(\n      this.visualViewerService,\n      this.visualPickingProductListService\n    );\n  }\n\n  selectedProductCodes: string[] = [];\n\n  @ViewChild(VisualViewerComponent, { read: VisualViewerService })\n  visualViewerService: VisualViewerService;\n\n  @ViewChild(VisualPickingProductListComponent, {\n    read: VisualPickingProductListService,\n  })\n  visualPickingProductListService: VisualPickingProductListService;\n\n  public get hideNoProductReferencesIndicator() {\n    return this.visualPickingTabService.hideNoProductReferencesText;\n  }\n\n  public get hideProductList() {\n    return this.visualPickingTabService.hideProductList;\n  }\n\n  public get hideViewport() {\n    return this.visualPickingTabService.hideViewport;\n  }\n}\n","<div [class.container-fluid]=\"!hideViewport\" [class.container]=\"hideViewport\">\n  <div\n    class=\"no-product-references\"\n    [hidden]=\"hideNoProductReferencesIndicator\"\n  >\n    <span>{{\n      'epdVisualization.visualPicking.visualPickingTab.noProductReferences'\n        | cxTranslate\n    }}</span>\n  </div>\n\n  <cx-epd-visualization-viewer\n    [(selectedProductCodes)]=\"selectedProductCodes\"\n    [hidden]=\"hideViewport\"\n  >\n  </cx-epd-visualization-viewer>\n\n  <div\n    class=\"visual-picking-product-list-container\"\n    [hidden]=\"hideProductList\"\n    [class.viewportHidden]=\"hideViewport\"\n  >\n    <cx-epd-visualization-product-filter></cx-epd-visualization-product-filter>\n\n    <cx-epd-visualization-product-list\n      [(selectedProductCodes)]=\"selectedProductCodes\"\n    >\n    </cx-epd-visualization-product-list>\n  </div>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CmsConfig, I18nModule, provideDefaultConfig } from '@spartacus/core';\nimport { VisualViewerModule } from '../../visual-viewer/visual-viewer.module';\nimport { VisualPickingProductFilterModule } from './product-filter/visual-picking-product-filter.module';\nimport { VisualPickingProductListModule } from './product-list/visual-picking-product-list.module';\nimport { VisualPickingTabComponent } from './visual-picking-tab.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    I18nModule,\n    VisualViewerModule,\n    VisualPickingProductListModule,\n    VisualPickingProductFilterModule,\n  ],\n  providers: [\n    provideDefaultConfig({\n      cmsComponents: {\n        VisualPickingTabComponent: {\n          component: VisualPickingTabComponent,\n        },\n      },\n    } as CmsConfig),\n  ],\n  declarations: [VisualPickingTabComponent],\n  exports: [VisualPickingTabComponent],\n})\nexport class VisualPickingTabModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { NgModule } from '@angular/core';\nimport { VisualPickingTabModule } from './visual-picking/visual-picking-tab/visual-picking-tab.module';\nimport { VisualViewerModule } from './visual-viewer/visual-viewer.module';\n\n@NgModule({\n  declarations: [],\n  imports: [VisualPickingTabModule, VisualViewerModule],\n})\nexport class EpdVisualizationComponentsModule {}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './visual-picking-product-filter.component';\nexport * from './visual-picking-product-filter.module';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './compact-add-to-cart.component';\nexport * from './compact-add-to-cart.module';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Product } from '@spartacus/core';\n\n/**\n * A model object representing a product item in the visual picking product list.\n */\nexport interface VisualPickingProductListItem {\n  /**\n   * The product data.\n   */\n  product: Product;\n  /**\n   * Whether the item is selected.\n   */\n  selected: boolean;\n}\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './visual-picking-product-list-item.model';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './compact-add-to-cart/index';\nexport * from './model/index';\nexport * from './visual-picking-product-list.component';\nexport * from './visual-picking-product-list.module';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './product-filter/index';\nexport * from './product-list/index';\nexport * from './visual-picking-tab.component';\nexport * from './visual-picking-tab.module';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './visual-picking-tab/index';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './navigation-mode';\n// Don't export ./node-content-type\n// Don't export ./scene-load-info\n// Don't export ./scene-load-state\nexport * from './selection-mode';\nexport * from './visualization-load-info';\n// Don't export ./zoom-to\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './visual-viewer-animation-slider.component';\nexport * from './visual-viewer-animation-slider.module';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './visual-viewer-toolbar-button.component';\nexport * from './visual-viewer-toolbar-button.module';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './visual-viewer-animation-slider/index';\nexport * from './visual-viewer-toolbar-button/index';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './models/index';\nexport * from './toolbar/index';\nexport * from './visual-viewer.component';\nexport * from './visual-viewer.module';\nexport * from './visual-viewer.service';\n","/*\n * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\n * Public API Surface for @spartacus/epd-visualization/components\n */\nexport * from './epd-visualization-components.module';\nexport * from './visual-picking/index';\nexport * from './visual-viewer/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1","i1.VisualViewerAnimationSliderService","i2","i3","i1.VisualViewerService","i3.VisualViewerToolbarButtonComponent","i4.VisualViewerAnimationSliderComponent","i5","i6","i1.VisualPickingProductFilterService","i4","i3.VisualPickingProductFilterService","i1.VisualPickingProductListService","i5.PagedListComponent","i6.CompactAddToCartComponent","i7","i1.VisualPickingTabService","i2.VisualViewerComponent","i3.VisualPickingProductListComponent","i4.VisualPickingProductFilterComponent"],"mappings":"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"}