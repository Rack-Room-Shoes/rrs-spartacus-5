/*
 * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, HostListener, } from '@angular/core';
import { ICON_TYPE } from '@spartacus/storefront';
import * as i0 from "@angular/core";
import * as i1 from "./clear-cart-dialog-component.service";
import * as i2 from "@angular/common";
import * as i3 from "@spartacus/storefront";
import * as i4 from "@spartacus/core";
export class ClearCartDialogComponent {
    constructor(el, clearCartDialogComponentService) {
        this.el = el;
        this.clearCartDialogComponentService = clearCartDialogComponentService;
        this.focusConfig = {
            trap: true,
            block: true,
            autofocus: 'button.btn-primary',
            focusOnEscape: true,
        };
        this.isClearing = false;
        this.iconTypes = ICON_TYPE;
    }
    handleClick(event) {
        // Close on click outside the dialog window
        if (event.target.tagName === this.el.nativeElement.tagName) {
            this.close('Cross click');
        }
    }
    clearCart() {
        this.isClearing = true;
        this.clearCartDialogComponentService.deleteActiveCart();
    }
    close(reason) {
        this.clearCartDialogComponentService.closeDialog(reason);
    }
    ngOnDestroy() {
        this.close('close dialog on component destroy');
    }
}
ClearCartDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: ClearCartDialogComponent, deps: [{ token: i0.ElementRef }, { token: i1.ClearCartDialogComponentService }], target: i0.ɵɵFactoryTarget.Component });
ClearCartDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.3", type: ClearCartDialogComponent, selector: "cx-clear-cart-dialog", host: { listeners: { "click": "handleClick($event)" } }, ngImport: i0, template: "<div\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"close('Escape clicked')\"\n  class=\"cx-clear-cart-dialog\"\n>\n  <div class=\"cx-clear-cart-container\">\n    <ng-container *ngIf=\"!isClearing; else loading\">\n      <div\n        role=\"status\"\n        [attr.aria-label]=\"'common.loaded' | cxTranslate\"\n      ></div>\n      <!-- Modal Header -->\n      <div class=\"modal-header cx-clear-cart-header\">\n        <div class=\"cx-clear-cart-title modal-title\">\n          {{ 'clearCart.clearCart' | cxTranslate }}\n        </div>\n\n        <button\n          (click)=\"close('Close Clear Cart Dialog')\"\n          [attr.aria-label]=\"'common.close' | cxTranslate\"\n          class=\"close\"\n          type=\"button\"\n        >\n          <span aria-hidden=\"true\">\n            <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n          </span>\n        </button>\n      </div>\n\n      <!-- Modal Body -->\n      <div class=\"cx-clear-cart-body\">\n        <div class=\"clear-cart-msg\">\n          {{ 'clearCart.allItemsWillBeRemoved' | cxTranslate }}\n        </div>\n        <div class=\"clear-cart-warning\" role=\"alert\">\n          {{ 'clearCart.areYouSureToClearCart' | cxTranslate }}\n        </div>\n        <div>\n          <div class=\"cx-clear-cart-footer\">\n            <button\n              (click)=\"close('Cancel Clear Cart')\"\n              class=\"btn btn-action\"\n              type=\"button\"\n            >\n              {{ 'common.cancel' | cxTranslate }}\n            </button>\n            <button (click)=\"clearCart()\" class=\"btn btn-primary\" type=\"button\">\n              {{ 'clearCart.clearCart' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #loading>\n  <div class=\"modal-header cx-clear-cart-header\">\n    <div class=\"cx-clear-cart-title modal-title\">\n      {{ 'clearCart.clearingCart' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.SpinnerComponent, selector: "cx-spinner" }, { kind: "component", type: i3.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }, { kind: "directive", type: i3.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: ClearCartDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-clear-cart-dialog', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"close('Escape clicked')\"\n  class=\"cx-clear-cart-dialog\"\n>\n  <div class=\"cx-clear-cart-container\">\n    <ng-container *ngIf=\"!isClearing; else loading\">\n      <div\n        role=\"status\"\n        [attr.aria-label]=\"'common.loaded' | cxTranslate\"\n      ></div>\n      <!-- Modal Header -->\n      <div class=\"modal-header cx-clear-cart-header\">\n        <div class=\"cx-clear-cart-title modal-title\">\n          {{ 'clearCart.clearCart' | cxTranslate }}\n        </div>\n\n        <button\n          (click)=\"close('Close Clear Cart Dialog')\"\n          [attr.aria-label]=\"'common.close' | cxTranslate\"\n          class=\"close\"\n          type=\"button\"\n        >\n          <span aria-hidden=\"true\">\n            <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n          </span>\n        </button>\n      </div>\n\n      <!-- Modal Body -->\n      <div class=\"cx-clear-cart-body\">\n        <div class=\"clear-cart-msg\">\n          {{ 'clearCart.allItemsWillBeRemoved' | cxTranslate }}\n        </div>\n        <div class=\"clear-cart-warning\" role=\"alert\">\n          {{ 'clearCart.areYouSureToClearCart' | cxTranslate }}\n        </div>\n        <div>\n          <div class=\"cx-clear-cart-footer\">\n            <button\n              (click)=\"close('Cancel Clear Cart')\"\n              class=\"btn btn-action\"\n              type=\"button\"\n            >\n              {{ 'common.cancel' | cxTranslate }}\n            </button>\n            <button (click)=\"clearCart()\" class=\"btn btn-primary\" type=\"button\">\n              {{ 'clearCart.clearCart' | cxTranslate }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #loading>\n  <div class=\"modal-header cx-clear-cart-header\">\n    <div class=\"cx-clear-cart-title modal-title\">\n      {{ 'clearCart.clearingCart' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.ClearCartDialogComponentService }]; }, propDecorators: { handleClick: [{
                type: HostListener,
                args: ['click', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2NhcnQvYmFzZS9jb21wb25lbnRzL2NsZWFyLWNhcnQvY2xlYXItY2FydC1kaWFsb2cvY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2NhcnQvYmFzZS9jb21wb25lbnRzL2NsZWFyLWNhcnQvY2xlYXItY2FydC1kaWFsb2cvY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUVULFlBQVksR0FFYixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsU0FBUyxFQUFlLE1BQU0sdUJBQXVCLENBQUM7Ozs7OztBQU8vRCxNQUFNLE9BQU8sd0JBQXdCO0lBb0JuQyxZQUNZLEVBQWMsRUFDZCwrQkFBZ0U7UUFEaEUsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQUNkLG9DQUErQixHQUEvQiwrQkFBK0IsQ0FBaUM7UUFyQjVFLGdCQUFXLEdBQWdCO1lBQ3pCLElBQUksRUFBRSxJQUFJO1lBQ1YsS0FBSyxFQUFFLElBQUk7WUFDWCxTQUFTLEVBQUUsb0JBQW9CO1lBQy9CLGFBQWEsRUFBRSxJQUFJO1NBQ3BCLENBQUM7UUFFRixlQUFVLEdBQVksS0FBSyxDQUFDO1FBRTVCLGNBQVMsR0FBRyxTQUFTLENBQUM7SUFhbkIsQ0FBQztJQVZKLFdBQVcsQ0FBQyxLQUFjO1FBQ3hCLDJDQUEyQztRQUMzQyxJQUFLLEtBQUssQ0FBQyxNQUFjLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRTtZQUNuRSxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQU9ELFNBQVM7UUFDUCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsK0JBQStCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUMxRCxDQUFDO0lBRUQsS0FBSyxDQUFDLE1BQWM7UUFDbEIsSUFBSSxDQUFDLCtCQUErQixDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUNsRCxDQUFDOztxSEFwQ1Usd0JBQXdCO3lHQUF4Qix3QkFBd0IscUhDckJyQyxraEVBa0VBOzJGRDdDYSx3QkFBd0I7a0JBTHBDLFNBQVM7K0JBQ0Usc0JBQXNCLG1CQUVmLHVCQUF1QixDQUFDLE1BQU07K0lBZS9DLFdBQVc7c0JBRFYsWUFBWTt1QkFBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMiBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBIb3N0TGlzdGVuZXIsXG4gIE9uRGVzdHJveSxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDbGVhckNhcnREaWFsb2dDb21wb25lbnRTZXJ2aWNlIH0gZnJvbSAnLi9jbGVhci1jYXJ0LWRpYWxvZy1jb21wb25lbnQuc2VydmljZSc7XG5pbXBvcnQgeyBJQ09OX1RZUEUsIEZvY3VzQ29uZmlnIH0gZnJvbSAnQHNwYXJ0YWN1cy9zdG9yZWZyb250JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtY2xlYXItY2FydC1kaWFsb2cnLFxuICB0ZW1wbGF0ZVVybDogJy4vY2xlYXItY2FydC1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgQ2xlYXJDYXJ0RGlhbG9nQ29tcG9uZW50IGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgZm9jdXNDb25maWc6IEZvY3VzQ29uZmlnID0ge1xuICAgIHRyYXA6IHRydWUsXG4gICAgYmxvY2s6IHRydWUsXG4gICAgYXV0b2ZvY3VzOiAnYnV0dG9uLmJ0bi1wcmltYXJ5JyxcbiAgICBmb2N1c09uRXNjYXBlOiB0cnVlLFxuICB9O1xuXG4gIGlzQ2xlYXJpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBpY29uVHlwZXMgPSBJQ09OX1RZUEU7XG5cbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbJyRldmVudCddKVxuICBoYW5kbGVDbGljayhldmVudDogVUlFdmVudCk6IHZvaWQge1xuICAgIC8vIENsb3NlIG9uIGNsaWNrIG91dHNpZGUgdGhlIGRpYWxvZyB3aW5kb3dcbiAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBhbnkpLnRhZ05hbWUgPT09IHRoaXMuZWwubmF0aXZlRWxlbWVudC50YWdOYW1lKSB7XG4gICAgICB0aGlzLmNsb3NlKCdDcm9zcyBjbGljaycpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBlbDogRWxlbWVudFJlZixcbiAgICBwcm90ZWN0ZWQgY2xlYXJDYXJ0RGlhbG9nQ29tcG9uZW50U2VydmljZTogQ2xlYXJDYXJ0RGlhbG9nQ29tcG9uZW50U2VydmljZVxuICApIHt9XG5cbiAgY2xlYXJDYXJ0KCk6IHZvaWQge1xuICAgIHRoaXMuaXNDbGVhcmluZyA9IHRydWU7XG4gICAgdGhpcy5jbGVhckNhcnREaWFsb2dDb21wb25lbnRTZXJ2aWNlLmRlbGV0ZUFjdGl2ZUNhcnQoKTtcbiAgfVxuXG4gIGNsb3NlKHJlYXNvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhckNhcnREaWFsb2dDb21wb25lbnRTZXJ2aWNlLmNsb3NlRGlhbG9nKHJlYXNvbik7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmNsb3NlKCdjbG9zZSBkaWFsb2cgb24gY29tcG9uZW50IGRlc3Ryb3knKTtcbiAgfVxufVxuIiwiPGRpdlxuICBbY3hGb2N1c109XCJmb2N1c0NvbmZpZ1wiXG4gIChlc2MpPVwiY2xvc2UoJ0VzY2FwZSBjbGlja2VkJylcIlxuICBjbGFzcz1cImN4LWNsZWFyLWNhcnQtZGlhbG9nXCJcbj5cbiAgPGRpdiBjbGFzcz1cImN4LWNsZWFyLWNhcnQtY29udGFpbmVyXCI+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFpc0NsZWFyaW5nOyBlbHNlIGxvYWRpbmdcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgcm9sZT1cInN0YXR1c1wiXG4gICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiJ2NvbW1vbi5sb2FkZWQnIHwgY3hUcmFuc2xhdGVcIlxuICAgICAgPjwvZGl2PlxuICAgICAgPCEtLSBNb2RhbCBIZWFkZXIgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyIGN4LWNsZWFyLWNhcnQtaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjeC1jbGVhci1jYXJ0LXRpdGxlIG1vZGFsLXRpdGxlXCI+XG4gICAgICAgICAge3sgJ2NsZWFyQ2FydC5jbGVhckNhcnQnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIChjbGljayk9XCJjbG9zZSgnQ2xvc2UgQ2xlYXIgQ2FydCBEaWFsb2cnKVwiXG4gICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCInY29tbW9uLmNsb3NlJyB8IGN4VHJhbnNsYXRlXCJcbiAgICAgICAgICBjbGFzcz1cImNsb3NlXCJcbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPGN4LWljb24gW3R5cGVdPVwiaWNvblR5cGVzLkNMT1NFXCI+PC9jeC1pY29uPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBNb2RhbCBCb2R5IC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImN4LWNsZWFyLWNhcnQtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXItY2FydC1tc2dcIj5cbiAgICAgICAgICB7eyAnY2xlYXJDYXJ0LmFsbEl0ZW1zV2lsbEJlUmVtb3ZlZCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyLWNhcnQtd2FybmluZ1wiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIHt7ICdjbGVhckNhcnQuYXJlWW91U3VyZVRvQ2xlYXJDYXJ0JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1jbGVhci1jYXJ0LWZvb3RlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAoY2xpY2spPVwiY2xvc2UoJ0NhbmNlbCBDbGVhciBDYXJ0JylcIlxuICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tYWN0aW9uXCJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7ICdjb21tb24uY2FuY2VsJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gKGNsaWNrKT1cImNsZWFyQ2FydCgpXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgIHt7ICdjbGVhckNhcnQuY2xlYXJDYXJ0JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNsb2FkaW5nPlxuICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyIGN4LWNsZWFyLWNhcnQtaGVhZGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cImN4LWNsZWFyLWNhcnQtdGl0bGUgbW9kYWwtdGl0bGVcIj5cbiAgICAgIHt7ICdjbGVhckNhcnQuY2xlYXJpbmdDYXJ0JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiY3gtc3Bpbm5lclwiPlxuICAgIDxjeC1zcGlubmVyPjwvY3gtc3Bpbm5lcj5cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuIl19