/*
 * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, HostBinding } from '@angular/core';
import { GlobalMessageType, } from '@spartacus/core';
import { of } from 'rxjs';
import { map, switchMap, take } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/core";
import * as i2 from "@spartacus/asm/root";
import * as i3 from "../services/asm-component.service";
import * as i4 from "@spartacus/asm/core";
import * as i5 from "@spartacus/user/account/root";
import * as i6 from "@angular/common";
import * as i7 from "../csagent-login-form/csagent-login-form.component";
import * as i8 from "../customer-selection/customer-selection.component";
import * as i9 from "../asm-session-timer/asm-session-timer.component";
import * as i10 from "../customer-emulation/customer-emulation.component";
import * as i11 from "../asm-toggle-ui/asm-toggle-ui.component";
export class AsmMainUiComponent {
    constructor(authService, csAgentAuthService, asmComponentService, globalMessageService, routingService, asmService, userAccountFacade) {
        this.authService = authService;
        this.csAgentAuthService = csAgentAuthService;
        this.asmComponentService = asmComponentService;
        this.globalMessageService = globalMessageService;
        this.routingService = routingService;
        this.asmService = asmService;
        this.userAccountFacade = userAccountFacade;
        this.disabled = false;
        this.startingCustomerSession = false;
    }
    ngOnInit() {
        this.customerSupportAgentLoggedIn$ =
            this.csAgentAuthService.isCustomerSupportAgentLoggedIn();
        this.csAgentTokenLoading$ =
            this.csAgentAuthService.getCustomerSupportAgentTokenLoading();
        this.customer$ = this.authService.isUserLoggedIn().pipe(switchMap((isLoggedIn) => {
            if (isLoggedIn) {
                this.handleCustomerSessionStartRedirection();
                return this.userAccountFacade.get();
            }
            else {
                return of(undefined);
            }
        }));
        this.isCollapsed$ = this.asmService
            .getAsmUiState()
            .pipe(map((uiState) => uiState.collapsed === undefined ? false : uiState.collapsed));
    }
    handleCustomerSessionStartRedirection() {
        this.asmComponentService
            .isCustomerEmulationSessionInProgress()
            .pipe(take(1))
            .subscribe((isCustomerEmulated) => {
            if (this.startingCustomerSession && isCustomerEmulated) {
                this.startingCustomerSession = false;
                this.globalMessageService.remove(GlobalMessageType.MSG_TYPE_ERROR);
                this.routingService.go('/');
            }
        });
    }
    loginCustomerSupportAgent({ userId, password, }) {
        this.csAgentAuthService.authorizeCustomerSupportAgent(userId, password);
    }
    logout() {
        this.asmComponentService.logoutCustomerSupportAgentAndCustomer();
    }
    startCustomerEmulationSession({ customerId }) {
        if (customerId) {
            this.csAgentAuthService.startCustomerEmulationSession(customerId);
            this.startingCustomerSession = true;
        }
        else {
            this.globalMessageService.add({ key: 'asm.error.noCustomerId' }, GlobalMessageType.MSG_TYPE_ERROR);
        }
    }
    hideUi() {
        this.disabled = true;
        this.asmComponentService.unload();
    }
}
AsmMainUiComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: AsmMainUiComponent, deps: [{ token: i1.AuthService }, { token: i2.CsAgentAuthService }, { token: i3.AsmComponentService }, { token: i1.GlobalMessageService }, { token: i1.RoutingService }, { token: i4.AsmService }, { token: i5.UserAccountFacade }], target: i0.ɵɵFactoryTarget.Component });
AsmMainUiComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.3", type: AsmMainUiComponent, selector: "cx-asm-main-ui", host: { properties: { "class.hidden": "this.disabled" } }, ngImport: i0, template: "<div class=\"asm-bar\">\n  <div class=\"asm-bar-branding\">\n    <img\n      class=\"logo\"\n      src=\"data:image/png;base64,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\"\n      width=\"48\"\n      height=\"24\"\n      alt=\"{{ 'asm.mainLogoLabel' | cxTranslate }}\"\n    />\n\n    <div class=\"asm-title\">\n      {{ 'asm.mainTitle' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"asm-bar-actions\">\n    <cx-asm-toggle-ui></cx-asm-toggle-ui>\n\n    <cx-asm-session-timer\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n    ></cx-asm-session-timer>\n\n    <button\n      class=\"close\"\n      title=\"{{ 'asm.hideUi' | cxTranslate }}\"\n      *ngIf=\"\n        !(customerSupportAgentLoggedIn$ | async) &&\n        !(csAgentTokenLoading$ | async)\n      \"\n      (click)=\"hideUi()\"\n    ></button>\n\n    <button\n      class=\"logout\"\n      title=\"{{ 'asm.logout' | cxTranslate }}\"\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n      (click)=\"logout()\"\n    ></button>\n  </div>\n</div>\n\n<ng-container *ngIf=\"!(isCollapsed$ | async) as notCollapsed\">\n  <ng-container\n    *ngIf=\"customerSupportAgentLoggedIn$ | async; else showLoginForm\"\n  >\n    <ng-container *ngIf=\"customer$ | async; else showCustomerSelection\">\n      <cx-customer-emulation *ngIf=\"notCollapsed\"></cx-customer-emulation>\n    </ng-container>\n    <ng-template #showCustomerSelection>\n      <cx-customer-selection\n        *ngIf=\"notCollapsed\"\n        (submitEvent)=\"startCustomerEmulationSession($event)\"\n      ></cx-customer-selection>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #showLoginForm>\n    <cx-csagent-login-form\n      *ngIf=\"notCollapsed\"\n      (submitEvent)=\"loginCustomerSupportAgent($event)\"\n      [csAgentTokenLoading]=\"csAgentTokenLoading$ | async\"\n    ></cx-csagent-login-form>\n  </ng-template>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i7.CSAgentLoginFormComponent, selector: "cx-csagent-login-form", inputs: ["csAgentTokenLoading"], outputs: ["submitEvent"] }, { kind: "component", type: i8.CustomerSelectionComponent, selector: "cx-customer-selection", outputs: ["submitEvent"] }, { kind: "component", type: i9.AsmSessionTimerComponent, selector: "cx-asm-session-timer" }, { kind: "component", type: i10.CustomerEmulationComponent, selector: "cx-customer-emulation" }, { kind: "component", type: i11.AsmToggleUiComponent, selector: "cx-asm-toggle-ui" }, { kind: "pipe", type: i6.AsyncPipe, name: "async" }, { kind: "pipe", type: i1.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: AsmMainUiComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-asm-main-ui', template: "<div class=\"asm-bar\">\n  <div class=\"asm-bar-branding\">\n    <img\n      class=\"logo\"\n      src=\"data:image/png;base64,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\"\n      width=\"48\"\n      height=\"24\"\n      alt=\"{{ 'asm.mainLogoLabel' | cxTranslate }}\"\n    />\n\n    <div class=\"asm-title\">\n      {{ 'asm.mainTitle' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"asm-bar-actions\">\n    <cx-asm-toggle-ui></cx-asm-toggle-ui>\n\n    <cx-asm-session-timer\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n    ></cx-asm-session-timer>\n\n    <button\n      class=\"close\"\n      title=\"{{ 'asm.hideUi' | cxTranslate }}\"\n      *ngIf=\"\n        !(customerSupportAgentLoggedIn$ | async) &&\n        !(csAgentTokenLoading$ | async)\n      \"\n      (click)=\"hideUi()\"\n    ></button>\n\n    <button\n      class=\"logout\"\n      title=\"{{ 'asm.logout' | cxTranslate }}\"\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n      (click)=\"logout()\"\n    ></button>\n  </div>\n</div>\n\n<ng-container *ngIf=\"!(isCollapsed$ | async) as notCollapsed\">\n  <ng-container\n    *ngIf=\"customerSupportAgentLoggedIn$ | async; else showLoginForm\"\n  >\n    <ng-container *ngIf=\"customer$ | async; else showCustomerSelection\">\n      <cx-customer-emulation *ngIf=\"notCollapsed\"></cx-customer-emulation>\n    </ng-container>\n    <ng-template #showCustomerSelection>\n      <cx-customer-selection\n        *ngIf=\"notCollapsed\"\n        (submitEvent)=\"startCustomerEmulationSession($event)\"\n      ></cx-customer-selection>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #showLoginForm>\n    <cx-csagent-login-form\n      *ngIf=\"notCollapsed\"\n      (submitEvent)=\"loginCustomerSupportAgent($event)\"\n      [csAgentTokenLoading]=\"csAgentTokenLoading$ | async\"\n    ></cx-csagent-login-form>\n  </ng-template>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.AuthService }, { type: i2.CsAgentAuthService }, { type: i3.AsmComponentService }, { type: i1.GlobalMessageService }, { type: i1.RoutingService }, { type: i4.AsmService }, { type: i5.UserAccountFacade }]; }, propDecorators: { disabled: [{
                type: HostBinding,
                args: ['class.hidden']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNtLW1haW4tdWkuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2FzbS9jb21wb25lbnRzL2FzbS1tYWluLXVpL2FzbS1tYWluLXVpLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9hc20vY29tcG9uZW50cy9hc20tbWFpbi11aS9hc20tbWFpbi11aS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFHL0QsT0FBTyxFQUdMLGlCQUFpQixHQUdsQixNQUFNLGlCQUFpQixDQUFDO0FBRXpCLE9BQU8sRUFBYyxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDdEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7Ozs7Ozs7QUFPdEQsTUFBTSxPQUFPLGtCQUFrQjtJQVU3QixZQUNZLFdBQXdCLEVBQ3hCLGtCQUFzQyxFQUN0QyxtQkFBd0MsRUFDeEMsb0JBQTBDLEVBQzFDLGNBQThCLEVBQzlCLFVBQXNCLEVBQ3RCLGlCQUFvQztRQU5wQyxnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4Qix1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW9CO1FBQ3RDLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDeEMseUJBQW9CLEdBQXBCLG9CQUFvQixDQUFzQjtRQUMxQyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN0QixzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1FBWG5CLGFBQVEsR0FBRyxLQUFLLENBQUM7UUFFcEMsNEJBQXVCLEdBQUcsS0FBSyxDQUFDO0lBVXZDLENBQUM7SUFFSixRQUFRO1FBQ04sSUFBSSxDQUFDLDZCQUE2QjtZQUNoQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsOEJBQThCLEVBQUUsQ0FBQztRQUMzRCxJQUFJLENBQUMsb0JBQW9CO1lBQ3ZCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxtQ0FBbUMsRUFBRSxDQUFDO1FBQ2hFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxJQUFJLENBQ3JELFNBQVMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFO1lBQ3ZCLElBQUksVUFBVSxFQUFFO2dCQUNkLElBQUksQ0FBQyxxQ0FBcUMsRUFBRSxDQUFDO2dCQUM3QyxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsQ0FBQzthQUNyQztpQkFBTTtnQkFDTCxPQUFPLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUN0QjtRQUNILENBQUMsQ0FBQyxDQUNILENBQUM7UUFDRixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVO2FBQ2hDLGFBQWEsRUFBRTthQUNmLElBQUksQ0FDSCxHQUFHLENBQUMsQ0FBQyxPQUFjLEVBQUUsRUFBRSxDQUNyQixPQUFPLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUM1RCxDQUNGLENBQUM7SUFDTixDQUFDO0lBRVMscUNBQXFDO1FBQzdDLElBQUksQ0FBQyxtQkFBbUI7YUFDckIsb0NBQW9DLEVBQUU7YUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNiLFNBQVMsQ0FBQyxDQUFDLGtCQUFrQixFQUFFLEVBQUU7WUFDaEMsSUFBSSxJQUFJLENBQUMsdUJBQXVCLElBQUksa0JBQWtCLEVBQUU7Z0JBQ3RELElBQUksQ0FBQyx1QkFBdUIsR0FBRyxLQUFLLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQ25FLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzdCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQseUJBQXlCLENBQUMsRUFDeEIsTUFBTSxFQUNOLFFBQVEsR0FJVDtRQUNDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyw2QkFBNkIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLENBQUMsbUJBQW1CLENBQUMscUNBQXFDLEVBQUUsQ0FBQztJQUNuRSxDQUFDO0lBRUQsNkJBQTZCLENBQUMsRUFBRSxVQUFVLEVBQTJCO1FBQ25FLElBQUksVUFBVSxFQUFFO1lBQ2QsSUFBSSxDQUFDLGtCQUFrQixDQUFDLDZCQUE2QixDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUM7U0FDckM7YUFBTTtZQUNMLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQzNCLEVBQUUsR0FBRyxFQUFFLHdCQUF3QixFQUFFLEVBQ2pDLGlCQUFpQixDQUFDLGNBQWMsQ0FDakMsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDcEMsQ0FBQzs7K0dBdEZVLGtCQUFrQjttR0FBbEIsa0JBQWtCLGlIQ3pCL0IsbW9PQStEQTsyRkR0Q2Esa0JBQWtCO2tCQUo5QixTQUFTOytCQUNFLGdCQUFnQjs4UkFTRyxRQUFRO3NCQUFwQyxXQUFXO3VCQUFDLGNBQWMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMiBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIEhvc3RCaW5kaW5nLCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFzbVNlcnZpY2UsIEFzbVVpIH0gZnJvbSAnQHNwYXJ0YWN1cy9hc20vY29yZSc7XG5pbXBvcnQgeyBDc0FnZW50QXV0aFNlcnZpY2UgfSBmcm9tICdAc3BhcnRhY3VzL2FzbS9yb290JztcbmltcG9ydCB7XG4gIEF1dGhTZXJ2aWNlLFxuICBHbG9iYWxNZXNzYWdlU2VydmljZSxcbiAgR2xvYmFsTWVzc2FnZVR5cGUsXG4gIFJvdXRpbmdTZXJ2aWNlLFxuICBVc2VyLFxufSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xuaW1wb3J0IHsgVXNlckFjY291bnRGYWNhZGUgfSBmcm9tICdAc3BhcnRhY3VzL3VzZXIvYWNjb3VudC9yb290JztcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIHN3aXRjaE1hcCwgdGFrZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEFzbUNvbXBvbmVudFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9hc20tY29tcG9uZW50LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1hc20tbWFpbi11aScsXG4gIHRlbXBsYXRlVXJsOiAnLi9hc20tbWFpbi11aS5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIEFzbU1haW5VaUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIGN1c3RvbWVyU3VwcG9ydEFnZW50TG9nZ2VkSW4kOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBjc0FnZW50VG9rZW5Mb2FkaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgY3VzdG9tZXIkOiBPYnNlcnZhYmxlPFVzZXIgfCB1bmRlZmluZWQ+O1xuICBpc0NvbGxhcHNlZCQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5oaWRkZW4nKSBkaXNhYmxlZCA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCBzdGFydGluZ0N1c3RvbWVyU2Vzc2lvbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBhdXRoU2VydmljZTogQXV0aFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNzQWdlbnRBdXRoU2VydmljZTogQ3NBZ2VudEF1dGhTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBhc21Db21wb25lbnRTZXJ2aWNlOiBBc21Db21wb25lbnRTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBnbG9iYWxNZXNzYWdlU2VydmljZTogR2xvYmFsTWVzc2FnZVNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHJvdXRpbmdTZXJ2aWNlOiBSb3V0aW5nU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgYXNtU2VydmljZTogQXNtU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgdXNlckFjY291bnRGYWNhZGU6IFVzZXJBY2NvdW50RmFjYWRlXG4gICkge31cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmN1c3RvbWVyU3VwcG9ydEFnZW50TG9nZ2VkSW4kID1cbiAgICAgIHRoaXMuY3NBZ2VudEF1dGhTZXJ2aWNlLmlzQ3VzdG9tZXJTdXBwb3J0QWdlbnRMb2dnZWRJbigpO1xuICAgIHRoaXMuY3NBZ2VudFRva2VuTG9hZGluZyQgPVxuICAgICAgdGhpcy5jc0FnZW50QXV0aFNlcnZpY2UuZ2V0Q3VzdG9tZXJTdXBwb3J0QWdlbnRUb2tlbkxvYWRpbmcoKTtcbiAgICB0aGlzLmN1c3RvbWVyJCA9IHRoaXMuYXV0aFNlcnZpY2UuaXNVc2VyTG9nZ2VkSW4oKS5waXBlKFxuICAgICAgc3dpdGNoTWFwKChpc0xvZ2dlZEluKSA9PiB7XG4gICAgICAgIGlmIChpc0xvZ2dlZEluKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVDdXN0b21lclNlc3Npb25TdGFydFJlZGlyZWN0aW9uKCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudXNlckFjY291bnRGYWNhZGUuZ2V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG9mKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICB0aGlzLmlzQ29sbGFwc2VkJCA9IHRoaXMuYXNtU2VydmljZVxuICAgICAgLmdldEFzbVVpU3RhdGUoKVxuICAgICAgLnBpcGUoXG4gICAgICAgIG1hcCgodWlTdGF0ZTogQXNtVWkpID0+XG4gICAgICAgICAgdWlTdGF0ZS5jb2xsYXBzZWQgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdWlTdGF0ZS5jb2xsYXBzZWRcbiAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBoYW5kbGVDdXN0b21lclNlc3Npb25TdGFydFJlZGlyZWN0aW9uKCk6IHZvaWQge1xuICAgIHRoaXMuYXNtQ29tcG9uZW50U2VydmljZVxuICAgICAgLmlzQ3VzdG9tZXJFbXVsYXRpb25TZXNzaW9uSW5Qcm9ncmVzcygpXG4gICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgLnN1YnNjcmliZSgoaXNDdXN0b21lckVtdWxhdGVkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0aW5nQ3VzdG9tZXJTZXNzaW9uICYmIGlzQ3VzdG9tZXJFbXVsYXRlZCkge1xuICAgICAgICAgIHRoaXMuc3RhcnRpbmdDdXN0b21lclNlc3Npb24gPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmdsb2JhbE1lc3NhZ2VTZXJ2aWNlLnJlbW92ZShHbG9iYWxNZXNzYWdlVHlwZS5NU0dfVFlQRV9FUlJPUik7XG4gICAgICAgICAgdGhpcy5yb3V0aW5nU2VydmljZS5nbygnLycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIGxvZ2luQ3VzdG9tZXJTdXBwb3J0QWdlbnQoe1xuICAgIHVzZXJJZCxcbiAgICBwYXNzd29yZCxcbiAgfToge1xuICAgIHVzZXJJZDogc3RyaW5nO1xuICAgIHBhc3N3b3JkOiBzdHJpbmc7XG4gIH0pOiB2b2lkIHtcbiAgICB0aGlzLmNzQWdlbnRBdXRoU2VydmljZS5hdXRob3JpemVDdXN0b21lclN1cHBvcnRBZ2VudCh1c2VySWQsIHBhc3N3b3JkKTtcbiAgfVxuXG4gIGxvZ291dCgpOiB2b2lkIHtcbiAgICB0aGlzLmFzbUNvbXBvbmVudFNlcnZpY2UubG9nb3V0Q3VzdG9tZXJTdXBwb3J0QWdlbnRBbmRDdXN0b21lcigpO1xuICB9XG5cbiAgc3RhcnRDdXN0b21lckVtdWxhdGlvblNlc3Npb24oeyBjdXN0b21lcklkIH06IHsgY3VzdG9tZXJJZD86IHN0cmluZyB9KTogdm9pZCB7XG4gICAgaWYgKGN1c3RvbWVySWQpIHtcbiAgICAgIHRoaXMuY3NBZ2VudEF1dGhTZXJ2aWNlLnN0YXJ0Q3VzdG9tZXJFbXVsYXRpb25TZXNzaW9uKGN1c3RvbWVySWQpO1xuICAgICAgdGhpcy5zdGFydGluZ0N1c3RvbWVyU2Vzc2lvbiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2xvYmFsTWVzc2FnZVNlcnZpY2UuYWRkKFxuICAgICAgICB7IGtleTogJ2FzbS5lcnJvci5ub0N1c3RvbWVySWQnIH0sXG4gICAgICAgIEdsb2JhbE1lc3NhZ2VUeXBlLk1TR19UWVBFX0VSUk9SXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVVaSgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB0aGlzLmFzbUNvbXBvbmVudFNlcnZpY2UudW5sb2FkKCk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJhc20tYmFyXCI+XG4gIDxkaXYgY2xhc3M9XCJhc20tYmFyLWJyYW5kaW5nXCI+XG4gICAgPGltZ1xuICAgICAgY2xhc3M9XCJsb2dvXCJcbiAgICAgIHNyYz1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR0FBQUFBd0NBWUFBQUR1Rm4vUEFBQUFBWE5TUjBJQXJzNGM2UUFBRDdSSlJFRlVlQUh0VzN0d1ZHY1ZQN3Q3OTVWMzByd0pCQkplQVNxMDFOSmduWmEyb3RUVzJuSEFxclJhaytyVUtmZ1laL3hEVzVsUlIyZTAvbUd0QWFkcXE2V2pVQWROYTR1ZHFWWmFFZHRDS1EyRlFFaDVKU1FoNUxudnA3L2Z0OWxrZDlsN3N3a2h3TWlaM04yNzkzN2ZkODUzM3VmY0c5UDFML1ZFNVNwTU93ZE1tazBpb2NEeldqQVVubmJrLzljSVRTWXgyeHdTOVhzM1d6czdObXFoY09UL21oL1R1bmt3MzJTelNjanIyVnkydjNYRGE1dFdoYlJJNUtvSG1pNGhtR3gyaWZpOG16OFVtdkhJOWsyVnl2Vm9rYXNXTUMzOE44SHRSSHllelVlamV4NXBYYmR1MU85cjVxc0N1TGdDVUQ0Zm11LzFicTVzYmQ5d2ROTVk4NGxZTTEwVndNVVRBSmx2dFVuVTQ5MWMwWFpjK2Z4VVpGbzBNbjRRamlKTU1GUkVjS0pHNHh4ckMvN0VUQ1E4NTQrSkF0YkJueTVNYWszZDFhYjNCc0t0Q3JoaHVKMks5bE5wbVUrS1lBSHBXUkFGYTRLNHg3dDVOb3VVNVdoUzRyUkl2dDBpZG90SjNNR0lEUGdqMHVzTlNaOHZMTU9CaUlRaEpRdWtvWmtwSEdPSmNHWExpUEQwV0JOU3RPbXZROEVUQWpwN2lOMGQrK1JlbEJMaEJGc0FuVlFlL2ZYSFprN3dERXVhclhhSkJyeE5GZTJuTnpMYjBWc0JNV0EwSG95TzhXTkREbkR4SXpPeTVPTnpjdVg2TXFkVTVWaHhMWmxZV29VdkZKRXVkMGlPRFFaa2I1ZFhIYTE5UG5FRncyTERCaTBRUnFxYWMxNEJCUG56Mnl1bDBHRVp4WnQ2OHZ6aFFYbTZwUytHbDl4TEFOTDR1VVdGc201aFBtaUlqaVB1MkVRcVNZOG5KQ2VIQW5LNHp5K3RPTHJkUVhYVENscVZMRkx3SktETTdCU0xtTUQ4aU4vYnRDUm4zb2J0bSthZHorQ0VsVFRsVzBZdUVEZTFxUjZNLy9vTkpYSkRSVmJDMFBOUHFZRlpWclBVRk5qVThiSHFIR1VGM054THg0WmtaL3VRZExuT0YzNEFjYWQrVG82c3JEUmUvN01MOCtUNVEvM0tFcE5GRDVsaWpWS25XYTR0ZHB4UFdJWlhlaUdNLzNTNjVZL3ZEOGhiblI2bExCZGtFZFI4RFpydjl6VXR5VCt3WWZ1NitZYk1KNW1qUVpqTVoxSDIwSFhGOHMwVlpXS2pqVTRDNklJV2d5azhQbHFWTFkwdm5oREdrTVRWTkpqQTNiVjU0NjQrdDlBaFM0dnRzcWZEQld1aUtZMEJrNGRJaHE1bmJGYnlXWEdXSm5mUHpaYzFOUlQwZ0R5K3AxdUcvV0hsbXBKSFp2QUxHNlRtUi8yZXBvT0ZCemNjVEVnMWpXYWJUWEJCcGtoWWdvR1FOQ3k5UnI2enNuelN6RTlFUktadmF6a25BWDlJekZoZjRRR3VNRm9mTlhtYXJLak1UaHllOXB3V3RxWW1WNkp3YzJSNGZJM1JiL3F5S1FER2d2c1dGOG92VmxjSlNFT1BKc2FUVVR6a2tkR0JSTVpzdG9yQTdTd3FYTFJCTW1RK1NUY3pDL0lId25BM1R2bEdmZGtVYkNlMnhCc25obVZuYTc5WVRRaTNZQjd4OEFoQTBMZlB6cE5zVzdKRzZ5RytCV09MSFdZSmd3SHhOVWEvS2VVcGhQcVpPZkt0K25LbEpJazBqK0liMlVQeWI4UWZNRC9xOHpZVjkvUnUzTDdPTks3YlNTVFpISVVabTZGSkRkZVhJcnNabnluTWRCaDRqZmJ1UjFCOFluZW5oQkNJVlpaRlY0R0R1TExoMmo0eEx6K1JCc1B6eWx5cnNwWUFsSVJySkIxVFpBR0pCSHhtVVpGY1Y1WUZSVW1ETHhVL2ZwUDVhQzgwRmZmMUdXWTdpVGdTenpXYTI2d0N1NnlBOUkzZzdWUERzdTFBcjN6UTc1TUFHRXdOTG5Cb1VndGZ2Mkptcml5YmtTTTVTRmNKTzFwNjVaM1R3MkpuUGdxdGlVTUlnbHVHc1hVbHp2aWxqTDd2bkY4Z0x4ODZoN1VTaG5OZEl5M0EwTmVPRGNyckh3d3FuNTZMckt2Mkd0QTZLMCtLNFB2MXdBb0YrU1R3N1QwNWxCeTRraWJROGxoa01kdnhOWlVNRDA2SytWeFNDME5MYXd0dG84eEx3alB5WXgrWTJiQ3RWVndqQVlycEd2ZE9CWHpsY0ZTZWd1VlVGOXJsenJvaXVYbE9nZnptdjJmRXdnRndHNGtRaGl0YWc4MHhVRThFYmdMVFpzSVNPZ2I5WTNNaHpQRUU4TmFwSWRteXUwTWN5TlJJRGpPY21WQzJ4MVpYeTYyMUJib2tMSy9LRVpROENQTEo5STlPd0RwbTlQT1I3ZnpxWVBYeWpUSkJ0ek82RGs0UUg4TW9zUFExZ29ORDREU0RORkNLRFQ0ZEhrOTlPOHhSUlNqS2FUblI2NUZmN2pvbFgzN3VmVG5UNzhVWUJFMW9hZnlnVDJVaGQ5dmN3a1Q4R1ozbm9WYTR0U1kvNXRJUzFqUUJyeEZZSVdka3F1cklBa01kb0wyanp5dmYvMXU3ZEE4SGRLZFc1Rm1sQ0hFbkZvekg5cUFTQWZEQ1l0TFl6MitxZTdQOWdwaFBBaEFERUJpcFRRWndJelR3SjNmVlNtbTJWVHkra0FSZ05leWlxa0RGYnpERm9vUWlvaDd3NFBmb3ZaRnhETDdVNU1wOFcxcE1yTHBwWVhxd0J0YkZ1SjJNRjJwdEFGRXdLNGtPME1Xa29HUEFLL3M3aG5Wbk1oWm13MzBtNGVJK2FFWmdQdHpPcitwcVRtell2ajI1c2FhN29NRU5pRElxM1VOK2d5R3hXNSs2dGtSdXJNNlhIZS8yeUlzdFo2WHRyRWNKVGdPeFRPUG9sdUlWYnlwYitKdksrc2xGMStqaWFlLzF5dXZIK3FWeDVZeTBZNjZ0ekpYNXhWblNjc1lsckZwWkE1QWZSa0NHY1Z3RWxqb0tvRE9NYXo1VXhYcWdJUTdBYTZseG8xTXhqM2wrT09ENzNlRUZLemUyckt2WDF4YTloZE5jeDFhaWNxakxKYjB1ZlpPTXp5dlBzOG5ESDYyU1B6Y3VsV2NlV0FKbVZVa05BbHNBZ2R3Rnl3aENTMExRc3RURHowQmZaSmViRUIvMFlNOEhBN0pqZjdlcXBOT05ZV0Y0eDRKQzhRVkRhdjBnOExDdll3Uzh6M0dKOU5EYUVZOWxmcWwrRmM0a2cvc0pKOHdObTIwUzludTMrc0tCcjEySXowK2wxMHd0T1EyZlRhM09GQmpVYnBxZEw5Lzl4Qno1eTFlWHlWTmZXQ3kwRUEwYmM2UHc0b1pKZlB6d3dXWGRQcjlJY3JoekhkalYxaWNIb2QyMExEMVlYVmVzMXFDZ3VmWjRBbURLVE9GVFFVZ0RhZlBnK1B3TkZiSUFxYVlldU9FS2U5MEI1WElVSGdzZUl3YTlXLzNSWU9QeFRhdDhldk1tYzEyMW8rbS9tLzUxUWxhQlNkVkZFMHNSblZhTG1zZTVMWjB1ZWVLMTQvSVNoS2s2bmJRdkNEaUxxZDNpWWwzNnV1QUM5NTBjRks4L0tLOURFQXZLMGxmSmMwdXlaSGxWcnZ6enlMbVkreG5IQXZJZzhDcFlyUU0wWmlHQVZGK1RKWGREVWU2K3R0U3dDOXJhN1pKK2VBU1ZyYUczQTUrLzFWTHFibWpmZU9mNHZscDNsK2x2UUFBb3hIRHZOTEtEaDdlK0oxdldmMGhtb2djekdWaFNtU05iUHI5RW52blBhZm5CMzQ0aUlOUDhvM0xqN0FKWkRCK3VCM3ZhKzZWNzBLY0MrVDliejBuRHlwbHBueTh3enR5MXBGUmVQWFEySXdFOFdEOURQZ2R0TjJFaUJXQkZ2TW9FWG5tL1YveHdkZG5PTEhZMW45T0dmUTF0UDV4NjVwTVcxUGdJUmppWVlldy9NU2ozYmRrcmZ6L1lrd21kdW1PK1dGOGxQNzUzSVZMUXFFb2Q3NExXc2NEUmcxY1A5YXAranhXTU9nQkw2QmpRdC9KVkM0cWtJZ2Z2MUpCdXJHOEUxUHlDTEt2a0k4M09sUGtub1lndnZ0c2xEanpERFFlOFc4SDhMN2M5Y1hHWVQ5cVJhMkVUUEpBWjJPRXlUdlM2NVN0UHZ5c1AvLzZBdkgxOHdHaC9odmZXTHErUXRjdkxoVzVnOWFJUzNiSDk2TWYvdHcwOUl5Z0FBcEwwRHZsa2R4dXFYaDBveTdQTHphZ2xtTmJHekVCbjRDUXVNMmI4NklVamN0WUZyeEQwYlRVNUxJMFhrL2trMFJ4aE1FczRHQ2JwbG5iczdaQzFUNzRsWDlqeXR2enB6UTQ1WTZDVmVudGRmMU9WcklITG1Ha1FWL2EwOThtcGMyNHhnZm1LRG1qMkt5M0dGbmpYMGpJSWkzcGpiQUY2ZEtXN3pqcmtzUjJIcGZtOVB0RWkvcTNSTEczS0EyNDZ2QnJkUkNyUVdUamdMMWtKL2dQTTRGR2U3NURsOE9WM0xDNlZXNUNOVkJTTUh5Y1dWdVRLTjFmWHBpNmY5SnN1aDgxQXRxMEpWSUFQZXR3eWhFZWRlVG9WK3NyYUl2U2duT2hhbmsrN1dtU0NIMGVSaHY4WW1yOFR6d1NRN3p4cjdyYzlkUHp4cWMxMjlFZ3kxWHo5cGFSZDhFZXF0K1kxbFZOand6d3ZSei9sMDh0bnlDTmdiaEg4OFlVQVU4TzJicmQwSWhYMjR6bHpDVnpNYkdRN0ZMRFIwNm52YlRzb2R2aXRSKyt0bXhUNlFVOVFEcUVhZnVHZFRtbmVkMGI2ZlNheGcvbVJ3YTZIamovOW9INFFtaFEyL1VubldRQUxGV1liREZweFFmQ2IrUU1yUkFxZ0gwMnhKM2NlbGRPSUY1c2JsK05oUkh5a1BpSzlPOWwyVFpiT3lsZUgzcGgwMTlmQURlMDVxaDhyT09lTnc3MnkrMGd2Nkk3dGhTbnhPYVNYcDg5NVlHVWVsZm14VG5BNG5HS1BCcmZDclRXMlAvM2dsS2VhNmVpUFg5TXM4UDl4WU1xNC9pT3psQXZZMDlxckx0dElmRHIrUWlMdG5VTXFmbE00MHczTHFndFFOeGgzQTk1NHYwY2ViejRzenBFMk9XbmtYcGlXTXNkbkM4WHVRTGFEZ0JzMVd4b3Vkc0JOeHlOWVFFd0FaUDZjMGh4NWRPMFNWVVR0aEdsdS8vY0pPWEM4WDRieDhKb3VTQWtDSnNBWk9YZ1c4TkFkdGNvcTBpMThzYTlsQS8vTkMvV0xPK0puenlnYmIzS2t2czJoYUlNZ3pLaHdJMGcxb3hickpXRSs2ZEFzOUNtQUlQenZBN2ZPUnNFU2F4ZmNjMk9WZk9yRFZYS3NhMWdPbmh5UURyU2JCMUNlMHkrWG9WQmJzYUJFRnMzTS9NbFdETXZVZmpvU05EdmR5clJNN2krK3g4UXhKakkvNkhzMnJGa3ZlcXFaaURmMVhGa0FVN0I1NVRueTZmcFpTZmVwOFhPUnlmQzRJb0V0V0ZwNEJCc1pBYjR3cHY0NUl1aC8xdXZ2WThDZFZwOGZweVArcmJINGlTSVFyVjgxQjJrZm51eFBBL0FsZ0o5dGYwL0tVUjhzcWk2VThrSW55bjZyQ3ZwTUFzNmhHRHVKVkhRL0NyTDdicXVSdVpYanY4S1NqbXkwL3RXVE9mVjBibVNBY2pzaC83T2V3TUMwWmp2cDZPTTFqYStKMU1HVnJMMWxqdDZZS2IvZWh1RDkzS3ZIVkpmU2puYUIwNmFKTnZMV0hSWFdqODZsRittcEY0SXFSVG82V1FId0FRVUxQQjRFRXh0cllMN1g2V2c4L3V0THEvbHhwcHBaVWZyUSszN3RuVE5xNC9FYmsvbG1vSDc5M1RPS2VVYnpkMkVNMzVqSUJ2TVpjZnhndGh2eGhZZlhpell3cW1Fbm5ranhJZisvVzdyUXFvb3gwR2pOZFBkb0FTdzBlWmpSenhmNGZHK0g0NUw2L0ZRNnpWUzhNMmRkOHUwbmQ4djlQL3lIL0g3bkVUbmQ0MG9kWi9pYjdObUhmUHVyUDkwbGJ4N3VFU2R5ZXlQWXRiOFRqd2JCSEFpTUxwRHRjQW9pZnZBYTcvSGQwa05vVlV5VW5qaHU5YjRuMTBmQU5RWDhmM0JuZFRhMnZYenhHbXR4dkJQNU5sMzNwVzFLdlVDbmVqV1IybGFFYXJRT3Zublp2R0twbTEwb2xYZ1VXSmhyRnhzMGxzQ3hMazlBdWxHOXRvQkJiMENqNmEvZDNxQ3N2YTFXNWxUUVo2dGwxZmpFajBGbytYT3ZIQVV1TUhrc05pWU9TVHBuUy90T0pBY0xadkZoZnZvMWt5WWsvTmpkMGkxdkh4bEFiQWx0YzNWbFAzQzVNWitrbXE1NzRFL243WXF1aE8rSnN1UExnc1dKamlhRFpMeWx5d2srdUkxaE1KenBLeXRoSzF3R0djcmZSaTZEWXlqSURIZ2ZZeVVHQnJEbVpQNlh6V1pITzBOQ3pSNkxmWDNyYisvUmZ3b2Z3M1JKUHJWNGdFckVybHdCS21EbEUzQWpEQVlNQm4xSjNWOHlrays5TlBhUkNUUUwvS21YZWcxNi82TmoxVWtHSDFpVC80OEFaQmtNSGh2Q3Q1UWo0VUN6VzNOY3Rzd250UnI1bGdtby9EbVZCekdlWnpKOVdzZVErZUZnb05rejVGcmYydnpaeTFMejR3eEJETTVRQXZFWmwvbTMyY0pVRTh5M2tma05selh6eVVyMVh0Qmx6dE9NeVZOdUorUnZkZzU3MXUrN0FwZy9Jb0NNOTNkWkQrUzdtbkE3Zi9XNFBQZGZLY3dmRWNDVjc0S1UyNkhQZDN2dnZ4TGNUcUltWDRwV2ZpTCtDejduZjZaRUk4Ry91dDNlSzhMbnAyNTRwQU9UZXZuSytHMHlJNFJGUXZ0elE5cjZ2YzBORXl2Zkw1TXQvZzhYSWJUVmhzaWcrZ0FBQUFCSlJVNUVya0pnZ2c9PVwiXG4gICAgICB3aWR0aD1cIjQ4XCJcbiAgICAgIGhlaWdodD1cIjI0XCJcbiAgICAgIGFsdD1cInt7ICdhc20ubWFpbkxvZ29MYWJlbCcgfCBjeFRyYW5zbGF0ZSB9fVwiXG4gICAgLz5cblxuICAgIDxkaXYgY2xhc3M9XCJhc20tdGl0bGVcIj5cbiAgICAgIHt7ICdhc20ubWFpblRpdGxlJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiYXNtLWJhci1hY3Rpb25zXCI+XG4gICAgPGN4LWFzbS10b2dnbGUtdWk+PC9jeC1hc20tdG9nZ2xlLXVpPlxuXG4gICAgPGN4LWFzbS1zZXNzaW9uLXRpbWVyXG4gICAgICAqbmdJZj1cImN1c3RvbWVyU3VwcG9ydEFnZW50TG9nZ2VkSW4kIHwgYXN5bmNcIlxuICAgID48L2N4LWFzbS1zZXNzaW9uLXRpbWVyPlxuXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9XCJjbG9zZVwiXG4gICAgICB0aXRsZT1cInt7ICdhc20uaGlkZVVpJyB8IGN4VHJhbnNsYXRlIH19XCJcbiAgICAgICpuZ0lmPVwiXG4gICAgICAgICEoY3VzdG9tZXJTdXBwb3J0QWdlbnRMb2dnZWRJbiQgfCBhc3luYykgJiZcbiAgICAgICAgIShjc0FnZW50VG9rZW5Mb2FkaW5nJCB8IGFzeW5jKVxuICAgICAgXCJcbiAgICAgIChjbGljayk9XCJoaWRlVWkoKVwiXG4gICAgPjwvYnV0dG9uPlxuXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9XCJsb2dvdXRcIlxuICAgICAgdGl0bGU9XCJ7eyAnYXNtLmxvZ291dCcgfCBjeFRyYW5zbGF0ZSB9fVwiXG4gICAgICAqbmdJZj1cImN1c3RvbWVyU3VwcG9ydEFnZW50TG9nZ2VkSW4kIHwgYXN5bmNcIlxuICAgICAgKGNsaWNrKT1cImxvZ291dCgpXCJcbiAgICA+PC9idXR0b24+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjxuZy1jb250YWluZXIgKm5nSWY9XCIhKGlzQ29sbGFwc2VkJCB8IGFzeW5jKSBhcyBub3RDb2xsYXBzZWRcIj5cbiAgPG5nLWNvbnRhaW5lclxuICAgICpuZ0lmPVwiY3VzdG9tZXJTdXBwb3J0QWdlbnRMb2dnZWRJbiQgfCBhc3luYzsgZWxzZSBzaG93TG9naW5Gb3JtXCJcbiAgPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjdXN0b21lciQgfCBhc3luYzsgZWxzZSBzaG93Q3VzdG9tZXJTZWxlY3Rpb25cIj5cbiAgICAgIDxjeC1jdXN0b21lci1lbXVsYXRpb24gKm5nSWY9XCJub3RDb2xsYXBzZWRcIj48L2N4LWN1c3RvbWVyLWVtdWxhdGlvbj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8bmctdGVtcGxhdGUgI3Nob3dDdXN0b21lclNlbGVjdGlvbj5cbiAgICAgIDxjeC1jdXN0b21lci1zZWxlY3Rpb25cbiAgICAgICAgKm5nSWY9XCJub3RDb2xsYXBzZWRcIlxuICAgICAgICAoc3VibWl0RXZlbnQpPVwic3RhcnRDdXN0b21lckVtdWxhdGlvblNlc3Npb24oJGV2ZW50KVwiXG4gICAgICA+PC9jeC1jdXN0b21lci1zZWxlY3Rpb24+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgPC9uZy1jb250YWluZXI+XG5cbiAgPG5nLXRlbXBsYXRlICNzaG93TG9naW5Gb3JtPlxuICAgIDxjeC1jc2FnZW50LWxvZ2luLWZvcm1cbiAgICAgICpuZ0lmPVwibm90Q29sbGFwc2VkXCJcbiAgICAgIChzdWJtaXRFdmVudCk9XCJsb2dpbkN1c3RvbWVyU3VwcG9ydEFnZW50KCRldmVudClcIlxuICAgICAgW2NzQWdlbnRUb2tlbkxvYWRpbmddPVwiY3NBZ2VudFRva2VuTG9hZGluZyQgfCBhc3luY1wiXG4gICAgPjwvY3gtY3NhZ2VudC1sb2dpbi1mb3JtPlxuICA8L25nLXRlbXBsYXRlPlxuPC9uZy1jb250YWluZXI+XG4iXX0=