/*
 * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/core";
import * as i2 from "../../core/services/order-approval.service";
import * as i3 from "@angular/common";
import * as i4 from "@angular/router";
import * as i5 from "@spartacus/storefront";
export class OrderApprovalListComponent {
    constructor(routing, orderApprovalService, translation) {
        this.routing = routing;
        this.orderApprovalService = orderApprovalService;
        this.translation = translation;
        this.PAGE_SIZE = 5;
    }
    ngOnInit() {
        this.fetchApprovalListPage({});
        this.sortLabels$ = combineLatest([
            this.translation.translate('sorting.date'),
            this.translation.translate('sorting.orderNumber'),
        ]).pipe(map(([textByDate, textByOrderNumber]) => {
            return {
                byDate: textByDate,
                byOrderNumber: textByOrderNumber,
            };
        }));
    }
    changeSortCode(sortCode) {
        const fetchParams = {
            sort: sortCode,
            currentPage: 0,
        };
        this.sortType = sortCode;
        this.fetchApprovalListPage(fetchParams);
    }
    pageChange(page) {
        const fetchParams = {
            sort: this.sortType,
            currentPage: page,
        };
        this.fetchApprovalListPage(fetchParams);
    }
    fetchApprovalListPage(searchConfig) {
        searchConfig.pageSize = this.PAGE_SIZE;
        this.orderApprovalService.loadOrderApprovals(searchConfig);
        this.orderApprovals$ = this.orderApprovalService.getList(searchConfig);
    }
    goToApprovalDetails(event, orderApproval) {
        if (event?.target?.nodeName.toLowerCase() !== 'a') {
            this.routing.go({
                cxRoute: 'orderApprovalDetails',
                params: { approvalCode: orderApproval.code },
            });
        }
    }
}
OrderApprovalListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: OrderApprovalListComponent, deps: [{ token: i1.RoutingService }, { token: i2.OrderApprovalService }, { token: i1.TranslationService }], target: i0.ɵɵFactoryTarget.Component });
OrderApprovalListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.3", type: OrderApprovalListComponent, selector: "cx-order-approval-list", ngImport: i0, template: "<ng-container *ngIf=\"orderApprovals$ | async as orderApprovals\">\n  <ng-container\n    *ngIf=\"\n      orderApprovals.pagination &&\n        orderApprovals.pagination.totalResults &&\n        orderApprovals.pagination.totalResults > 0;\n      else noOrder\n    \"\n  >\n    <!-- Select Form and Pagination Top -->\n    <div class=\"cx-order-approval-sort top row\">\n      <div\n        class=\"\n          cx-order-approval-form-group\n          form-group\n          col-sm-12 col-md-4 col-lg-4\n        \"\n      >\n        <cx-sorting\n          [sortOptions]=\"orderApprovals.sorts\"\n          [sortLabels]=\"sortLabels$ | async\"\n          (sortListEvent)=\"changeSortCode($event)\"\n          [selectedOption]=\"orderApprovals.pagination.sort\"\n          [ariaLabel]=\"'orderHistory.sortOrders' | cxTranslate\"\n          ariaControls=\"order-approval-table\"\n        ></cx-sorting>\n      </div>\n      <div class=\"cx-order-approval-pagination\">\n        <cx-pagination\n          [pagination]=\"orderApprovals.pagination\"\n          (viewPageEvent)=\"pageChange($event)\"\n        ></cx-pagination>\n      </div>\n    </div>\n    <!-- TABLE -->\n    <table id=\"order-approval-table\" class=\"table cx-order-approval-table\">\n      <thead class=\"cx-order-approval-thead-mobile\">\n        <th scope=\"col\">\n          {{ 'orderApprovalList.orderCode' | cxTranslate }}\n        </th>\n        <th scope=\"col\">{{ 'orderApprovalList.POCode' | cxTranslate }}</th>\n        <th scope=\"col\">{{ 'orderApprovalList.placedBy' | cxTranslate }}</th>\n        <th scope=\"col\">{{ 'orderApprovalList.date' | cxTranslate }}</th>\n        <th scope=\"col\">\n          {{ 'orderApprovalList.status' | cxTranslate }}\n        </th>\n        <th scope=\"col\">{{ 'orderApprovalList.total' | cxTranslate }}</th>\n      </thead>\n      <tbody>\n        <tr\n          *ngFor=\"let approval of orderApprovals.values\"\n          (click)=\"goToApprovalDetails($event, approval)\"\n        >\n          <td class=\"cx-order-approval-code\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.orderCode' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n            >\n              {{ approval.order?.code }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-po-code\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.POCode' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n              >{{\n                approval.order?.purchaseOrderNumber ||\n                  ('orderApprovalList.none' | cxTranslate)\n              }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-placed\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.placedBy' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n              >{{ approval.order?.orgCustomer?.name }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-date\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.date' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n              >{{ approval.order?.created | cxDate: 'longDate' }}</a\n            >\n          </td>\n\n          <td class=\"cx-order-approval-status\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.status' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n            >\n              {{\n                'orderDetails.statusDisplay_' + approval.order?.statusDisplay\n                  | cxTranslate\n              }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-total\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.total' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n            >\n              {{ approval.order?.totalPrice?.formattedValue }}</a\n            >\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- Select Form and Pagination Bottom -->\n    <div class=\"cx-order-approval-sort bottom row\">\n      <div\n        class=\"\n          cx-order-approval-form-group\n          form-group\n          col-sm-12 col-md-4 col-lg-4\n        \"\n      >\n        <cx-sorting\n          [sortOptions]=\"orderApprovals.sorts\"\n          [sortLabels]=\"sortLabels$ | async\"\n          (sortListEvent)=\"changeSortCode($event)\"\n          [selectedOption]=\"orderApprovals.pagination.sort\"\n        ></cx-sorting>\n      </div>\n      <div class=\"cx-order-approval-pagination\">\n        <cx-pagination\n          [pagination]=\"orderApprovals.pagination\"\n          (viewPageEvent)=\"pageChange($event)\"\n        ></cx-pagination>\n      </div>\n    </div>\n  </ng-container>\n\n  <!-- NO ORDER CONTAINER -->\n  <ng-template #noOrder>\n    <div class=\"cx-order-approval-no-order row\">\n      <div class=\"col-sm-12 col-md-6 col-lg-4\">\n        <div>{{ 'orderApprovalList.emptyList' | cxTranslate }}</div>\n      </div>\n    </div>\n  </ng-template>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i4.RouterLinkWithHref, selector: "a[routerLink],area[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "component", type: i5.SortingComponent, selector: "cx-sorting", inputs: ["sortOptions", "ariaControls", "ariaLabel", "selectedOption", "placeholder", "sortLabels"], outputs: ["sortListEvent"] }, { kind: "component", type: i5.PaginationComponent, selector: "cx-pagination", inputs: ["pageRoute", "queryParam", "defaultPage", "pagination"], outputs: ["viewPageEvent"] }, { kind: "pipe", type: i3.AsyncPipe, name: "async" }, { kind: "pipe", type: i1.UrlPipe, name: "cxUrl" }, { kind: "pipe", type: i1.TranslatePipe, name: "cxTranslate" }, { kind: "pipe", type: i1.CxDatePipe, name: "cxDate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: OrderApprovalListComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-order-approval-list', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-container *ngIf=\"orderApprovals$ | async as orderApprovals\">\n  <ng-container\n    *ngIf=\"\n      orderApprovals.pagination &&\n        orderApprovals.pagination.totalResults &&\n        orderApprovals.pagination.totalResults > 0;\n      else noOrder\n    \"\n  >\n    <!-- Select Form and Pagination Top -->\n    <div class=\"cx-order-approval-sort top row\">\n      <div\n        class=\"\n          cx-order-approval-form-group\n          form-group\n          col-sm-12 col-md-4 col-lg-4\n        \"\n      >\n        <cx-sorting\n          [sortOptions]=\"orderApprovals.sorts\"\n          [sortLabels]=\"sortLabels$ | async\"\n          (sortListEvent)=\"changeSortCode($event)\"\n          [selectedOption]=\"orderApprovals.pagination.sort\"\n          [ariaLabel]=\"'orderHistory.sortOrders' | cxTranslate\"\n          ariaControls=\"order-approval-table\"\n        ></cx-sorting>\n      </div>\n      <div class=\"cx-order-approval-pagination\">\n        <cx-pagination\n          [pagination]=\"orderApprovals.pagination\"\n          (viewPageEvent)=\"pageChange($event)\"\n        ></cx-pagination>\n      </div>\n    </div>\n    <!-- TABLE -->\n    <table id=\"order-approval-table\" class=\"table cx-order-approval-table\">\n      <thead class=\"cx-order-approval-thead-mobile\">\n        <th scope=\"col\">\n          {{ 'orderApprovalList.orderCode' | cxTranslate }}\n        </th>\n        <th scope=\"col\">{{ 'orderApprovalList.POCode' | cxTranslate }}</th>\n        <th scope=\"col\">{{ 'orderApprovalList.placedBy' | cxTranslate }}</th>\n        <th scope=\"col\">{{ 'orderApprovalList.date' | cxTranslate }}</th>\n        <th scope=\"col\">\n          {{ 'orderApprovalList.status' | cxTranslate }}\n        </th>\n        <th scope=\"col\">{{ 'orderApprovalList.total' | cxTranslate }}</th>\n      </thead>\n      <tbody>\n        <tr\n          *ngFor=\"let approval of orderApprovals.values\"\n          (click)=\"goToApprovalDetails($event, approval)\"\n        >\n          <td class=\"cx-order-approval-code\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.orderCode' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n            >\n              {{ approval.order?.code }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-po-code\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.POCode' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n              >{{\n                approval.order?.purchaseOrderNumber ||\n                  ('orderApprovalList.none' | cxTranslate)\n              }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-placed\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.placedBy' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n              >{{ approval.order?.orgCustomer?.name }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-date\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.date' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n              >{{ approval.order?.created | cxDate: 'longDate' }}</a\n            >\n          </td>\n\n          <td class=\"cx-order-approval-status\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.status' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n            >\n              {{\n                'orderDetails.statusDisplay_' + approval.order?.statusDisplay\n                  | cxTranslate\n              }}</a\n            >\n          </td>\n          <td class=\"cx-order-approval-total\">\n            <div class=\"d-md-none cx-order-approval-label\">\n              {{ 'orderApprovalList.total' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'orderApprovalDetails',\n                  params: { approvalCode: approval?.code }\n                } | cxUrl\n              \"\n              class=\"cx-order-approval-value\"\n            >\n              {{ approval.order?.totalPrice?.formattedValue }}</a\n            >\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- Select Form and Pagination Bottom -->\n    <div class=\"cx-order-approval-sort bottom row\">\n      <div\n        class=\"\n          cx-order-approval-form-group\n          form-group\n          col-sm-12 col-md-4 col-lg-4\n        \"\n      >\n        <cx-sorting\n          [sortOptions]=\"orderApprovals.sorts\"\n          [sortLabels]=\"sortLabels$ | async\"\n          (sortListEvent)=\"changeSortCode($event)\"\n          [selectedOption]=\"orderApprovals.pagination.sort\"\n        ></cx-sorting>\n      </div>\n      <div class=\"cx-order-approval-pagination\">\n        <cx-pagination\n          [pagination]=\"orderApprovals.pagination\"\n          (viewPageEvent)=\"pageChange($event)\"\n        ></cx-pagination>\n      </div>\n    </div>\n  </ng-container>\n\n  <!-- NO ORDER CONTAINER -->\n  <ng-template #noOrder>\n    <div class=\"cx-order-approval-no-order row\">\n      <div class=\"col-sm-12 col-md-6 col-lg-4\">\n        <div>{{ 'orderApprovalList.emptyList' | cxTranslate }}</div>\n      </div>\n    </div>\n  </ng-template>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.RoutingService }, { type: i2.OrderApprovalService }, { type: i1.TranslationService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JkZXItYXBwcm92YWwtbGlzdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JnYW5pemF0aW9uL29yZGVyLWFwcHJvdmFsL2NvbXBvbmVudHMvbGlzdC9vcmRlci1hcHByb3ZhbC1saXN0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9vcmdhbml6YXRpb24vb3JkZXItYXBwcm92YWwvY29tcG9uZW50cy9saXN0L29yZGVyLWFwcHJvdmFsLWxpc3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFPM0UsT0FBTyxFQUFFLGFBQWEsRUFBYyxNQUFNLE1BQU0sQ0FBQztBQUNqRCxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7QUFTckMsTUFBTSxPQUFPLDBCQUEwQjtJQUNyQyxZQUNZLE9BQXVCLEVBQ3ZCLG9CQUEwQyxFQUMxQyxXQUErQjtRQUYvQixZQUFPLEdBQVAsT0FBTyxDQUFnQjtRQUN2Qix5QkFBb0IsR0FBcEIsb0JBQW9CLENBQXNCO1FBQzFDLGdCQUFXLEdBQVgsV0FBVyxDQUFvQjtRQUlqQyxjQUFTLEdBQUcsQ0FBQyxDQUFDO0lBSHJCLENBQUM7SUFRSixRQUFRO1FBQ04sSUFBSSxDQUFDLHFCQUFxQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxXQUFXLEdBQUcsYUFBYSxDQUFDO1lBQy9CLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQztZQUMxQyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxxQkFBcUIsQ0FBQztTQUNsRCxDQUFDLENBQUMsSUFBSSxDQUNMLEdBQUcsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLGlCQUFpQixDQUFDLEVBQUUsRUFBRTtZQUN0QyxPQUFPO2dCQUNMLE1BQU0sRUFBRSxVQUFVO2dCQUNsQixhQUFhLEVBQUUsaUJBQWlCO2FBQ2pDLENBQUM7UUFDSixDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVELGNBQWMsQ0FBQyxRQUFnQjtRQUM3QixNQUFNLFdBQVcsR0FBaUI7WUFDaEMsSUFBSSxFQUFFLFFBQVE7WUFDZCxXQUFXLEVBQUUsQ0FBQztTQUNmLENBQUM7UUFDRixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFZO1FBQ3JCLE1BQU0sV0FBVyxHQUFpQjtZQUNoQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFFBQVE7WUFDbkIsV0FBVyxFQUFFLElBQUk7U0FDbEIsQ0FBQztRQUNGLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRVMscUJBQXFCLENBQUMsWUFBMEI7UUFDeEQsWUFBWSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVELG1CQUFtQixDQUFDLEtBQVUsRUFBRSxhQUE0QjtRQUMxRCxJQUFJLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxLQUFLLEdBQUcsRUFBRTtZQUNqRCxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztnQkFDZCxPQUFPLEVBQUUsc0JBQXNCO2dCQUMvQixNQUFNLEVBQUUsRUFBRSxZQUFZLEVBQUUsYUFBYSxDQUFDLElBQUksRUFBRTthQUM3QyxDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7O3VIQTFEVSwwQkFBMEI7MkdBQTFCLDBCQUEwQiw4REN2QnZDLHVqTkE4TEE7MkZEdkthLDBCQUEwQjtrQkFMdEMsU0FBUzsrQkFDRSx3QkFBd0IsbUJBRWpCLHVCQUF1QixDQUFDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMiBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEVudGl0aWVzTW9kZWwsXG4gIFJvdXRpbmdTZXJ2aWNlLFxuICBTZWFyY2hDb25maWcsXG4gIFRyYW5zbGF0aW9uU2VydmljZSxcbn0gZnJvbSAnQHNwYXJ0YWN1cy9jb3JlJztcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE9yZGVyQXBwcm92YWwgfSBmcm9tICcuLi8uLi9jb3JlL21vZGVsL29yZGVyLWFwcHJvdmFsLm1vZGVsJztcbmltcG9ydCB7IE9yZGVyQXBwcm92YWxTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9zZXJ2aWNlcy9vcmRlci1hcHByb3ZhbC5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtb3JkZXItYXBwcm92YWwtbGlzdCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9vcmRlci1hcHByb3ZhbC1saXN0LmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIE9yZGVyQXBwcm92YWxMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHJvdXRpbmc6IFJvdXRpbmdTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBvcmRlckFwcHJvdmFsU2VydmljZTogT3JkZXJBcHByb3ZhbFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHRyYW5zbGF0aW9uOiBUcmFuc2xhdGlvblNlcnZpY2VcbiAgKSB7fVxuXG4gIHNvcnRMYWJlbHMkOiBPYnNlcnZhYmxlPHsgYnlEYXRlOiBzdHJpbmc7IGJ5T3JkZXJOdW1iZXI6IHN0cmluZyB9PjtcbiAgcHJvdGVjdGVkIFBBR0VfU0laRSA9IDU7XG4gIHNvcnRUeXBlOiBzdHJpbmc7XG5cbiAgb3JkZXJBcHByb3ZhbHMkOiBPYnNlcnZhYmxlPEVudGl0aWVzTW9kZWw8T3JkZXJBcHByb3ZhbD4gfCB1bmRlZmluZWQ+O1xuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZmV0Y2hBcHByb3ZhbExpc3RQYWdlKHt9KTtcbiAgICB0aGlzLnNvcnRMYWJlbHMkID0gY29tYmluZUxhdGVzdChbXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgnc29ydGluZy5kYXRlJyksXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgnc29ydGluZy5vcmRlck51bWJlcicpLFxuICAgIF0pLnBpcGUoXG4gICAgICBtYXAoKFt0ZXh0QnlEYXRlLCB0ZXh0QnlPcmRlck51bWJlcl0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBieURhdGU6IHRleHRCeURhdGUsXG4gICAgICAgICAgYnlPcmRlck51bWJlcjogdGV4dEJ5T3JkZXJOdW1iZXIsXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjaGFuZ2VTb3J0Q29kZShzb3J0Q29kZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgZmV0Y2hQYXJhbXM6IFNlYXJjaENvbmZpZyA9IHtcbiAgICAgIHNvcnQ6IHNvcnRDb2RlLFxuICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgfTtcbiAgICB0aGlzLnNvcnRUeXBlID0gc29ydENvZGU7XG4gICAgdGhpcy5mZXRjaEFwcHJvdmFsTGlzdFBhZ2UoZmV0Y2hQYXJhbXMpO1xuICB9XG5cbiAgcGFnZUNoYW5nZShwYWdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBmZXRjaFBhcmFtczogU2VhcmNoQ29uZmlnID0ge1xuICAgICAgc29ydDogdGhpcy5zb3J0VHlwZSxcbiAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgIH07XG4gICAgdGhpcy5mZXRjaEFwcHJvdmFsTGlzdFBhZ2UoZmV0Y2hQYXJhbXMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGZldGNoQXBwcm92YWxMaXN0UGFnZShzZWFyY2hDb25maWc6IFNlYXJjaENvbmZpZyk6IHZvaWQge1xuICAgIHNlYXJjaENvbmZpZy5wYWdlU2l6ZSA9IHRoaXMuUEFHRV9TSVpFO1xuICAgIHRoaXMub3JkZXJBcHByb3ZhbFNlcnZpY2UubG9hZE9yZGVyQXBwcm92YWxzKHNlYXJjaENvbmZpZyk7XG4gICAgdGhpcy5vcmRlckFwcHJvdmFscyQgPSB0aGlzLm9yZGVyQXBwcm92YWxTZXJ2aWNlLmdldExpc3Qoc2VhcmNoQ29uZmlnKTtcbiAgfVxuXG4gIGdvVG9BcHByb3ZhbERldGFpbHMoZXZlbnQ6IGFueSwgb3JkZXJBcHByb3ZhbDogT3JkZXJBcHByb3ZhbCk6IHZvaWQge1xuICAgIGlmIChldmVudD8udGFyZ2V0Py5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHtcbiAgICAgIHRoaXMucm91dGluZy5nbyh7XG4gICAgICAgIGN4Um91dGU6ICdvcmRlckFwcHJvdmFsRGV0YWlscycsXG4gICAgICAgIHBhcmFtczogeyBhcHByb3ZhbENvZGU6IG9yZGVyQXBwcm92YWwuY29kZSB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCI8bmctY29udGFpbmVyICpuZ0lmPVwib3JkZXJBcHByb3ZhbHMkIHwgYXN5bmMgYXMgb3JkZXJBcHByb3ZhbHNcIj5cbiAgPG5nLWNvbnRhaW5lclxuICAgICpuZ0lmPVwiXG4gICAgICBvcmRlckFwcHJvdmFscy5wYWdpbmF0aW9uICYmXG4gICAgICAgIG9yZGVyQXBwcm92YWxzLnBhZ2luYXRpb24udG90YWxSZXN1bHRzICYmXG4gICAgICAgIG9yZGVyQXBwcm92YWxzLnBhZ2luYXRpb24udG90YWxSZXN1bHRzID4gMDtcbiAgICAgIGVsc2Ugbm9PcmRlclxuICAgIFwiXG4gID5cbiAgICA8IS0tIFNlbGVjdCBGb3JtIGFuZCBQYWdpbmF0aW9uIFRvcCAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY3gtb3JkZXItYXBwcm92YWwtc29ydCB0b3Agcm93XCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwiXG4gICAgICAgICAgY3gtb3JkZXItYXBwcm92YWwtZm9ybS1ncm91cFxuICAgICAgICAgIGZvcm0tZ3JvdXBcbiAgICAgICAgICBjb2wtc20tMTIgY29sLW1kLTQgY29sLWxnLTRcbiAgICAgICAgXCJcbiAgICAgID5cbiAgICAgICAgPGN4LXNvcnRpbmdcbiAgICAgICAgICBbc29ydE9wdGlvbnNdPVwib3JkZXJBcHByb3ZhbHMuc29ydHNcIlxuICAgICAgICAgIFtzb3J0TGFiZWxzXT1cInNvcnRMYWJlbHMkIHwgYXN5bmNcIlxuICAgICAgICAgIChzb3J0TGlzdEV2ZW50KT1cImNoYW5nZVNvcnRDb2RlKCRldmVudClcIlxuICAgICAgICAgIFtzZWxlY3RlZE9wdGlvbl09XCJvcmRlckFwcHJvdmFscy5wYWdpbmF0aW9uLnNvcnRcIlxuICAgICAgICAgIFthcmlhTGFiZWxdPVwiJ29yZGVySGlzdG9yeS5zb3J0T3JkZXJzJyB8IGN4VHJhbnNsYXRlXCJcbiAgICAgICAgICBhcmlhQ29udHJvbHM9XCJvcmRlci1hcHByb3ZhbC10YWJsZVwiXG4gICAgICAgID48L2N4LXNvcnRpbmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1wYWdpbmF0aW9uXCI+XG4gICAgICAgIDxjeC1wYWdpbmF0aW9uXG4gICAgICAgICAgW3BhZ2luYXRpb25dPVwib3JkZXJBcHByb3ZhbHMucGFnaW5hdGlvblwiXG4gICAgICAgICAgKHZpZXdQYWdlRXZlbnQpPVwicGFnZUNoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgPjwvY3gtcGFnaW5hdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDwhLS0gVEFCTEUgLS0+XG4gICAgPHRhYmxlIGlkPVwib3JkZXItYXBwcm92YWwtdGFibGVcIiBjbGFzcz1cInRhYmxlIGN4LW9yZGVyLWFwcHJvdmFsLXRhYmxlXCI+XG4gICAgICA8dGhlYWQgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC10aGVhZC1tb2JpbGVcIj5cbiAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+XG4gICAgICAgICAge3sgJ29yZGVyQXBwcm92YWxMaXN0Lm9yZGVyQ29kZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICA8L3RoPlxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57eyAnb3JkZXJBcHByb3ZhbExpc3QuUE9Db2RlJyB8IGN4VHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3sgJ29yZGVyQXBwcm92YWxMaXN0LnBsYWNlZEJ5JyB8IGN4VHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3sgJ29yZGVyQXBwcm92YWxMaXN0LmRhdGUnIHwgY3hUcmFuc2xhdGUgfX08L3RoPlxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICB7eyAnb3JkZXJBcHByb3ZhbExpc3Quc3RhdHVzJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgIDwvdGg+XG4gICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnt7ICdvcmRlckFwcHJvdmFsTGlzdC50b3RhbCcgfCBjeFRyYW5zbGF0ZSB9fTwvdGg+XG4gICAgICA8L3RoZWFkPlxuICAgICAgPHRib2R5PlxuICAgICAgICA8dHJcbiAgICAgICAgICAqbmdGb3I9XCJsZXQgYXBwcm92YWwgb2Ygb3JkZXJBcHByb3ZhbHMudmFsdWVzXCJcbiAgICAgICAgICAoY2xpY2spPVwiZ29Ub0FwcHJvdmFsRGV0YWlscygkZXZlbnQsIGFwcHJvdmFsKVwiXG4gICAgICAgID5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1jb2RlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1tZC1ub25lIGN4LW9yZGVyLWFwcHJvdmFsLWxhYmVsXCI+XG4gICAgICAgICAgICAgIHt7ICdvcmRlckFwcHJvdmFsTGlzdC5vcmRlckNvZGUnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ29yZGVyQXBwcm92YWxEZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBhcHByb3ZhbENvZGU6IGFwcHJvdmFsPy5jb2RlIH1cbiAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC12YWx1ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IGFwcHJvdmFsLm9yZGVyPy5jb2RlIH19PC9hXG4gICAgICAgICAgICA+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1wby1jb2RlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1tZC1ub25lIGN4LW9yZGVyLWFwcHJvdmFsLWxhYmVsXCI+XG4gICAgICAgICAgICAgIHt7ICdvcmRlckFwcHJvdmFsTGlzdC5QT0NvZGUnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ29yZGVyQXBwcm92YWxEZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBhcHByb3ZhbENvZGU6IGFwcHJvdmFsPy5jb2RlIH1cbiAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC12YWx1ZVwiXG4gICAgICAgICAgICAgID57e1xuICAgICAgICAgICAgICAgIGFwcHJvdmFsLm9yZGVyPy5wdXJjaGFzZU9yZGVyTnVtYmVyIHx8XG4gICAgICAgICAgICAgICAgICAoJ29yZGVyQXBwcm92YWxMaXN0Lm5vbmUnIHwgY3hUcmFuc2xhdGUpXG4gICAgICAgICAgICAgIH19PC9hXG4gICAgICAgICAgICA+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1wbGFjZWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLW1kLW5vbmUgY3gtb3JkZXItYXBwcm92YWwtbGFiZWxcIj5cbiAgICAgICAgICAgICAge3sgJ29yZGVyQXBwcm92YWxMaXN0LnBsYWNlZEJ5JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICdvcmRlckFwcHJvdmFsRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgYXBwcm92YWxDb2RlOiBhcHByb3ZhbD8uY29kZSB9XG4gICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiY3gtb3JkZXItYXBwcm92YWwtdmFsdWVcIlxuICAgICAgICAgICAgICA+e3sgYXBwcm92YWwub3JkZXI/Lm9yZ0N1c3RvbWVyPy5uYW1lIH19PC9hXG4gICAgICAgICAgICA+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1kYXRlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1tZC1ub25lIGN4LW9yZGVyLWFwcHJvdmFsLWxhYmVsXCI+XG4gICAgICAgICAgICAgIHt7ICdvcmRlckFwcHJvdmFsTGlzdC5kYXRlJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICdvcmRlckFwcHJvdmFsRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgYXBwcm92YWxDb2RlOiBhcHByb3ZhbD8uY29kZSB9XG4gICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiY3gtb3JkZXItYXBwcm92YWwtdmFsdWVcIlxuICAgICAgICAgICAgICA+e3sgYXBwcm92YWwub3JkZXI/LmNyZWF0ZWQgfCBjeERhdGU6ICdsb25nRGF0ZScgfX08L2FcbiAgICAgICAgICAgID5cbiAgICAgICAgICA8L3RkPlxuXG4gICAgICAgICAgPHRkIGNsYXNzPVwiY3gtb3JkZXItYXBwcm92YWwtc3RhdHVzXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1tZC1ub25lIGN4LW9yZGVyLWFwcHJvdmFsLWxhYmVsXCI+XG4gICAgICAgICAgICAgIHt7ICdvcmRlckFwcHJvdmFsTGlzdC5zdGF0dXMnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ29yZGVyQXBwcm92YWxEZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogeyBhcHByb3ZhbENvZGU6IGFwcHJvdmFsPy5jb2RlIH1cbiAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC12YWx1ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgJ29yZGVyRGV0YWlscy5zdGF0dXNEaXNwbGF5XycgKyBhcHByb3ZhbC5vcmRlcj8uc3RhdHVzRGlzcGxheVxuICAgICAgICAgICAgICAgICAgfCBjeFRyYW5zbGF0ZVxuICAgICAgICAgICAgICB9fTwvYVxuICAgICAgICAgICAgPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwiY3gtb3JkZXItYXBwcm92YWwtdG90YWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLW1kLW5vbmUgY3gtb3JkZXItYXBwcm92YWwtbGFiZWxcIj5cbiAgICAgICAgICAgICAge3sgJ29yZGVyQXBwcm92YWxMaXN0LnRvdGFsJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICdvcmRlckFwcHJvdmFsRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgYXBwcm92YWxDb2RlOiBhcHByb3ZhbD8uY29kZSB9XG4gICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiY3gtb3JkZXItYXBwcm92YWwtdmFsdWVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7eyBhcHByb3ZhbC5vcmRlcj8udG90YWxQcmljZT8uZm9ybWF0dGVkVmFsdWUgfX08L2FcbiAgICAgICAgICAgID5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuICAgIDwhLS0gU2VsZWN0IEZvcm0gYW5kIFBhZ2luYXRpb24gQm90dG9tIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1zb3J0IGJvdHRvbSByb3dcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJcbiAgICAgICAgICBjeC1vcmRlci1hcHByb3ZhbC1mb3JtLWdyb3VwXG4gICAgICAgICAgZm9ybS1ncm91cFxuICAgICAgICAgIGNvbC1zbS0xMiBjb2wtbWQtNCBjb2wtbGctNFxuICAgICAgICBcIlxuICAgICAgPlxuICAgICAgICA8Y3gtc29ydGluZ1xuICAgICAgICAgIFtzb3J0T3B0aW9uc109XCJvcmRlckFwcHJvdmFscy5zb3J0c1wiXG4gICAgICAgICAgW3NvcnRMYWJlbHNdPVwic29ydExhYmVscyQgfCBhc3luY1wiXG4gICAgICAgICAgKHNvcnRMaXN0RXZlbnQpPVwiY2hhbmdlU29ydENvZGUoJGV2ZW50KVwiXG4gICAgICAgICAgW3NlbGVjdGVkT3B0aW9uXT1cIm9yZGVyQXBwcm92YWxzLnBhZ2luYXRpb24uc29ydFwiXG4gICAgICAgID48L2N4LXNvcnRpbmc+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1wYWdpbmF0aW9uXCI+XG4gICAgICAgIDxjeC1wYWdpbmF0aW9uXG4gICAgICAgICAgW3BhZ2luYXRpb25dPVwib3JkZXJBcHByb3ZhbHMucGFnaW5hdGlvblwiXG4gICAgICAgICAgKHZpZXdQYWdlRXZlbnQpPVwicGFnZUNoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgPjwvY3gtcGFnaW5hdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L25nLWNvbnRhaW5lcj5cblxuICA8IS0tIE5PIE9SREVSIENPTlRBSU5FUiAtLT5cbiAgPG5nLXRlbXBsYXRlICNub09yZGVyPlxuICAgIDxkaXYgY2xhc3M9XCJjeC1vcmRlci1hcHByb3ZhbC1uby1vcmRlciByb3dcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTIgY29sLW1kLTYgY29sLWxnLTRcIj5cbiAgICAgICAgPGRpdj57eyAnb3JkZXJBcHByb3ZhbExpc3QuZW1wdHlMaXN0JyB8IGN4VHJhbnNsYXRlIH19PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cbjwvbmctY29udGFpbmVyPlxuIl19