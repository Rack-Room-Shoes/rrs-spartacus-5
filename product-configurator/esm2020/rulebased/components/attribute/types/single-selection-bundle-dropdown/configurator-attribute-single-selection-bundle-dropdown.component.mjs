/*
 * SPDX-FileCopyrightText: 2022 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, Input, } from '@angular/core';
import { UntypedFormControl } from '@angular/forms';
import { ConfiguratorAttributeSingleSelectionBaseComponent } from '../base/configurator-attribute-single-selection-base.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "../../product-card/configurator-attribute-product-card.component";
import * as i3 from "@angular/forms";
import * as i4 from "@spartacus/storefront";
import * as i5 from "../../quantity/configurator-attribute-quantity.component";
import * as i6 from "../../../price/configurator-price.component";
import * as i7 from "@spartacus/core";
export class ConfiguratorAttributeSingleSelectionBundleDropdownComponent extends ConfiguratorAttributeSingleSelectionBaseComponent {
    constructor() {
        super(...arguments);
        this.attributeDropDownForm = new UntypedFormControl('');
    }
    ngOnInit() {
        this.attributeDropDownForm.setValue(this.attribute.selectedSingleValue);
        const values = this.attribute.values;
        if (values && values.length > 0) {
            const selectedValue = values.find((value) => value.selected);
            if (selectedValue) {
                this.selectionValue = selectedValue;
            }
        }
    }
    /**
     * Extract corresponding product card parameters
     *
     * @return {ConfiguratorAttributeProductCardComponentOptions} - New product card options
     */
    extractProductCardParameters() {
        return {
            hideRemoveButton: true,
            productBoundValue: this.selectionValue,
            singleDropdown: true,
            withQuantity: false,
            loading$: this.loading$,
            attributeId: this.getAttributeCode(this.attribute),
            attributeName: this.attribute.name,
            itemCount: 0,
            itemIndex: 0,
        };
    }
}
ConfiguratorAttributeSingleSelectionBundleDropdownComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: ConfiguratorAttributeSingleSelectionBundleDropdownComponent, deps: null, target: i0.ɵɵFactoryTarget.Component });
ConfiguratorAttributeSingleSelectionBundleDropdownComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.3", type: ConfiguratorAttributeSingleSelectionBundleDropdownComponent, selector: "cx-configurator-attribute-single-selection-bundle-dropdown", inputs: { group: "group" }, usesInheritance: true, ngImport: i0, template: "<div class=\"form-group\" *ngIf=\"attribute?.values?.length\">\n  <label\n    for=\"{{ createAttributeIdForConfigurator(attribute) }}\"\n    class=\"cx-visually-hidden\"\n  >\n    {{\n      'configurator.a11y.listbox'\n        | cxTranslate\n          : {\n              count: attribute.values?.length\n            }\n    }}\n  </label>\n  <select\n    id=\"{{ createAttributeIdForConfigurator(attribute) }}\"\n    class=\"form-control\"\n    [formControl]=\"attributeDropDownForm\"\n    [cxFocus]=\"{ key: attribute.name }\"\n    (change)=\"onSelect(attributeDropDownForm.value)\"\n    [attr.aria-describedby]=\"createAttributeUiKey('label', attribute.name)\"\n  >\n    <option\n      *ngFor=\"let item of attribute.values\"\n      [label]=\"item.valueDisplay\"\n      [selected]=\"item.selected\"\n      [value]=\"item.valueCode\"\n      [attr.aria-label]=\"\n        item.valueCode === '0'\n          ? ('configurator.a11y.forAttribute'\n            | cxTranslate\n              : { value: item.valueDisplay, attribute: attribute.label })\n          : item.valuePrice && item.valuePrice?.value !== 0\n          ? ('configurator.a11y.selectedValueOfAttributeFullWithPrice'\n            | cxTranslate\n              : {\n                  value: item.valueDisplay,\n                  attribute: attribute.label,\n                  price: item.valuePriceTotal.formattedValue\n                })\n          : ('configurator.a11y.selectedValueOfAttributeFull'\n            | cxTranslate\n              : { value: item.valueDisplay, attribute: attribute.label })\n      \"\n      [value]=\"item.valueCode\"\n    >\n      {{ item.valueDisplay }}\n    </option>\n  </select>\n</div>\n\n<cx-configurator-attribute-product-card\n  *ngIf=\"selectionValue?.valueCode !== '0'\"\n  id=\"{{\n    createAttributeValueIdForConfigurator(attribute, selectionValue.valueCode)\n  }}\"\n  (handleDeselect)=\"onSelect('0')\"\n  [productCardOptions]=\"extractProductCardParameters()\"\n>\n</cx-configurator-attribute-product-card>\n\n<div *ngIf=\"withQuantity\" class=\"cx-attribute-level-quantity-price\">\n  <cx-configurator-attribute-quantity\n    (changeQuantity)=\"onChangeQuantity($event, attributeDropDownForm)\"\n    [quantityOptions]=\"extractQuantityParameters(attributeDropDownForm)\"\n  ></cx-configurator-attribute-quantity>\n  <cx-configurator-price\n    [formula]=\"extractPriceFormulaParameters()\"\n  ></cx-configurator-price>\n</div>\n", dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.ConfiguratorAttributeProductCardComponent, selector: "cx-configurator-attribute-product-card", inputs: ["productCardOptions"], outputs: ["handleDeselect", "handleQuantity", "handleSelect"] }, { kind: "directive", type: i3.NgSelectOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i3.ɵNgSelectMultipleOption, selector: "option", inputs: ["ngValue", "value"] }, { kind: "directive", type: i3.SelectControlValueAccessor, selector: "select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]", inputs: ["compareWith"] }, { kind: "directive", type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i4.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { kind: "directive", type: i3.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { kind: "component", type: i5.ConfiguratorAttributeQuantityComponent, selector: "cx-configurator-attribute-quantity", inputs: ["quantityOptions"], outputs: ["changeQuantity"] }, { kind: "component", type: i6.ConfiguratorPriceComponent, selector: "cx-configurator-price", inputs: ["formula"] }, { kind: "pipe", type: i7.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: ConfiguratorAttributeSingleSelectionBundleDropdownComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-configurator-attribute-single-selection-bundle-dropdown', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"form-group\" *ngIf=\"attribute?.values?.length\">\n  <label\n    for=\"{{ createAttributeIdForConfigurator(attribute) }}\"\n    class=\"cx-visually-hidden\"\n  >\n    {{\n      'configurator.a11y.listbox'\n        | cxTranslate\n          : {\n              count: attribute.values?.length\n            }\n    }}\n  </label>\n  <select\n    id=\"{{ createAttributeIdForConfigurator(attribute) }}\"\n    class=\"form-control\"\n    [formControl]=\"attributeDropDownForm\"\n    [cxFocus]=\"{ key: attribute.name }\"\n    (change)=\"onSelect(attributeDropDownForm.value)\"\n    [attr.aria-describedby]=\"createAttributeUiKey('label', attribute.name)\"\n  >\n    <option\n      *ngFor=\"let item of attribute.values\"\n      [label]=\"item.valueDisplay\"\n      [selected]=\"item.selected\"\n      [value]=\"item.valueCode\"\n      [attr.aria-label]=\"\n        item.valueCode === '0'\n          ? ('configurator.a11y.forAttribute'\n            | cxTranslate\n              : { value: item.valueDisplay, attribute: attribute.label })\n          : item.valuePrice && item.valuePrice?.value !== 0\n          ? ('configurator.a11y.selectedValueOfAttributeFullWithPrice'\n            | cxTranslate\n              : {\n                  value: item.valueDisplay,\n                  attribute: attribute.label,\n                  price: item.valuePriceTotal.formattedValue\n                })\n          : ('configurator.a11y.selectedValueOfAttributeFull'\n            | cxTranslate\n              : { value: item.valueDisplay, attribute: attribute.label })\n      \"\n      [value]=\"item.valueCode\"\n    >\n      {{ item.valueDisplay }}\n    </option>\n  </select>\n</div>\n\n<cx-configurator-attribute-product-card\n  *ngIf=\"selectionValue?.valueCode !== '0'\"\n  id=\"{{\n    createAttributeValueIdForConfigurator(attribute, selectionValue.valueCode)\n  }}\"\n  (handleDeselect)=\"onSelect('0')\"\n  [productCardOptions]=\"extractProductCardParameters()\"\n>\n</cx-configurator-attribute-product-card>\n\n<div *ngIf=\"withQuantity\" class=\"cx-attribute-level-quantity-price\">\n  <cx-configurator-attribute-quantity\n    (changeQuantity)=\"onChangeQuantity($event, attributeDropDownForm)\"\n    [quantityOptions]=\"extractQuantityParameters(attributeDropDownForm)\"\n  ></cx-configurator-attribute-quantity>\n  <cx-configurator-price\n    [formula]=\"extractPriceFormulaParameters()\"\n  ></cx-configurator-price>\n</div>\n" }]
        }], propDecorators: { group: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdG9yLWF0dHJpYnV0ZS1zaW5nbGUtc2VsZWN0aW9uLWJ1bmRsZS1kcm9wZG93bi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvcHJvZHVjdC1jb25maWd1cmF0b3IvcnVsZWJhc2VkL2NvbXBvbmVudHMvYXR0cmlidXRlL3R5cGVzL3NpbmdsZS1zZWxlY3Rpb24tYnVuZGxlLWRyb3Bkb3duL2NvbmZpZ3VyYXRvci1hdHRyaWJ1dGUtc2luZ2xlLXNlbGVjdGlvbi1idW5kbGUtZHJvcGRvd24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL2F0dHJpYnV0ZS90eXBlcy9zaW5nbGUtc2VsZWN0aW9uLWJ1bmRsZS1kcm9wZG93bi9jb25maWd1cmF0b3ItYXR0cmlidXRlLXNpbmdsZS1zZWxlY3Rpb24tYnVuZGxlLWRyb3Bkb3duLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxLQUFLLEdBRU4sTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFHcEQsT0FBTyxFQUFFLGlEQUFpRCxFQUFFLE1BQU0sZ0VBQWdFLENBQUM7Ozs7Ozs7OztBQVFuSSxNQUFNLE9BQU8sMkRBQ1gsU0FBUSxpREFBaUQ7SUFQM0Q7O1FBVUUsMEJBQXFCLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQW1DcEQ7SUE5QkMsUUFBUTtRQUNOLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRXhFLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQ3JDLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9CLE1BQU0sYUFBYSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM3RCxJQUFJLGFBQWEsRUFBRTtnQkFDakIsSUFBSSxDQUFDLGNBQWMsR0FBRyxhQUFhLENBQUM7YUFDckM7U0FDRjtJQUNILENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsNEJBQTRCO1FBQzFCLE9BQU87WUFDTCxnQkFBZ0IsRUFBRSxJQUFJO1lBQ3RCLGlCQUFpQixFQUFFLElBQUksQ0FBQyxjQUFjO1lBQ3RDLGNBQWMsRUFBRSxJQUFJO1lBQ3BCLFlBQVksRUFBRSxLQUFLO1lBQ25CLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtZQUN2QixXQUFXLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDbEQsYUFBYSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSTtZQUNsQyxTQUFTLEVBQUUsQ0FBQztZQUNaLFNBQVMsRUFBRSxDQUFDO1NBQ2IsQ0FBQztJQUNKLENBQUM7O3dKQXRDVSwyREFBMkQ7NElBQTNELDJEQUEyRCxxSkN2QnhFLG00RUFxRUE7MkZEOUNhLDJEQUEyRDtrQkFOdkUsU0FBUzsrQkFDRSw0REFBNEQsbUJBR3JELHVCQUF1QixDQUFDLE1BQU07OEJBU3RDLEtBQUs7c0JBQWIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIyIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb21wb25lbnQsXG4gIElucHV0LFxuICBPbkluaXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVW50eXBlZEZvcm1Db250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS9tb2RlbC9jb25maWd1cmF0b3IubW9kZWwnO1xuaW1wb3J0IHsgQ29uZmlndXJhdG9yQXR0cmlidXRlUHJvZHVjdENhcmRDb21wb25lbnRPcHRpb25zIH0gZnJvbSAnLi4vLi4vcHJvZHVjdC1jYXJkL2NvbmZpZ3VyYXRvci1hdHRyaWJ1dGUtcHJvZHVjdC1jYXJkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb25maWd1cmF0b3JBdHRyaWJ1dGVTaW5nbGVTZWxlY3Rpb25CYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9jb25maWd1cmF0b3ItYXR0cmlidXRlLXNpbmdsZS1zZWxlY3Rpb24tYmFzZS5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1jb25maWd1cmF0b3ItYXR0cmlidXRlLXNpbmdsZS1zZWxlY3Rpb24tYnVuZGxlLWRyb3Bkb3duJyxcbiAgdGVtcGxhdGVVcmw6XG4gICAgJy4vY29uZmlndXJhdG9yLWF0dHJpYnV0ZS1zaW5nbGUtc2VsZWN0aW9uLWJ1bmRsZS1kcm9wZG93bi5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0b3JBdHRyaWJ1dGVTaW5nbGVTZWxlY3Rpb25CdW5kbGVEcm9wZG93bkNvbXBvbmVudFxuICBleHRlbmRzIENvbmZpZ3VyYXRvckF0dHJpYnV0ZVNpbmdsZVNlbGVjdGlvbkJhc2VDb21wb25lbnRcbiAgaW1wbGVtZW50cyBPbkluaXRcbntcbiAgYXR0cmlidXRlRHJvcERvd25Gb3JtID0gbmV3IFVudHlwZWRGb3JtQ29udHJvbCgnJyk7XG4gIHNlbGVjdGlvblZhbHVlOiBDb25maWd1cmF0b3IuVmFsdWU7XG5cbiAgQElucHV0KCkgZ3JvdXA6IHN0cmluZztcblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZURyb3BEb3duRm9ybS5zZXRWYWx1ZSh0aGlzLmF0dHJpYnV0ZS5zZWxlY3RlZFNpbmdsZVZhbHVlKTtcblxuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuYXR0cmlidXRlLnZhbHVlcztcbiAgICBpZiAodmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gdmFsdWVzLmZpbmQoKHZhbHVlKSA9PiB2YWx1ZS5zZWxlY3RlZCk7XG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblZhbHVlID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCBjb3JyZXNwb25kaW5nIHByb2R1Y3QgY2FyZCBwYXJhbWV0ZXJzXG4gICAqXG4gICAqIEByZXR1cm4ge0NvbmZpZ3VyYXRvckF0dHJpYnV0ZVByb2R1Y3RDYXJkQ29tcG9uZW50T3B0aW9uc30gLSBOZXcgcHJvZHVjdCBjYXJkIG9wdGlvbnNcbiAgICovXG4gIGV4dHJhY3RQcm9kdWN0Q2FyZFBhcmFtZXRlcnMoKTogQ29uZmlndXJhdG9yQXR0cmlidXRlUHJvZHVjdENhcmRDb21wb25lbnRPcHRpb25zIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZVJlbW92ZUJ1dHRvbjogdHJ1ZSxcbiAgICAgIHByb2R1Y3RCb3VuZFZhbHVlOiB0aGlzLnNlbGVjdGlvblZhbHVlLFxuICAgICAgc2luZ2xlRHJvcGRvd246IHRydWUsXG4gICAgICB3aXRoUXVhbnRpdHk6IGZhbHNlLFxuICAgICAgbG9hZGluZyQ6IHRoaXMubG9hZGluZyQsXG4gICAgICBhdHRyaWJ1dGVJZDogdGhpcy5nZXRBdHRyaWJ1dGVDb2RlKHRoaXMuYXR0cmlidXRlKSxcbiAgICAgIGF0dHJpYnV0ZU5hbWU6IHRoaXMuYXR0cmlidXRlLm5hbWUsXG4gICAgICBpdGVtQ291bnQ6IDAsXG4gICAgICBpdGVtSW5kZXg6IDAsXG4gICAgfTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiAqbmdJZj1cImF0dHJpYnV0ZT8udmFsdWVzPy5sZW5ndGhcIj5cbiAgPGxhYmVsXG4gICAgZm9yPVwie3sgY3JlYXRlQXR0cmlidXRlSWRGb3JDb25maWd1cmF0b3IoYXR0cmlidXRlKSB9fVwiXG4gICAgY2xhc3M9XCJjeC12aXN1YWxseS1oaWRkZW5cIlxuICA+XG4gICAge3tcbiAgICAgICdjb25maWd1cmF0b3IuYTExeS5saXN0Ym94J1xuICAgICAgICB8IGN4VHJhbnNsYXRlXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGNvdW50OiBhdHRyaWJ1dGUudmFsdWVzPy5sZW5ndGhcbiAgICAgICAgICAgIH1cbiAgICB9fVxuICA8L2xhYmVsPlxuICA8c2VsZWN0XG4gICAgaWQ9XCJ7eyBjcmVhdGVBdHRyaWJ1dGVJZEZvckNvbmZpZ3VyYXRvcihhdHRyaWJ1dGUpIH19XCJcbiAgICBjbGFzcz1cImZvcm0tY29udHJvbFwiXG4gICAgW2Zvcm1Db250cm9sXT1cImF0dHJpYnV0ZURyb3BEb3duRm9ybVwiXG4gICAgW2N4Rm9jdXNdPVwieyBrZXk6IGF0dHJpYnV0ZS5uYW1lIH1cIlxuICAgIChjaGFuZ2UpPVwib25TZWxlY3QoYXR0cmlidXRlRHJvcERvd25Gb3JtLnZhbHVlKVwiXG4gICAgW2F0dHIuYXJpYS1kZXNjcmliZWRieV09XCJjcmVhdGVBdHRyaWJ1dGVVaUtleSgnbGFiZWwnLCBhdHRyaWJ1dGUubmFtZSlcIlxuICA+XG4gICAgPG9wdGlvblxuICAgICAgKm5nRm9yPVwibGV0IGl0ZW0gb2YgYXR0cmlidXRlLnZhbHVlc1wiXG4gICAgICBbbGFiZWxdPVwiaXRlbS52YWx1ZURpc3BsYXlcIlxuICAgICAgW3NlbGVjdGVkXT1cIml0ZW0uc2VsZWN0ZWRcIlxuICAgICAgW3ZhbHVlXT1cIml0ZW0udmFsdWVDb2RlXCJcbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiXG4gICAgICAgIGl0ZW0udmFsdWVDb2RlID09PSAnMCdcbiAgICAgICAgICA/ICgnY29uZmlndXJhdG9yLmExMXkuZm9yQXR0cmlidXRlJ1xuICAgICAgICAgICAgfCBjeFRyYW5zbGF0ZVxuICAgICAgICAgICAgICA6IHsgdmFsdWU6IGl0ZW0udmFsdWVEaXNwbGF5LCBhdHRyaWJ1dGU6IGF0dHJpYnV0ZS5sYWJlbCB9KVxuICAgICAgICAgIDogaXRlbS52YWx1ZVByaWNlICYmIGl0ZW0udmFsdWVQcmljZT8udmFsdWUgIT09IDBcbiAgICAgICAgICA/ICgnY29uZmlndXJhdG9yLmExMXkuc2VsZWN0ZWRWYWx1ZU9mQXR0cmlidXRlRnVsbFdpdGhQcmljZSdcbiAgICAgICAgICAgIHwgY3hUcmFuc2xhdGVcbiAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZURpc3BsYXksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgIHByaWNlOiBpdGVtLnZhbHVlUHJpY2VUb3RhbC5mb3JtYXR0ZWRWYWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiAoJ2NvbmZpZ3VyYXRvci5hMTF5LnNlbGVjdGVkVmFsdWVPZkF0dHJpYnV0ZUZ1bGwnXG4gICAgICAgICAgICB8IGN4VHJhbnNsYXRlXG4gICAgICAgICAgICAgIDogeyB2YWx1ZTogaXRlbS52YWx1ZURpc3BsYXksIGF0dHJpYnV0ZTogYXR0cmlidXRlLmxhYmVsIH0pXG4gICAgICBcIlxuICAgICAgW3ZhbHVlXT1cIml0ZW0udmFsdWVDb2RlXCJcbiAgICA+XG4gICAgICB7eyBpdGVtLnZhbHVlRGlzcGxheSB9fVxuICAgIDwvb3B0aW9uPlxuICA8L3NlbGVjdD5cbjwvZGl2PlxuXG48Y3gtY29uZmlndXJhdG9yLWF0dHJpYnV0ZS1wcm9kdWN0LWNhcmRcbiAgKm5nSWY9XCJzZWxlY3Rpb25WYWx1ZT8udmFsdWVDb2RlICE9PSAnMCdcIlxuICBpZD1cInt7XG4gICAgY3JlYXRlQXR0cmlidXRlVmFsdWVJZEZvckNvbmZpZ3VyYXRvcihhdHRyaWJ1dGUsIHNlbGVjdGlvblZhbHVlLnZhbHVlQ29kZSlcbiAgfX1cIlxuICAoaGFuZGxlRGVzZWxlY3QpPVwib25TZWxlY3QoJzAnKVwiXG4gIFtwcm9kdWN0Q2FyZE9wdGlvbnNdPVwiZXh0cmFjdFByb2R1Y3RDYXJkUGFyYW1ldGVycygpXCJcbj5cbjwvY3gtY29uZmlndXJhdG9yLWF0dHJpYnV0ZS1wcm9kdWN0LWNhcmQ+XG5cbjxkaXYgKm5nSWY9XCJ3aXRoUXVhbnRpdHlcIiBjbGFzcz1cImN4LWF0dHJpYnV0ZS1sZXZlbC1xdWFudGl0eS1wcmljZVwiPlxuICA8Y3gtY29uZmlndXJhdG9yLWF0dHJpYnV0ZS1xdWFudGl0eVxuICAgIChjaGFuZ2VRdWFudGl0eSk9XCJvbkNoYW5nZVF1YW50aXR5KCRldmVudCwgYXR0cmlidXRlRHJvcERvd25Gb3JtKVwiXG4gICAgW3F1YW50aXR5T3B0aW9uc109XCJleHRyYWN0UXVhbnRpdHlQYXJhbWV0ZXJzKGF0dHJpYnV0ZURyb3BEb3duRm9ybSlcIlxuICA+PC9jeC1jb25maWd1cmF0b3ItYXR0cmlidXRlLXF1YW50aXR5PlxuICA8Y3gtY29uZmlndXJhdG9yLXByaWNlXG4gICAgW2Zvcm11bGFdPVwiZXh0cmFjdFByaWNlRm9ybXVsYVBhcmFtZXRlcnMoKVwiXG4gID48L2N4LWNvbmZpZ3VyYXRvci1wcmljZT5cbjwvZGl2PlxuIl19