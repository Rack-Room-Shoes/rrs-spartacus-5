import { Component } from '@angular/core';
import { CommonConfigurator, } from '@spartacus/product-configurator/common';
import { BREAKPOINT } from '@spartacus/storefront';
import { map, switchMap, take } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/core";
import * as i2 from "@spartacus/product-configurator/common";
import * as i3 from "../../core/facade/configurator-commons.service";
import * as i4 from "@spartacus/storefront";
import * as i5 from "@angular/common";
export class ConfiguratorExitButtonComponent {
    constructor(productService, routingService, configRouterExtractorService, configuratorCommonsService, breakpointService, windowRef, location) {
        this.productService = productService;
        this.routingService = routingService;
        this.configRouterExtractorService = configRouterExtractorService;
        this.configuratorCommonsService = configuratorCommonsService;
        this.breakpointService = breakpointService;
        this.windowRef = windowRef;
        this.location = location;
        this.container$ = this.configRouterExtractorService.extractRouterData().pipe(switchMap((routerData) => this.configuratorCommonsService
            .getConfiguration(routerData.owner)
            .pipe(map((configuration) => ({ routerData, configuration })))
            .pipe(switchMap((cont) => this.productService.get(cont.configuration.productCode).pipe(map((product) => ({
            routerData: cont.routerData,
            configuration: cont.configuration,
            product,
        })))))));
    }
    navigateToCart() {
        this.routingService.go('cart');
    }
    /**
     * Navigates to the product detail page of the product that is being configured.
     */
    exitConfiguration() {
        this.container$.pipe(take(1)).subscribe((container) => {
            if (container.routerData.owner.type ===
                CommonConfigurator.OwnerType.CART_ENTRY) {
                this.navigateToCart();
            }
            else {
                this.routingService.go({
                    cxRoute: 'product',
                    params: container.product,
                });
            }
        });
    }
    /**
     * Verifies whether the current screen size equals or is larger than breakpoint `BREAKPOINT.md`.
     *
     * @returns {Observable<boolean>} - If the given breakpoint equals or is larger than`BREAKPOINT.md` returns `true`, otherwise `false`.
     */
    isDesktop() {
        return this.breakpointService.isUp(BREAKPOINT.md);
    }
    /**
     * Verifies whether the current screen size equals or is smaller than breakpoint `BREAKPOINT.sm`.
     *
     * @returns {Observable<boolean>} - If the given breakpoint equals or is smaller than`BREAKPOINT.sm` returns `true`, otherwise `false`.
     */
    isMobile() {
        return this.breakpointService.isDown(BREAKPOINT.sm);
    }
}
ConfiguratorExitButtonComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: ConfiguratorExitButtonComponent, deps: [{ token: i1.ProductService }, { token: i1.RoutingService }, { token: i2.ConfiguratorRouterExtractorService }, { token: i3.ConfiguratorCommonsService }, { token: i4.BreakpointService }, { token: i1.WindowRef }, { token: i5.Location }], target: i0.ɵɵFactoryTarget.Component });
ConfiguratorExitButtonComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.3", type: ConfiguratorExitButtonComponent, selector: "cx-configurator-exit-button", ngImport: i0, template: "<ng-container *ngIf=\"container$ | async as container\">\n  <button\n    class=\"cx-config-exit-button\"\n    tabindex=\"0\"\n    (click)=\"exitConfiguration()\"\n  >\n    <ng-container *ngIf=\"!container.routerData.isOwnerCartEntry\">\n      <ng-container *ngIf=\"isDesktop() | async\">\n        {{ 'configurator.button.exit' | cxTranslate }}\n      </ng-container>\n      <ng-container *ngIf=\"isMobile() | async\">\n        {{ 'configurator.button.exitMobile' | cxTranslate }}\n      </ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"container.routerData.isOwnerCartEntry\">\n      <ng-container *ngIf=\"isMobile() | async\">\n        {{ 'configurator.button.cancelConfigurationMobile' | cxTranslate }}\n      </ng-container>\n      <ng-container *ngIf=\"isDesktop() | async\">\n        {{ 'configurator.button.cancelConfiguration' | cxTranslate }}\n      </ng-container>\n    </ng-container>\n  </button>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i5.AsyncPipe, name: "async" }, { kind: "pipe", type: i1.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.3", ngImport: i0, type: ConfiguratorExitButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-configurator-exit-button', template: "<ng-container *ngIf=\"container$ | async as container\">\n  <button\n    class=\"cx-config-exit-button\"\n    tabindex=\"0\"\n    (click)=\"exitConfiguration()\"\n  >\n    <ng-container *ngIf=\"!container.routerData.isOwnerCartEntry\">\n      <ng-container *ngIf=\"isDesktop() | async\">\n        {{ 'configurator.button.exit' | cxTranslate }}\n      </ng-container>\n      <ng-container *ngIf=\"isMobile() | async\">\n        {{ 'configurator.button.exitMobile' | cxTranslate }}\n      </ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"container.routerData.isOwnerCartEntry\">\n      <ng-container *ngIf=\"isMobile() | async\">\n        {{ 'configurator.button.cancelConfigurationMobile' | cxTranslate }}\n      </ng-container>\n      <ng-container *ngIf=\"isDesktop() | async\">\n        {{ 'configurator.button.cancelConfiguration' | cxTranslate }}\n      </ng-container>\n    </ng-container>\n  </button>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ProductService }, { type: i1.RoutingService }, { type: i2.ConfiguratorRouterExtractorService }, { type: i3.ConfiguratorCommonsService }, { type: i4.BreakpointService }, { type: i1.WindowRef }, { type: i5.Location }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdG9yLWV4aXQtYnV0dG9uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9wcm9kdWN0LWNvbmZpZ3VyYXRvci9ydWxlYmFzZWQvY29tcG9uZW50cy9leGl0LWJ1dHRvbi9jb25maWd1cmF0b3ItZXhpdC1idXR0b24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL2V4aXQtYnV0dG9uL2NvbmZpZ3VyYXRvci1leGl0LWJ1dHRvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBTzFDLE9BQU8sRUFDTCxrQkFBa0IsR0FHbkIsTUFBTSx3Q0FBd0MsQ0FBQztBQUNoRCxPQUFPLEVBQUUsVUFBVSxFQUFxQixNQUFNLHVCQUF1QixDQUFDO0FBRXRFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7O0FBUXRELE1BQU0sT0FBTywrQkFBK0I7SUF3QjFDLFlBQ1ksY0FBOEIsRUFDOUIsY0FBOEIsRUFDOUIsNEJBQWdFLEVBQ2hFLDBCQUFzRCxFQUN0RCxpQkFBb0MsRUFDcEMsU0FBb0IsRUFDcEIsUUFBa0I7UUFObEIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUM5QixpQ0FBNEIsR0FBNUIsNEJBQTRCLENBQW9DO1FBQ2hFLCtCQUEwQixHQUExQiwwQkFBMEIsQ0FBNEI7UUFDdEQsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUFtQjtRQUNwQyxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLGFBQVEsR0FBUixRQUFRLENBQVU7UUE5QjlCLGVBQVUsR0FJTCxJQUFJLENBQUMsNEJBQTRCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxJQUFJLENBQzdELFNBQVMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQ3ZCLElBQUksQ0FBQywwQkFBMEI7YUFDNUIsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQzthQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUM3RCxJQUFJLENBQ0gsU0FBUyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FDakIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQzFELEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNoQixVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7WUFDM0IsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO1lBQ2pDLE9BQU87U0FDUixDQUFDLENBQUMsQ0FDSixDQUNGLENBQ0YsQ0FDSixDQUNGLENBQUM7SUFVQyxDQUFDO0lBRU0sY0FBYztRQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBQ0Q7O09BRUc7SUFDSCxpQkFBaUI7UUFDZixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUNwRCxJQUNFLFNBQVMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUk7Z0JBQy9CLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQ3ZDO2dCQUNBLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUN2QjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQztvQkFDckIsT0FBTyxFQUFFLFNBQVM7b0JBQ2xCLE1BQU0sRUFBRSxTQUFTLENBQUMsT0FBTztpQkFDMUIsQ0FBQyxDQUFDO2FBQ0o7UUFDSCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsU0FBUztRQUNQLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxRQUFRO1FBQ04sT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0RCxDQUFDOzs0SEF4RVUsK0JBQStCO2dIQUEvQiwrQkFBK0IsbUVDN0I1QywrNkJBd0JBOzJGREthLCtCQUErQjtrQkFKM0MsU0FBUzsrQkFDRSw2QkFBNkIiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMiBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIFByb2R1Y3QsXG4gIFByb2R1Y3RTZXJ2aWNlLFxuICBSb3V0aW5nU2VydmljZSxcbiAgV2luZG93UmVmLFxufSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xuaW1wb3J0IHtcbiAgQ29tbW9uQ29uZmlndXJhdG9yLFxuICBDb25maWd1cmF0b3JSb3V0ZXIsXG4gIENvbmZpZ3VyYXRvclJvdXRlckV4dHJhY3RvclNlcnZpY2UsXG59IGZyb20gJ0BzcGFydGFjdXMvcHJvZHVjdC1jb25maWd1cmF0b3IvY29tbW9uJztcbmltcG9ydCB7IEJSRUFLUE9JTlQsIEJyZWFrcG9pbnRTZXJ2aWNlIH0gZnJvbSAnQHNwYXJ0YWN1cy9zdG9yZWZyb250JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwLCB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdG9yQ29tbW9uc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL2ZhY2FkZS9jb25maWd1cmF0b3ItY29tbW9ucy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbmZpZ3VyYXRvciB9IGZyb20gJy4uLy4uL2NvcmUvbW9kZWwvY29uZmlndXJhdG9yLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtY29uZmlndXJhdG9yLWV4aXQtYnV0dG9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2NvbmZpZ3VyYXRvci1leGl0LWJ1dHRvbi5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRvckV4aXRCdXR0b25Db21wb25lbnQge1xuICBjb250YWluZXIkOiBPYnNlcnZhYmxlPHtcbiAgICByb3V0ZXJEYXRhOiBDb25maWd1cmF0b3JSb3V0ZXIuRGF0YTtcbiAgICBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0b3IuQ29uZmlndXJhdGlvbjtcbiAgICBwcm9kdWN0OiBQcm9kdWN0IHwgdW5kZWZpbmVkO1xuICB9PiA9IHRoaXMuY29uZmlnUm91dGVyRXh0cmFjdG9yU2VydmljZS5leHRyYWN0Um91dGVyRGF0YSgpLnBpcGUoXG4gICAgc3dpdGNoTWFwKChyb3V0ZXJEYXRhKSA9PlxuICAgICAgdGhpcy5jb25maWd1cmF0b3JDb21tb25zU2VydmljZVxuICAgICAgICAuZ2V0Q29uZmlndXJhdGlvbihyb3V0ZXJEYXRhLm93bmVyKVxuICAgICAgICAucGlwZShtYXAoKGNvbmZpZ3VyYXRpb24pID0+ICh7IHJvdXRlckRhdGEsIGNvbmZpZ3VyYXRpb24gfSkpKVxuICAgICAgICAucGlwZShcbiAgICAgICAgICBzd2l0Y2hNYXAoKGNvbnQpID0+XG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RTZXJ2aWNlLmdldChjb250LmNvbmZpZ3VyYXRpb24ucHJvZHVjdENvZGUpLnBpcGUoXG4gICAgICAgICAgICAgIG1hcCgocHJvZHVjdCkgPT4gKHtcbiAgICAgICAgICAgICAgICByb3V0ZXJEYXRhOiBjb250LnJvdXRlckRhdGEsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhdGlvbjogY29udC5jb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgIHByb2R1Y3QsXG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIClcbiAgKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgcHJvZHVjdFNlcnZpY2U6IFByb2R1Y3RTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCByb3V0aW5nU2VydmljZTogUm91dGluZ1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNvbmZpZ1JvdXRlckV4dHJhY3RvclNlcnZpY2U6IENvbmZpZ3VyYXRvclJvdXRlckV4dHJhY3RvclNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNvbmZpZ3VyYXRvckNvbW1vbnNTZXJ2aWNlOiBDb25maWd1cmF0b3JDb21tb25zU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgYnJlYWtwb2ludFNlcnZpY2U6IEJyZWFrcG9pbnRTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCB3aW5kb3dSZWY6IFdpbmRvd1JlZixcbiAgICBwcm90ZWN0ZWQgbG9jYXRpb246IExvY2F0aW9uXG4gICkge31cblxuICBwcm90ZWN0ZWQgbmF2aWdhdGVUb0NhcnQoKTogdm9pZCB7XG4gICAgdGhpcy5yb3V0aW5nU2VydmljZS5nbygnY2FydCcpO1xuICB9XG4gIC8qKlxuICAgKiBOYXZpZ2F0ZXMgdG8gdGhlIHByb2R1Y3QgZGV0YWlsIHBhZ2Ugb2YgdGhlIHByb2R1Y3QgdGhhdCBpcyBiZWluZyBjb25maWd1cmVkLlxuICAgKi9cbiAgZXhpdENvbmZpZ3VyYXRpb24oKSB7XG4gICAgdGhpcy5jb250YWluZXIkLnBpcGUodGFrZSgxKSkuc3Vic2NyaWJlKChjb250YWluZXIpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgY29udGFpbmVyLnJvdXRlckRhdGEub3duZXIudHlwZSA9PT1cbiAgICAgICAgQ29tbW9uQ29uZmlndXJhdG9yLk93bmVyVHlwZS5DQVJUX0VOVFJZXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0ZVRvQ2FydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yb3V0aW5nU2VydmljZS5nbyh7XG4gICAgICAgICAgY3hSb3V0ZTogJ3Byb2R1Y3QnLFxuICAgICAgICAgIHBhcmFtczogY29udGFpbmVyLnByb2R1Y3QsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWVzIHdoZXRoZXIgdGhlIGN1cnJlbnQgc2NyZWVuIHNpemUgZXF1YWxzIG9yIGlzIGxhcmdlciB0aGFuIGJyZWFrcG9pbnQgYEJSRUFLUE9JTlQubWRgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxib29sZWFuPn0gLSBJZiB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBlcXVhbHMgb3IgaXMgbGFyZ2VyIHRoYW5gQlJFQUtQT0lOVC5tZGAgcmV0dXJucyBgdHJ1ZWAsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgKi9cbiAgaXNEZXNrdG9wKCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmJyZWFrcG9pbnRTZXJ2aWNlLmlzVXAoQlJFQUtQT0lOVC5tZCk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpZXMgd2hldGhlciB0aGUgY3VycmVudCBzY3JlZW4gc2l6ZSBlcXVhbHMgb3IgaXMgc21hbGxlciB0aGFuIGJyZWFrcG9pbnQgYEJSRUFLUE9JTlQuc21gLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxib29sZWFuPn0gLSBJZiB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBlcXVhbHMgb3IgaXMgc21hbGxlciB0aGFuYEJSRUFLUE9JTlQuc21gIHJldHVybnMgYHRydWVgLCBvdGhlcndpc2UgYGZhbHNlYC5cbiAgICovXG4gIGlzTW9iaWxlKCk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmJyZWFrcG9pbnRTZXJ2aWNlLmlzRG93bihCUkVBS1BPSU5ULnNtKTtcbiAgfVxufVxuIiwiPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbnRhaW5lciQgfCBhc3luYyBhcyBjb250YWluZXJcIj5cbiAgPGJ1dHRvblxuICAgIGNsYXNzPVwiY3gtY29uZmlnLWV4aXQtYnV0dG9uXCJcbiAgICB0YWJpbmRleD1cIjBcIlxuICAgIChjbGljayk9XCJleGl0Q29uZmlndXJhdGlvbigpXCJcbiAgPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhY29udGFpbmVyLnJvdXRlckRhdGEuaXNPd25lckNhcnRFbnRyeVwiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzRGVza3RvcCgpIHwgYXN5bmNcIj5cbiAgICAgICAge3sgJ2NvbmZpZ3VyYXRvci5idXR0b24uZXhpdCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXNNb2JpbGUoKSB8IGFzeW5jXCI+XG4gICAgICAgIHt7ICdjb25maWd1cmF0b3IuYnV0dG9uLmV4aXRNb2JpbGUnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvbmctY29udGFpbmVyPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJjb250YWluZXIucm91dGVyRGF0YS5pc093bmVyQ2FydEVudHJ5XCI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaXNNb2JpbGUoKSB8IGFzeW5jXCI+XG4gICAgICAgIHt7ICdjb25maWd1cmF0b3IuYnV0dG9uLmNhbmNlbENvbmZpZ3VyYXRpb25Nb2JpbGUnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzRGVza3RvcCgpIHwgYXN5bmNcIj5cbiAgICAgICAge3sgJ2NvbmZpZ3VyYXRvci5idXR0b24uY2FuY2VsQ29uZmlndXJhdGlvbicgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvYnV0dG9uPlxuPC9uZy1jb250YWluZXI+XG4iXX0=